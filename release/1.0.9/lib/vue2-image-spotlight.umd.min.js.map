{"version":3,"file":"vue2-image-spotlight.umd.min.js","mappings":"CAAA,SAA2CA,EAAMC,GAC1B,kBAAZC,SAA0C,kBAAXC,OACxCA,OAAOD,QAAUD,EAAQG,QAAQ,QACR,oBAAXC,QAAyBA,OAAOC,IAC9CD,OAAO,GAAIJ,GACe,kBAAZC,QACdA,QAAQ,wBAA0BD,EAAQG,QAAQ,QAElDJ,EAAK,wBAA0BC,EAAQD,EAAK,OAC7C,EATD,CASoB,qBAATO,KAAuBA,KAAOC,MAAO,SAASC,GACzD,O,qCCVA,IAAIC,EAAM,CACT,kBAAmB,IACnB,iBAAkB,IAClB,0BAA2B,IAC3B,+BAAgC,KAIjC,SAASC,EAAeC,GACvB,IAAIC,EAAKC,EAAsBF,GAC/B,OAAOG,EAAoBF,EAC5B,CACA,SAASC,EAAsBF,GAC9B,IAAIG,EAAoBC,EAAEN,EAAKE,GAAM,CACpC,IAAIK,EAAI,IAAIC,MAAM,uBAAyBN,EAAM,KAEjD,MADAK,EAAEE,KAAO,mBACHF,CACP,CACA,OAAOP,EAAIE,EACZ,CACAD,EAAeS,KAAO,WACrB,OAAOC,OAAOD,KAAKV,EACpB,EACAC,EAAeW,QAAUR,EACzBX,EAAOD,QAAUS,EACjBA,EAAeE,GAAK,E,8iBCzBpBV,EAAOD,QAAUO,C,GCCbc,EAA2B,CAAC,EAGhC,SAASR,EAAoBS,GAE5B,IAAIC,EAAeF,EAAyBC,GAC5C,QAAqBE,IAAjBD,EACH,OAAOA,EAAavB,QAGrB,IAAIC,EAASoB,EAAyBC,GAAY,CAGjDtB,QAAS,CAAC,GAOX,OAHAyB,EAAoBH,GAAUrB,EAAQA,EAAOD,QAASa,GAG/CZ,EAAOD,OACf,E,WCrBAa,EAAoBa,EAAI,SAAS1B,EAAS2B,GACzC,IAAI,IAAIC,KAAOD,EACXd,EAAoBC,EAAEa,EAAYC,KAASf,EAAoBC,EAAEd,EAAS4B,IAC5ET,OAAOU,eAAe7B,EAAS4B,EAAK,CAAEE,YAAY,EAAMC,IAAKJ,EAAWC,IAG3E,C,eCPAf,EAAoBC,EAAI,SAASkB,EAAKC,GAAQ,OAAOd,OAAOe,UAAUC,eAAeC,KAAKJ,EAAKC,EAAO,C,eCCtGpB,EAAoBwB,EAAI,SAASrC,GACX,qBAAXsC,QAA0BA,OAAOC,aAC1CpB,OAAOU,eAAe7B,EAASsC,OAAOC,YAAa,CAAEC,MAAO,WAE7DrB,OAAOU,eAAe7B,EAAS,aAAc,CAAEwC,OAAO,GACvD,C,eCNA3B,EAAoB4B,EAAI,E,4CCGxB,G,6CAAsB,qBAAXC,OAAwB,CACjC,IAAIC,EAAgBD,OAAOE,SAASD,cAWhCE,EAAMF,GAAiBA,EAAcE,IAAIC,MAAM,2BAC/CD,IACF,IAA0BA,EAAI,GAElC,CAGA,ICtBIE,EAAS,WAAkB,IAAIC,EAAI1C,KAAK2C,EAAGD,EAAIE,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,IAAI,aAAaC,MAAM,CAAC,GAAK,SAAS,CAACH,EAAG,SAAS,CAACE,IAAI,aAAaC,MAAM,CAAC,GAAK,aAAa,MAAQ,MAAM,OAAS,SAASH,EAAG,SAAS,CAACE,IAAI,iBAAiBC,MAAM,CAAC,GAAK,iBAAiB,MAAQ,MAAM,OAAS,SAASH,EAAG,MAAM,CAACE,IAAI,kBAAkBE,YAAY,wBAAwB,CAACJ,EAAG,MAAM,CAACK,YAAY,CAAC,YAAY,QAAQ,cAAc,SAAS,gBAAgB,QAAQ,CAACN,EAAIO,GAAG,IAAIP,EAAIQ,GAAIR,EAAIS,aAAaC,OAAS,GAAKV,EAAIW,gBAAkB,EAAKX,EAAIS,aAAaT,EAAIW,gBAAgBC,KAAO,IAAI,OAAOX,EAAG,MAAM,CAACK,YAAY,CAAC,cAAc,QAAQ,CAACN,EAAIO,GAAGP,EAAIQ,GAAGR,EAAIW,gBAAkB,GAAMX,EAAIS,aAAaC,OAAO,GAAKV,EAAIS,aAAaT,EAAIW,gBAAgBE,YAAYC,OAAOJ,OAAS,EAAKV,EAAIS,aAAaT,EAAIW,gBAAgBE,YAAyB,SAAS,UACh1B,EACIE,EAAkB,G,SCStB,MAAMC,EAAmB,CAACC,EAAOC,EAAQC,EAAOC,EAASC,KACrD,IAAIC,EAAIJ,EAAOR,OACXa,GAAS,EAGb,IAAK,IAAIC,EAAI,EAAGC,EAAIH,EAAI,EAAGE,EAAIF,EAAGG,EAAID,IAAK,CACvC,IAAIE,EAAKC,EAAgBT,EAAOM,GAAGI,EAAGT,EAAOC,GACzCS,EAAKF,EAAgBT,EAAOM,GAAGM,EAAGX,EAAOE,GACzCU,EAAKJ,EAAgBT,EAAOO,GAAGG,EAAGT,EAAOC,GACzCY,EAAKL,EAAgBT,EAAOO,GAAGK,EAAGX,EAAOE,GACzCY,EAAcJ,EAAKZ,EAAMa,IAAQE,EAAKf,EAAMa,GACxCb,EAAMW,GAAKG,EAAKL,IAAOT,EAAMa,EAAID,IAAOG,EAAKH,GAAMH,EACvDO,IAAWV,GAAUA,EAC7B,CACA,OAAOA,CAAM,EAGXI,EAAkB,CAACnC,EAAO2B,EAAOe,IAC5B1C,EAAQ2B,EAAQe,EAErBC,EAAYvB,GACP,MAAQ,KAAWA,KASxBwB,EAAqB,CAACC,EAAQC,KAChC,IAAId,EAAGF,EAAIgB,EAAK5B,OAChB,IAAK2B,EAAQ,OAAOA,EACpB,IAAIE,EAAOC,KAAKC,MAAMD,KAAKE,UAAUL,IACrC,IAAKb,EAAI,EAAmB,kBAATe,GAAqBf,EAAIF,IAAKE,EAC7Ce,EAAOA,EAAKD,EAAKd,IAErB,OAAOe,GASLI,EAAe,CAACC,EAASC,KAC3B,MAAMC,EAAe,IAAIF,GACzB,IAAK,MAAMhE,KAAOiE,EACVA,EAAQ1D,eAAeP,KACnBmE,EAASH,EAAQhE,KAASmE,EAASF,EAAQjE,IAC3CkE,EAAalE,GAAO+D,EAAaC,EAAQhE,GAAMiE,EAAQjE,IAC3B,MAArBkE,EAAalE,KACpBkE,EAAalE,GAAOiE,EAAQjE,KAIxC,OAAOkE,CAAY,EAEjBC,EAAYC,GACPA,GAAwB,kBAATA,IAAsBC,MAAMC,QAAQF,GAG9D,OACIhC,mBACAmB,WACAC,qBACAO,gBC9EJ,MAAMQ,EAAuB,CACzBC,YAAa,IACbC,aAAc,IACdC,eAAgB,kBAChBC,cAAe,GACfC,oBAAoB,EACpBC,oBAAqB,CACjBC,WAAY,UACZC,MAAO,YAIf,OACIR,wBCYJ,GACEvC,KAAM,yBACNgD,MAAO,CAELC,OAAQ,CACNC,KAAMC,OACNC,UAAU,GAGZvD,aAAc,CACZqD,KAAMb,MACNgB,QAAS,IAAM,IAEjBC,UAAW,CACTJ,KAAMb,MACNgB,QAAS,IAAM,IAGjBb,YAAa,CACXU,KAAMK,OACNF,QAAS,KAEXZ,aAAc,CACZS,KAAMK,OACNF,QAAS,KAGXX,eAAgB,CACdQ,KAAMC,OACNE,QAAS,mBAGXV,cAAe,CACbO,KAAMK,OACNF,QAAS,IAEXT,mBAAoB,CAClBM,KAAMM,QACNH,SAAS,GAEXR,oBAAqB,CACnBK,KAAM3F,OACN8F,QAAS,KACA,CACLP,WAAY,UACZC,MAAO,cAKfpB,OACE,MAAO,CACL8B,mBAAoB,KACpBC,IAAK,KACLC,OAAQ,KACRC,QAAS,KAGTrD,MAAO,EACPC,QAAS,EACTC,QAAS,EAGToD,WAAW,EAEX9D,eAAgB,EAEhB+D,eAAgB,CAAC9C,EAAG,EAAGE,EAAG,GAE1B6C,MAAO,KAGPC,eAAgB,KAEpB,EACAC,QAAS,CAEPC,oBAEE,IAAIC,EAAc,EAAMzH,KAAKgH,IAAIU,MAAQ1H,KAAKgH,IAAIW,OAElD,GAAIF,EAAczH,KAAK+G,mBAAmBjB,YAAc9F,KAAK+G,mBAAmBhB,aAAc,CAC7E/F,KAAK+G,mBAAmBjB,YAEvC9F,KAAK6D,MAAQ7D,KAAK+G,mBAAmBjB,YAAc9F,KAAKgH,IAAIU,MAG5D1H,KAAK8D,QAAU,EACf9D,KAAK+D,QAAU,CACjB,KAAO,CACW/D,KAAK+G,mBAAmBhB,aAExC/F,KAAK6D,MAAQ7D,KAAK+G,mBAAmBhB,aAAe/F,KAAKgH,IAAIW,OAG7D3H,KAAK8D,QAAU,EACf9D,KAAK+D,QAAU,CACjB,CACF,EAGA6D,OACE5H,KAAK6H,gBAEL7H,KAAK8H,UAAY9H,KAAK+H,MAAM,cAC5B/H,KAAKgI,cAAgBhI,KAAK+H,MAAM,kBAChC/H,KAAKsH,eAAiBtH,KAAK+H,MAAM,mBACjC/H,KAAKiI,WAAajI,KAAK8H,UAAUI,WAAW,MAC5ClI,KAAKmI,eAAiBnI,KAAKgI,cAAcE,WAAW,MAEpDlI,KAAKgH,IAAM,IAAIoB,MACfpI,KAAKgH,IAAIzE,IAAMvC,KAAKuG,OAEpB,IAAI8B,EAAOrI,KAGXA,KAAKgI,cAAcM,iBAAiB,aAAa7H,IAC/C,IAAI6D,EAAI7D,EAAEqD,QACNU,EAAI/D,EAAEsD,QACVsE,EAAKjB,eAAiB,CAAC9C,IAAGE,KAC1B,IAAI+D,GAAkB,EAClBC,GAAwB,EAC5B,IAAK,IAAItE,EAAI,EAAGA,EAAImE,EAAKzB,UAAUxD,OAAQc,IAEzC,GAAI,mBAAuB,CAACI,IAAGE,KAAI6D,EAAKzB,UAAU1C,GAAImE,EAAKxE,MAAOwE,EAAKvE,QAASuE,EAAKtE,SAAU,CAC7FwE,GAAkB,EAClBC,EAAuBtE,EACvB,KACF,EAGGmE,EAAKlB,WAAaoB,GAErBF,EAAKlB,WAAY,EACjBkB,EAAKhF,eAAiBoF,KAAKC,IAAI,EAAGF,GAClCH,EAAKjB,eAAiB,CAAC9C,IAAGE,KAC1B6D,EAAKM,iBACIN,EAAKlB,WAAaoB,EAEvBF,EAAKhF,iBAAmBmF,IAI1BH,EAAKhF,eAAiBoF,KAAKC,IAAI,EAAGF,GAClCH,EAAKjB,eAAiB,CAAC9C,IAAGE,KAC1B6D,EAAKM,iBAEEN,EAAKlB,YAAcoB,GAE5BF,EAAKlB,WAAY,EACjBkB,EAAKjB,eAAiB,CAAC9C,IAAGE,KAC1B6D,EAAKM,iBACKN,EAAKlB,SAEjB,IAGFnH,KAAKgH,IAAI4B,OAAS,KAChBP,EAAKb,oBACLa,EAAKQ,iBAEL,IAAIC,EAAW9I,KAAKgH,IAAIU,MAAQ1H,KAAK6D,MACjCkF,EAAY/I,KAAKgH,IAAIW,OAAS3H,KAAK6D,MACvCwE,EAAKJ,WAAWe,UAAUX,EAAKrB,IAC3BqB,EAAKvE,QAASuE,EAAKtE,QACnB+E,EAAUC,IACd,IAAAE,WAAS,KACP,IAAI3B,EAAiBe,EAAKN,MAAM,mBAEhCT,EAAe4B,MAAMC,IAAOnJ,KAAK+D,QAAU/D,KAAKgH,IAAIW,OAAS3H,KAAK6D,MAAS,KAC3EyD,EAAe4B,MAAME,KAAO,QAC7B,CAEL,EAEAvB,gBACE7H,KAAK+G,mBAAqB,CACxBjB,YAAa9F,KAAK8F,YAClBC,aAAc/F,KAAK+F,aACnBC,eAAgBhG,KAAKgG,eACrBC,cAAejG,KAAKiG,cACpBC,mBAAoBlG,KAAKkG,mBACzBC,oBAAqBnG,KAAKmG,qBAG5B,eAAmBnG,KAAK+G,mBAAoB,uBAC9C,EAEA8B,iBACE,IAAInB,EAAQ1H,KAAKgH,IAAIU,MAAQ1H,KAAK6D,MAC9B8D,EAAS3H,KAAKgH,IAAIW,OAAS3H,KAAK6D,MAEpC7D,KAAK+H,MAAM,cAAcL,MAAQA,EACjC1H,KAAK+H,MAAM,cAAcJ,OAASA,EAClC3H,KAAK+H,MAAM,kBAAkBL,MAAQA,EACrC1H,KAAK+H,MAAM,kBAAkBJ,OAASA,EAEtC3H,KAAK+H,MAAM,cAAcmB,MAAMxB,MAAQA,EAAQ,KAC/C1H,KAAK+H,MAAM,cAAcmB,MAAMvB,OAASA,EAAS,KAEjD3H,KAAK+H,MAAM,mBAAmBmB,MAAMxB,MAAS1H,KAAKgH,IAAIU,MAAQ1H,KAAK6D,MAAQ,GAAM,KACjF7D,KAAK+H,MAAM,mBAAmBmB,MAAMG,UAAY,OAChDrJ,KAAK+H,MAAM,mBAAmBmB,MAAM9C,WAAapG,KAAK+G,mBAAmBZ,oBAAoBC,WAC7FpG,KAAK+H,MAAM,mBAAmBmB,MAAM7C,MAAQrG,KAAK+G,mBAAmBZ,oBAAoBE,KAC1F,EAMAiD,UAAU1F,EAAQ2F,GAChB,MAAMC,EAAalH,SAASmH,cAAc,UACpCC,EAAUF,EAAWtB,WAAW,MACtCsB,EAAW9B,MAAQ1H,KAAKgI,cAAcN,MACtC8B,EAAW7B,OAAS3H,KAAKgI,cAAcL,OAGvC+B,EAAQC,UAAY3J,KAAK+G,mBAAmBf,eAG5C0D,EAAQE,SAAS,EAAG,EAAG5J,KAAKgH,IAAIU,MAAQ1H,KAAK6D,MAAO7D,KAAKgH,IAAIW,OAAS3H,KAAK6D,OAE3E6F,EAAQC,UAAY,mBAEpBD,EAAQG,yBAA2B,kBACnCH,EAAQI,YACRJ,EAAQK,OAAOnG,EAAO,GAAGU,EAAItE,KAAK6D,MAAOD,EAAO,GAAGY,EAAIxE,KAAK6D,OAC5D,IAAK,IAAIK,EAAI,EAAGA,EAAIN,EAAOR,OAAQc,IACjCwF,EAAQM,OAAOpG,EAAOM,GAAGI,EAAItE,KAAK6D,MAAOD,EAAOM,GAAGM,EAAIxE,KAAK6D,OAE9D6F,EAAQO,YACRP,EAAQQ,OAERR,EAAQI,YACRJ,EAAQS,IAAInK,KAAKoH,eAAe9C,EAAItE,KAAK8D,QAAS9D,KAAKoH,eAAe5C,EAAIxE,KAAK+D,QAC3E0E,KAAKC,IAAI1I,KAAKgH,IAAIU,MAAO1H,KAAKgH,IAAIW,QAAU3H,KAAK6D,MAAQ0F,EAAW,EAAa,EAAVd,KAAK2B,IAChFV,EAAQQ,OAGRlK,KAAKmI,eAAea,UAAUQ,EAAYxJ,KAAK8D,QAAS9D,KAAK+D,QAC/D,EAIA4E,gBAME,GALA3I,KAAKmI,eAAekC,UAAU,EAAG,EAAGrK,KAAKgI,cAAcN,MAAO1H,KAAKgI,cAAcL,QAC7E3H,KAAKqH,OACPiD,cAActK,KAAKqH,OAGjBrH,KAAKmH,UAAW,CAClB,IAAIkB,EAAOrI,KAEPuK,EAAQ9B,KAAK+B,MAAMxK,KAAK+G,mBAAmBd,eAC3CwE,EAAW,EACXC,EAAc,EAClBrC,EAAKsC,kBACL3K,KAAKqH,MAAQuD,aAAY,WAEvB,IAAIrB,EAAYd,KAAKC,IAAI,EAAG,EAAMgC,EAAcH,GAEhDlC,EAAKF,eAAekC,UAAU,EAAG,EAAGhC,EAAKL,cAAcN,MAAOW,EAAKL,cAAcL,QACjFU,EAAKiB,UAAUjB,EAAKzB,UAAUyB,EAAKhF,gBAAiBkG,GAGpDmB,IAEIA,EAAcH,GAChBD,cAAcjC,EAAKhB,MAEvB,GAAGoD,EACL,KAAO,CACL,IAAI1E,EAAe/F,KAAK+D,QAAU/D,KAAKgH,IAAIW,OAAS3H,KAAK6D,MACzD7D,KAAK+H,MAAM,cAAcmB,MAAMvB,OAAS5B,EAAe,IACzD,CAEI/F,KAAKmH,UACPnH,KAAK6K,MAAM,YAAa,CACtBxH,eAAgBrD,KAAKqD,eACrBO,OAAQ5D,KAAK4G,UAAU5G,KAAKqD,gBAC5ByH,SAAU9K,KAAKmD,aAAanD,KAAKqD,kBAGnCrD,KAAK6K,MAAM,cAAe,CAAC,EAE/B,EAEAF,kBAEE,GAAI3K,KAAK+G,mBAAmBb,mBAAoB,CAC9C,IAAImC,EAAOrI,MACX,IAAAiJ,WAAS,KACP,IAAI3B,EAAiBe,EAAKN,MAAM,mBAEhCT,EAAe4B,MAAMC,IAAOnJ,KAAK+D,QAAU/D,KAAKgH,IAAIW,OAAS3H,KAAK6D,MAAS,KAC3EyD,EAAe4B,MAAME,KAAO,MAE5B,MAAM2B,EAAe,EACrB,IAAIhF,EAAesC,EAAKtE,QAAUsE,EAAKrB,IAAIW,OAASU,EAAKxE,MAAQyD,EAAe0D,aAA8B,EAAfD,EAC/F1C,EAAKN,MAAM,cAAcmB,MAAMvB,OAAS5B,EAAe,OAE3D,CACF,GAEFkF,UACEjL,KAAK4H,MACP,EACAsD,SAAU,CAAC,GC5UwH,ICMtH,SAASC,EACtBC,EACA3I,EACAgB,EACA4H,EACAC,EACAC,EACAC,EACAC,GAGA,IAoBIC,EApBAC,EACuB,oBAAlBP,EAA+BA,EAAcO,QAAUP,EAuDhE,GApDI3I,IACFkJ,EAAQlJ,OAASA,EACjBkJ,EAAQlI,gBAAkBA,EAC1BkI,EAAQC,WAAY,GAIlBP,IACFM,EAAQE,YAAa,GAInBN,IACFI,EAAQG,SAAW,UAAYP,GAI7BC,GAEFE,EAAO,SAAUxE,GAEfA,EACEA,GACClH,KAAK+L,QAAU/L,KAAK+L,OAAOC,YAC3BhM,KAAKiM,QAAUjM,KAAKiM,OAAOF,QAAU/L,KAAKiM,OAAOF,OAAOC,WAEtD9E,GAA0C,qBAAxBgF,sBACrBhF,EAAUgF,qBAGRZ,GACFA,EAAaxJ,KAAK9B,KAAMkH,GAGtBA,GAAWA,EAAQiF,uBACrBjF,EAAQiF,sBAAsBC,IAAIZ,EAEtC,EAGAG,EAAQU,aAAeX,GACdJ,IACTI,EAAOD,EACH,WACEH,EAAaxJ,KACX9B,MACC2L,EAAQE,WAAa7L,KAAKiM,OAASjM,MAAMsM,MAAMC,SAASC,WAE7D,EACAlB,GAGFI,EACF,GAAIC,EAAQE,WAAY,CAGtBF,EAAQc,cAAgBf,EAExB,IAAIgB,EAAiBf,EAAQlJ,OAC7BkJ,EAAQlJ,OAAS,SAAkCkK,EAAGzF,GAEpD,OADAwE,EAAK5J,KAAKoF,GACHwF,EAAeC,EAAGzF,EAC3B,CACF,KAAO,CAEL,IAAI0F,EAAWjB,EAAQkB,aACvBlB,EAAQkB,aAAeD,EAAW,GAAGE,OAAOF,EAAUlB,GAAQ,CAACA,EACjE,CAGF,MAAO,CACLhM,QAAS0L,EACTO,QAASA,EAEb,CCvFA,IAAIoB,EAAY,EACd,EACAtK,EACAgB,GACA,EACA,KACA,WACA,MAIF,EAAesJ,EAAiB,QCnB5B,EAAS,WAAkB,IAAIrK,EAAI1C,KAAK2C,EAAGD,EAAIE,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACI,YAAY,QAAQ,CAACJ,EAAG,MAAM,CAACE,IAAI,eAAeE,YAAY,gBAAgB,CAACJ,EAAG,SAAS,CAACE,IAAI,SAASC,MAAM,CAAC,GAAK,SAAS,OAAS,MAAM,MAAQ,WAAWH,EAAG,MAAM,CAACE,IAAI,eAAeG,YAAY,CAAC,OAAS,QAAQ,MAAQ,QAAQ,cAAc,MAAM,WAAa,YAAY,CAACL,EAAG,MAAM,CAACK,YAAY,CAAC,QAAU,QAAQ,CAAGN,EAAIsK,SAAYtK,EAAIuK,QAAulBvK,EAAW,QAAEC,EAAG,MAAM,CAACA,EAAG,yBAAyB,CAACG,MAAM,CAAC,KAAO,WAAWoK,SAAS,CAAC,MAAQ,SAASC,GAAQ,OAAOzK,EAAI0K,QAAQC,MAAM,KAAMC,UAAU,IAAI,CAAC5K,EAAIO,GAAGP,EAAIQ,GAAGR,EAAIqE,mBAAmBwG,YAAYH,SAAS,OAAOzK,EAAG,yBAAyB,CAACG,MAAM,CAAC,KAAO,WAAWoK,SAAS,CAAC,MAAQ,SAASC,GAAQ,OAAOzK,EAAI8K,wBAAwBH,MAAM,KAAMC,UAAU,IAAI,CAAC5K,EAAIO,GAAG,IAAIP,EAAIQ,GAAGR,EAAIqE,mBAAmBwG,YAAYE,UAAU,OAAO9K,EAAG,yBAAyB,CAACuK,SAAS,CAAC,MAAQ,SAASC,GAAQ,OAAOzK,EAAIgL,WAAWL,MAAM,KAAMC,UAAU,IAAI,CAAC5K,EAAIO,GAAGP,EAAIQ,GAAGR,EAAIqE,mBAAmBwG,YAAYG,YAAY,QAAQ,GAAIhL,EAAW,QAAEC,EAAG,MAAM,CAACA,EAAG,yBAAyB,CAACG,MAAM,CAAC,KAAO,WAAWoK,SAAS,CAAC,MAAQ,SAASC,GAAQ,OAAOzK,EAAIiL,cAAcN,MAAM,KAAMC,UAAU,IAAI,CAAC5K,EAAIO,GAAGP,EAAIQ,GAAGR,EAAIqE,mBAAmBwG,YAAYI,eAAe,OAAOhL,EAAG,yBAAyB,CAACG,MAAM,CAAC,KAAO,WAAWoK,SAAS,CAAC,MAAQ,SAASC,GAAQ,OAAOzK,EAAIkL,WAAWP,MAAM,KAAMC,UAAU,IAAI,CAAC5K,EAAIO,GAAGP,EAAIQ,GAAGR,EAAIqE,mBAAmBwG,YAAYK,YAAY,OAAOjL,EAAG,yBAAyB,CAACuK,SAAS,CAAC,MAAQ,SAASC,GAAQ,OAAOzK,EAAImL,aAAaR,MAAM,KAAMC,UAAU,IAAI,CAAC5K,EAAIO,GAAGP,EAAIQ,GAAGR,EAAIqE,mBAAmBwG,YAAYM,cAAc,QAAQ,GAAGnL,EAAIoL,KAA9zDnL,EAAG,MAAM,CAACA,EAAG,yBAAyB,CAACG,MAAM,CAAC,KAAO,WAAWoK,SAAS,CAAC,MAAQ,SAASC,GAAQ,OAAOzK,EAAIqL,WAAWV,MAAM,KAAMC,UAAU,IAAI,CAAC5K,EAAIO,GAAGP,EAAIQ,GAAGR,EAAIqE,mBAAmBwG,YAAYQ,YAAY,OAAOpL,EAAG,yBAAyB,CAACuK,SAAS,CAAC,MAAQ,SAASC,GAAQ,OAAOzK,EAAIsL,QAAQX,MAAM,KAAMC,UAAU,IAAI,CAAC5K,EAAIO,GAAGP,EAAIQ,GAAGR,EAAIqE,mBAAmBwG,YAAYS,SAAS,OAAOrL,EAAG,yBAAyB,CAACuK,SAAS,CAAC,MAAQ,SAASC,GAAQ,OAAOzK,EAAIuL,qBAAqBZ,MAAM,KAAMC,UAAU,IAAI,CAAC5K,EAAIO,GAAGP,EAAIQ,GAAGR,EAAIqE,mBAAmBwG,YAAYW,eAAe,QAAQ,KAA2vCvL,EAAG,MAAM,CAACK,YAAY,CAAC,OAAS,gBAAgB,WAAa,QAAQ,gBAAgB,QAAQ,CAAGN,EAAIsK,SAAYtK,EAAIuK,QAU/mEvK,EAAIsK,SAAWtK,EAAIuK,QAAStK,EAAG,MAAM,CAACuG,MAAM,CAClRiF,QAAQ,MACRzG,MAAQhF,EAAIqE,mBAAmBqH,aAAe,GAAK,EAAI,EAAK,KAC5DzG,OAASjF,EAAIqE,mBAAmBY,OAAS,GAAK,EAAI,EAAK,OACrD,CAAChF,EAAG,MAAM,CAACK,YAAY,CAAC,aAAa,SAAS,cAAc,SAAS,iBAAiB,QAAQ,CAACN,EAAIO,GAAG,UAAUN,EAAG,MAAM,CAACK,YAAY,CAAC,gBAAgB,QAAQ,CAAEN,EAAIqE,mBAAmBsH,KAAK/K,KAAa,SAAEX,EAAG,OAAO,CAACK,YAAY,CAAC,MAAQ,QAAQ,CAACN,EAAIO,GAAG,OAAOP,EAAIoL,KAAKpL,EAAIO,GAAG,UAAWP,EAAI4L,cAAkB,KAAE3L,EAAG,OAAO,CAACK,YAAY,CAAC,MAAQ,MAAM,YAAY,UAAU,CAACN,EAAIO,GAAGP,EAAIQ,GAAGR,EAAIqE,mBAAmBsH,KAAK/K,KAAKiL,SAAS7L,EAAIoL,OAAOnL,EAAG,QAAQ,CAAC6L,WAAW,CAAC,CAAClL,KAAK,QAAQmL,QAAQ,UAAUvM,MAAOQ,EAAIoI,SAAa,KAAE4D,WAAW,kBAAkB3L,YAAY,mBAAmBmG,MAAM,CAAEyF,aAAc,MAAMjH,MAAQhF,EAAIqE,mBAAmBqH,aAAe,GAAK,EAAI,EAAI,GAAM,MAAOtL,MAAM,CAAC,YAAc,WAAW8L,SAAS,CAAC,MAASlM,EAAIoI,SAAa,MAAG+D,GAAG,CAAC,MAAQ,SAAS1B,GAAWA,EAAO2B,OAAOC,WAAiBrM,EAAIsM,KAAKtM,EAAIoI,SAAU,OAAQqC,EAAO2B,OAAO5M,MAAM,KAAKS,EAAG,MAAM,CAACK,YAAY,CAAC,gBAAgB,QAAQ,CAAEN,EAAIqE,mBAAmBsH,KAAK9K,YAAoB,SAAEZ,EAAG,OAAO,CAACK,YAAY,CAAC,MAAQ,QAAQ,CAACN,EAAIO,GAAG,OAAOP,EAAIoL,KAAKpL,EAAIO,GAAG,UAAWP,EAAI4L,cAAyB,YAAE3L,EAAG,OAAO,CAACK,YAAY,CAAC,MAAQ,MAAM,YAAY,UAAU,CAACN,EAAIO,GAAGP,EAAIQ,GAAGR,EAAIqE,mBAAmBsH,KAAK9K,YAAYgL,SAAS7L,EAAIoL,OAAOnL,EAAG,WAAW,CAAC6L,WAAW,CAAC,CAAClL,KAAK,QAAQmL,QAAQ,UAAUvM,MAAOQ,EAAIoI,SAAoB,YAAE4D,WAAW,yBAAyB3L,YAAY,sBAAsBmG,MAAM,CAAExB,MAAQhF,EAAIqE,mBAAmBqH,aAAe,GAAK,EAAI,EAAI,GAAM,MAAOtL,MAAM,CAAC,KAAO2F,KAAK+B,OAAO9H,EAAIqE,mBAAmBY,OAAS,GAAK,EAAI,EAAI,MAAQ,GAAK,KAAO,GAAG,YAAc,WAAWiH,SAAS,CAAC,MAASlM,EAAIoI,SAAoB,aAAG+D,GAAG,CAAC,MAAQ,SAAS1B,GAAWA,EAAO2B,OAAOC,WAAiBrM,EAAIsM,KAAKtM,EAAIoI,SAAU,cAAeqC,EAAO2B,OAAO5M,MAAM,OAAOQ,EAAIoL,KAdgoBnL,EAAG,MAAM,CAACA,EAAG,MAAM,CAACE,IAAI,eAAeE,YAAY,gBAAgBmG,MAAM,CAC16E9C,WAAY1D,EAAIqE,mBAAmBkI,mBACnCvH,MAAQhF,EAAIqE,mBAAmBqH,aAAe,GAAK,EAAI,EAAI,KAC3DzG,OAASjF,EAAIqE,mBAAmBY,OAAS,GAAK,EAAK,OACjD,CAAChF,EAAG,MAAM,CAACE,IAAI,SAASE,YAAY,SAASmG,MAAM,CAClDxB,MAAQhF,EAAIqE,mBAAmBqH,aAAe,GAAK,EAAI,EAAK,KAC5DzG,OAASjF,EAAIqE,mBAAmBY,OAAS,GAAK,EAAI,EAAK,OACvDjF,EAAIwM,GAAIxM,EAAgB,cAAE,SAAS6L,EAAKY,GAAO,OAAOxM,EAAG,MAAM,CAACE,IAAI,gBAAkBsM,EAAMC,UAAS,EAAKrM,YAAY,gBAAgBmG,MAAM,CAC5I9C,WAAY1D,EAAIqE,mBAAmBsI,uBACnC3H,MAAQhF,EAAIqE,mBAAmBqH,aAAe,GAAK,EAAI,EAAI,EAAK,MAC/DS,GAAG,CAAC,UAAY,SAAS1B,GAAQ,OAAOzK,EAAI4M,cAAcH,EAAM,EAAE,WAAa,SAAShC,GAAQ,OAAOzK,EAAI6M,YAAYJ,EAAM,EAAE,MAAQ,SAAShC,GAAQ,OAAOzK,EAAI8M,SAASL,EAAM,IAAI,CAACzM,EAAIO,GAAG,IAAIP,EAAIQ,GAAGqL,EAAKjL,MAAM,MAAM,IAAG,YAKjP,EACI,EAAkB,GChBlB,EAAS,WAAkB,IAAIZ,EAAI1C,KAAK2C,EAAGD,EAAIE,MAAMD,GAAG,OAAOA,EAAG,SAAS,CAACE,IAAI,SAASE,YAAY,yBAAyBD,MAAM,CAAC,KAAO,WAAW,CAACJ,EAAI+M,GAAG,WAAU,WAAW,MAAO,CAAC9M,EAAG,OAAO,CAACD,EAAIO,GAAG,QAAQ,KAAI,EAC9N,EACI,EAAkB,GCOtB,GACEK,KAAM,uBACNgD,MAAO,CACLE,KAAM,CACJA,KAAMC,OACNE,QAAS,YAGb+I,WAAY,CAAC,EACbzK,OACE,MAAO,CACL0K,UAAW,CACThJ,QAAS,CACPP,WAAY,UACZC,MAAO,UACPuJ,qBAAsB,UACtBC,gBAAiB,WAEnBC,QAAS,CACP1J,WAAY,UACZC,MAAO,UACPuJ,qBAAsB,UACtBC,gBAAiB,WAEnBE,QAAS,CACP3J,WAAY,UACZC,MAAO,UACPuJ,qBAAsB,UACtBC,gBAAiB,YAIzB,EACAtI,QAAS,CAET,EACA0D,UACE,IAAIzE,EAAO,UACPxG,KAAKwG,QAAQxG,KAAK2P,YACpBnJ,EAAOxG,KAAKwG,MAKd,MAAMwJ,EAAShQ,KAAK+H,MAAMiI,OAC1BA,EAAO9G,MAAM9C,WAAapG,KAAK2P,UAAUnJ,GAAMJ,WAC/C4J,EAAO9G,MAAM7C,MAAQrG,KAAK2P,UAAUnJ,GAAMH,MAC1C,IAAIgC,EAAOrI,KACXgQ,EAAOC,YAAc,KACnBD,EAAO9G,MAAM9C,WAAaiC,EAAKsH,UAAUnJ,GAAMoJ,qBAC/CI,EAAO9G,MAAM7C,MAAQgC,EAAKsH,UAAUnJ,GAAMqJ,iBAE5CG,EAAOE,WAAa,WAClBF,EAAO9G,MAAM9C,WAAaiC,EAAKsH,UAAUnJ,GAAMJ,WAC/C4J,EAAO9G,MAAM7C,MAAQgC,EAAKsH,UAAUnJ,GAAMH,KAC5C,CACF,EACA6E,SAAU,CAAC,GClEyI,ICQlJ,EAAY,EACd,EACA,EACA,GACA,EACA,KACA,WACA,MAIF,EAAe,EAAiB,QCjBhC,MAAM,EAAuB,CACzBpF,YAAa,IACbsI,aAAc,IACdzG,OAAQ,IAERwI,mBAAoB,CAChBC,UAAW,UACXC,UAAW,EACXC,WAAY,UACZC,YAAa,GAGjBC,iBAAkB,CACdJ,UAAW,UACXC,UAAW,EACXC,WAAY,UACZC,YAAa,GAGjBE,eAAgB,CACZL,UAAW,UACXC,UAAW,EACXC,WAAY,UACZC,YAAa,GAGjBlC,KAAM,CACF/K,KAAM,CACFoD,UAAU,EACVgK,QAAS,+BACTnC,KAAM,UAEVhL,YAAa,CACTmD,UAAU,EACVgK,QAAS,cACTnC,KAAM,KAIdoC,gBAAiB,OAAO,WAAe,iCAEvCC,sBAAuB,UAEvB3B,mBAAoB,UAEpBI,uBAAwB,UAExBwB,iCAAkC,UAElCtD,YAAa,CAETQ,WAAY,KACZC,QAAS,KACTE,cAAe,KAEfd,QAAS,KACTM,WAAY,KACZD,SAAU,KAEVE,cAAe,KACfE,aAAc,KACdD,WAAY,OAIpB,OACI/H,qBAAoB,GC9DxB,GACEvC,KAAM,uBACNoM,WAAY,CACVoB,qBAAoB,GAEtBxK,MAAO,CACLC,OAAQ,CACNC,KAAMC,OACNC,UAAU,GAGZE,UAAW,CACTJ,KAAMb,MACNgB,QAAS,IAAM,IAEjBxD,aAAc,CACZqD,KAAMb,MACNgB,QAAS,IAAM,IAGjBb,YAAa,CACXU,KAAMK,OACNF,QAAS,KAGXyH,aAAc,CACZ5H,KAAMK,OACNF,QAAS,KAGXgB,OAAQ,CACNnB,KAAMK,OACNF,QAAS,KAGXwJ,mBAAoB,CAClB3J,KAAM3F,OACN8F,QAAS,KACA,CACLyJ,UAAW,UACXC,UAAW,EACXC,WAAY,UACZC,YAAa,KAKnBC,iBAAkB,CAChBhK,KAAM3F,OACN8F,QAAS,KACA,CACLyJ,UAAW,UACXC,UAAW,EACXC,WAAY,UACZC,YAAa,KAKnBE,eAAgB,CACdjK,KAAM3F,OACN8F,QAAS,KACA,CACLyJ,UAAW,UACXC,UAAW,EACXC,WAAY,UACZC,YAAa,KAKnBlC,KAAM,CACJ7H,KAAM3F,OACN8F,QAAS,KACA,CACLrD,KAAM,CACJoD,UAAU,EACVgK,QAAS,+BACTnC,KAAM,UAERhL,YAAa,CACXmD,UAAU,EACVgK,QAAS,cACTnC,KAAM,OAMdoC,gBAAiB,CACfnK,KAAMC,OACNE,QAAS,IACA,OAAO,WAAe,kCAIjCiK,sBAAuB,CACrBpK,KAAMC,OACNE,QAAS,IACA,WAIXsI,mBAAoB,CAClBzI,KAAMC,OACNE,QAAS,IACA,WAIX0I,uBAAwB,CACtB7I,KAAMC,OACNE,QAAS,IACA,WAIXkK,iCAAkC,CAChCrK,KAAMC,OACNE,QAAS,IACA,WAIX4G,YAAa,CACX/G,KAAM3F,OACN8F,QAAS,KACA,CAELoH,WAAY,KACZC,QAAS,KACTE,cAAe,KAEfd,QAAS,KACTM,WAAY,KACZD,SAAU,KAEVE,cAAe,KACfE,aAAc,KACdD,WAAY,SAKpB3I,OACE,MAAO,CAEL8B,mBAAoB,uBAEpBE,OAAQ,KAERC,QAAS,KAETtD,OAAQ,GAERkH,SAAU,CACRxH,KAAM,GACNC,YAAa,IAGf+K,cAAe,CACbhL,MAAM,EACNC,aAAa,GAGfwN,UAAW,EAGX/D,QAAS,EAETC,QAAS,EAET9F,WAAW,EAEX6J,WAAW,EAGXhK,IAAK,KAKLnD,MAAO,EACPC,QAAS,EACTC,QAAS,EAETkN,SAAU,EACVC,SAAU,EAEd,EACA3J,QAAS,CAEPK,OACE5H,KAAK6H,gBACL7H,KAAK6I,iBACL7I,KAAKiH,OAASjH,KAAK+H,MAAMd,OAEzBjH,KAAKiH,OAAOS,MAAQ1H,KAAK+G,mBAAmBjB,YAC5C9F,KAAKiH,OAAOU,OAAS3H,KAAK+G,mBAAmBY,OAE7C3H,KAAKkH,QAAUlH,KAAKiH,OAAOiB,WAAW,MACtC,IAAIG,EAAOrI,KAEXA,KAAKgH,IAAM,IAAIoB,MACfpI,KAAKgH,IAAIzE,IAAMvC,KAAKuG,OAGpBvG,KAAKiH,OAAOqB,iBAAiB,aAAa,SAAU7H,GAClD,IAAK4H,EAAK2E,QAAS,OAEnB,IAAI1I,GAAK7D,EAAEqD,QAAUuE,EAAKvE,SAAWuE,EAAKxE,MACtCW,GAAK/D,EAAEsD,QAAUsE,EAAKtE,SAAWsE,EAAKxE,MAEtCS,EAAI,GAAKE,EAAI,GAAKF,EAAI+D,EAAKrB,IAAIU,OAASlD,EAAI6D,EAAKrB,IAAIW,SAEzDU,EAAKzE,OAAOuN,KAAK,CAAC7M,EAAGA,EAAGE,EAAGA,IAE3B6D,EAAKM,gBACP,IAEA3I,KAAKiH,OAAOqB,iBAAiB,SAAS,SAAU7H,GAE9CA,EAAE2Q,iBAGF,IAAIC,EAAQ5Q,EAAE6Q,OAAS,GAAK,GAAM,GAG9BhN,EAAI7D,EAAEqD,QACNU,EAAI/D,EAAEsD,QAGNwN,EAAW9Q,EAAE6Q,OAAS,EAAkB,GAAbjJ,EAAKxE,MAA6B,IAAbwE,EAAKxE,MACrD2N,GAAUlN,EAAI+D,EAAKvE,SAAWuN,EAC9BC,GAAU9M,EAAI6D,EAAKtE,SAAWsN,EAE9BI,EAAOpJ,EAAKvE,QAAU0N,EACtBE,EAAOrJ,EAAKtE,QAAUuN,EAG1BjJ,EAAKxE,MAAQ0N,EACblJ,EAAKvE,QAAU2N,EACfpJ,EAAKtE,QAAU2N,GAGf,IAAAzI,WAAS,KACPZ,EAAKM,eAAc,GAEvB,IAEA3I,KAAKiH,OAAOqB,iBAAiB,aAAa,SAAU7H,GACjC,IAAbA,EAAEuP,SAGN3H,EAAK2I,WAAY,EACjB3I,EAAK4I,SAAWxQ,EAAEqD,QAClBuE,EAAK6I,SAAWzQ,EAAEsD,QAEpB,IAEA/D,KAAKiH,OAAOqB,iBAAiB,WAAW,SAAU7H,GAC/B,IAAbA,EAAEuP,SAGN3H,EAAK2I,WAAY,EAEnB,IAEAhR,KAAKiH,OAAOqB,iBAAiB,aAAa,SAAU7H,GAC9C4H,EAAK2I,cAEF3I,EAAK2E,SACNvE,KAAKkJ,IAAItJ,EAAK4I,SAAWxQ,EAAEqD,UAAY,GACvC2E,KAAKkJ,IAAItJ,EAAK6I,SAAWzQ,EAAEsD,UAAY,KAEzCsE,EAAKvE,SAAWrD,EAAEmR,UAClBvJ,EAAKtE,SAAWtD,EAAEoR,WAGpBxJ,EAAKM,gBAET,IAEA3I,KAAKiH,OAAOqB,iBAAiB,cAAc,SAAU7H,GAClC,IAAbA,EAAEuP,SAGN3H,EAAK2I,WAAY,EACnB,IAGAhR,KAAKgH,IAAI4B,OAAS,WAChBP,EAAKyJ,aACL,IAAA7I,WAAS,KACPZ,EAAKM,eAAc,GAEvB,CAEF,EAEAd,gBACE,IAAIkK,EAAuB,uBAC3B/R,KAAK+G,mBAAqB,CACxBjB,YAAa9F,KAAK8F,YAAc9F,KAAK8F,YAAc9F,KAAK+R,qBAAqBjM,YAC7EsI,aAAcpO,KAAKoO,aAAepO,KAAKoO,aAAepO,KAAK+R,qBAAqB3D,aAChFzG,OAAQ3H,KAAK2H,OAAS3H,KAAK2H,OAAS3H,KAAK+R,qBAAqBpK,OAE9DwI,mBAAoB,CAClBC,UAAW,qBAAyBpQ,KAAKmQ,mBAAoB,CAAC,cAC1D,qBAAyBnQ,KAAKmQ,mBAAoB,CAAC,cAAgB4B,EAAqB5B,mBAAmBC,UAC/GC,UAAW,qBAAyBrQ,KAAKmQ,mBAAoB,CAAC,cAC1D,qBAAyBnQ,KAAKmQ,mBAAoB,CAAC,cAAgB4B,EAAqB5B,mBAAmBE,UAC/GC,WAAY,qBAAyBtQ,KAAKmQ,mBAAoB,CAAC,eAC3D,qBAAyBnQ,KAAKmQ,mBAAoB,CAAC,eAAiB4B,EAAqB5B,mBAAmBG,WAChHC,YAAa,qBAAyBvQ,KAAKmQ,mBAAoB,CAAC,gBAC5D,qBAAyBnQ,KAAKmQ,mBAAoB,CAAC,gBAAkB4B,EAAqB5B,mBAAmBI,aAGnHC,iBAAkB,CAChBJ,UAAW,qBAAyBpQ,KAAKwQ,iBAAkB,CAAC,cACxD,qBAAyBxQ,KAAKwQ,iBAAkB,CAAC,cAAgBuB,EAAqB5B,mBAAmBC,UAC7GC,UAAW,qBAAyBrQ,KAAKwQ,iBAAkB,CAAC,cACxD,qBAAyBxQ,KAAKwQ,iBAAkB,CAAC,cAAgBuB,EAAqB5B,mBAAmBE,UAC7GC,WAAY,qBAAyBtQ,KAAKwQ,iBAAkB,CAAC,eACzD,qBAAyBxQ,KAAKwQ,iBAAkB,CAAC,eAAiBuB,EAAqB5B,mBAAmBG,WAC9GC,YAAa,qBAAyBvQ,KAAKwQ,iBAAkB,CAAC,gBAC1D,qBAAyBxQ,KAAKwQ,iBAAkB,CAAC,gBAAkBuB,EAAqB5B,mBAAmBI,aAGjHE,eAAgB,CACdL,UAAW,qBAAyBpQ,KAAKyQ,eAAgB,CAAC,cACtD,qBAAyBzQ,KAAKyQ,eAAgB,CAAC,cAAgBsB,EAAqB5B,mBAAmBC,UAC3GC,UAAW,qBAAyBrQ,KAAKyQ,eAAgB,CAAC,cACtD,qBAAyBzQ,KAAKyQ,eAAgB,CAAC,cAAgBsB,EAAqB5B,mBAAmBE,UAC3GC,WAAY,qBAAyBtQ,KAAKyQ,eAAgB,CAAC,eACvD,qBAAyBzQ,KAAKyQ,eAAgB,CAAC,eAAiBsB,EAAqB5B,mBAAmBG,WAC5GC,YAAa,qBAAyBvQ,KAAKyQ,eAAgB,CAAC,gBACxD,qBAAyBzQ,KAAKyQ,eAAgB,CAAC,gBAAkBsB,EAAqB5B,mBAAmBI,aAG/GlC,KAAM,CACJ/K,KAAM,CACJoD,SAAU,qBAAyB1G,KAAKqO,KAAM,CAAC,OAAQ,aACnD,qBAAyBrO,KAAKqO,KAAM,CAAC,OAAQ,aAAe0D,EAAqB1D,KAAK/K,KAAKoD,SAC/FgK,QAAS,qBAAyB1Q,KAAKqO,KAAM,CAAC,OAAQ,YAClD,qBAAyBrO,KAAKqO,KAAM,CAAC,OAAQ,YAAc0D,EAAqB1D,KAAK/K,KAAKoN,QAC9FnC,KAAM,qBAAyBvO,KAAKqO,KAAM,CAAC,OAAQ,SAC/C,qBAAyBrO,KAAKqO,KAAM,CAAC,OAAQ,SAAW0D,EAAqB1D,KAAK/K,KAAKiL,MAE7FhL,YAAa,CACXmD,SAAU,qBAAyB1G,KAAKqO,KAAM,CAAC,cAAe,aAC1D,qBAAyBrO,KAAKqO,KAAM,CAAC,cAAe,aAAe0D,EAAqB1D,KAAK9K,YAAYmD,SAC7GgK,QAAS,qBAAyB1Q,KAAKqO,KAAM,CAAC,cAAe,YACzD,qBAAyBrO,KAAKqO,KAAM,CAAC,cAAe,YAAc0D,EAAqB1D,KAAK9K,YAAYmN,QAC5GnC,KAAM,qBAAyBvO,KAAKqO,KAAM,CAAC,cAAe,SACtD,qBAAyBrO,KAAKqO,KAAM,CAAC,cAAe,SAAW0D,EAAqB1D,KAAK9K,YAAYgL,OAI7GoC,gBAAiB3Q,KAAK2Q,gBAAkB3Q,KAAK2Q,gBAAkBoB,EAAqBpB,gBAEpFC,sBAAuB5Q,KAAK4Q,sBAAwB5Q,KAAK4Q,sBAAwBmB,EAAqBnB,sBAEtG3B,mBAAoBjP,KAAKiP,mBAAqBjP,KAAKiP,mBAAqB8C,EAAqB9C,mBAE7FI,uBAAwBrP,KAAKqP,uBAAyBrP,KAAKqP,uBAAyB0C,EAAqB1C,uBAEzGwB,iCAAkC7Q,KAAK6Q,iCAAmC7Q,KAAK6Q,iCAAmCkB,EAAqBlB,iCAEvItD,YAAa,CAEXQ,WAAY/N,KAAKuN,aAAevN,KAAKuN,YAAYQ,WAAa/N,KAAKuN,YAAYQ,WAAagE,EAAqBxE,YAAYQ,WAC7HC,QAAShO,KAAKuN,aAAevN,KAAKuN,YAAYS,QAAUhO,KAAKuN,YAAYS,QAAU+D,EAAqBxE,YAAYS,QACpHE,cAAelO,KAAKuN,aAAevN,KAAKuN,YAAYW,cAAgBlO,KAAKuN,YAAYW,cAAgB6D,EAAqBxE,YAAYW,cAEtId,QAASpN,KAAKuN,aAAevN,KAAKuN,YAAYH,QAAUpN,KAAKuN,YAAYH,QAAU2E,EAAqBxE,YAAYH,QACpHM,WAAY1N,KAAKuN,aAAevN,KAAKuN,YAAYG,WAAa1N,KAAKuN,YAAYG,WAAaqE,EAAqBxE,YAAYG,WAC7HD,SAAUzN,KAAKuN,aAAevN,KAAKuN,YAAYE,SAAWzN,KAAKuN,YAAYE,SAAWsE,EAAqBxE,YAAYE,SAEvHE,cAAe3N,KAAKuN,aAAevN,KAAKuN,YAAYI,cAAgB3N,KAAKuN,YAAYI,cAAgBoE,EAAqBxE,YAAYI,cACtIE,aAAc7N,KAAKuN,aAAevN,KAAKuN,YAAYM,aAAe7N,KAAKuN,YAAYM,aAAekE,EAAqBxE,YAAYM,aACnID,WAAY5N,KAAKuN,aAAevN,KAAKuN,YAAYK,WAAa5N,KAAKuN,YAAYK,WAAamE,EAAqBxE,YAAYK,YAGnI,EAEA/E,iBAEE7I,KAAK+H,MAAM,gBAAgBmB,MAAMvB,OAAS3H,KAAK+G,mBAAmBY,OAAS,KAC3E3H,KAAK+H,MAAM,gBAAgBmB,MAAMxB,MAAQ1H,KAAK+G,mBAAmBjB,YAAc,KAE/E9F,KAAK+H,MAAM,gBAAgBmB,MAAMyH,gBAAkB3Q,KAAK+G,mBAAmB4J,gBAE3E3Q,KAAK+H,MAAM,gBAAgBmB,MAAMvB,OAAS3H,KAAK+G,mBAAmBY,OAAS,KAC3E3H,KAAK+H,MAAM,gBAAgBmB,MAAMxB,MAAQ1H,KAAK+G,mBAAmBqH,aAAe,KAYhFpO,KAAK+H,MAAM,gBAAgBmB,MAAM9C,WAAapG,KAAK+G,mBAAmB6J,qBACxE,EAGAkB,YACE9R,KAAKwH,mBACP,EAEAA,oBAEE,IAAIC,EAAc,EAAMzH,KAAKgH,IAAIU,MAAQ1H,KAAKgH,IAAIW,OAElD,GAAIF,EAAczH,KAAK+G,mBAAmBjB,YAAc9F,KAAK+G,mBAAmBY,OAAQ,CACtF,IAAImB,EAAW9I,KAAK+G,mBAAmBjB,YACnCiD,EAAYD,EAAWrB,EAC3BzH,KAAK6D,MAAQ7D,KAAK+G,mBAAmBjB,YAAc9F,KAAKgH,IAAIU,MAC5D1H,KAAK8D,QAAU,EACf9D,KAAK+D,SAAW/D,KAAK+G,mBAAmBY,OAASoB,GAAa,CAChE,KAAO,CACL,IAAIA,EAAY/I,KAAK+G,mBAAmBY,OACpCmB,EAAWC,EAAYtB,EAC3BzH,KAAK6D,MAAQ7D,KAAK+G,mBAAmBY,OAAS3H,KAAKgH,IAAIW,OACvD3H,KAAK8D,SAAW9D,KAAK+G,mBAAmBjB,YAAcgD,GAAY,EAClE9I,KAAK+D,QAAU,CACjB,CACF,EAEA4E,gBACE3I,KAAKkH,QAAQmD,UAAU,EAAG,EAAGrK,KAAKiH,OAAOS,MAAO1H,KAAKiH,OAAOU,QAC5D3H,KAAKgJ,YACLhJ,KAAKgS,kBACLhS,KAAKiS,eACP,EAEAjJ,YAEE,IAAIF,EAAW9I,KAAKgH,IAAIU,MAAQ1H,KAAK6D,MACjCkF,EAAY/I,KAAKgH,IAAIW,OAAS3H,KAAK6D,MAGvC7D,KAAKkH,QAAQ8B,UAAUhJ,KAAKgH,IAAKhH,KAAK8D,QAAS9D,KAAK+D,QAAS+E,EAAUC,EACzE,EAEAkJ,gBAEE,IAAK,IAAI/N,EAAI,EAAGA,EAAIlE,KAAK4G,UAAUxD,OAAQc,IACzClE,KAAKkS,WAAWlS,KAAK4G,UAAU1C,GAAIlE,KAAKmH,WAAanH,KAAK+Q,YAAc7M,GAAG,GAG7ElE,KAAKkS,WAAWlS,KAAK4D,QAAQ,GAAO,EACtC,EACAsO,WAAWtO,EAAQuO,EAAUnF,GAC3B,IAAIoF,EAAS,EACTD,GACFnS,KAAKkH,QAAQyC,UAAY3J,KAAK+G,mBAAmBoJ,mBAAmBG,WACpE8B,EAASpS,KAAK+G,mBAAmBoJ,mBAAmBI,aAC3CvD,GACThN,KAAKkH,QAAQyC,UAAY3J,KAAK+G,mBAAmByJ,iBAAiBF,WAClE8B,EAASpS,KAAK+G,mBAAmByJ,iBAAiBD,cAElDvQ,KAAKkH,QAAQyC,UAAY3J,KAAK+G,mBAAmB0J,eAAeH,WAChE8B,EAASpS,KAAK+G,mBAAmB0J,eAAeF,aAGlD,IAAK,MAAM5M,KAASC,EAClB5D,KAAKkH,QAAQ4C,YACb9J,KAAKkH,QAAQiD,IAAIxG,EAAMW,EAAItE,KAAK6D,MAAQ7D,KAAK8D,QACzCH,EAAMa,EAAIxE,KAAK6D,MAAQ7D,KAAK+D,QAASqO,EAAQ,EAAa,EAAV3J,KAAK2B,IACzDpK,KAAKkH,QAAQgD,MAEjB,EAEA8H,kBAEE,IAAK,IAAI9N,EAAI,EAAGA,EAAIlE,KAAK4G,UAAUxD,OAAQc,IACzClE,KAAKqS,YAAYrS,KAAK4G,UAAU1C,GAAIlE,KAAKmH,WAAanH,KAAK+Q,YAAc7M,GAAG,GAE9ElE,KAAKqS,YAAYrS,KAAK4D,QAAQ,GAAO,EACvC,EAEAyO,YAAYzO,EAAQuO,EAAUnF,GAW5B,GAVImF,GACFnS,KAAKkH,QAAQoL,YAActS,KAAK+G,mBAAmBoJ,mBAAmBC,UACtEpQ,KAAKkH,QAAQmJ,UAAYrQ,KAAK+G,mBAAmBoJ,mBAAmBE,WAC3DrD,GACThN,KAAKkH,QAAQoL,YAActS,KAAK+G,mBAAmByJ,iBAAiBJ,UACpEpQ,KAAKkH,QAAQmJ,UAAYrQ,KAAK+G,mBAAmByJ,iBAAiBH,YAElErQ,KAAKkH,QAAQoL,YAActS,KAAK+G,mBAAmB0J,eAAeL,UAClEpQ,KAAKkH,QAAQmJ,UAAYrQ,KAAK+G,mBAAmB0J,eAAeJ,WAE9DzM,EAAOR,OAAS,EAAG,CACrBpD,KAAKkH,QAAQ4C,YACb9J,KAAKkH,QAAQ6C,OAAOnG,EAAO,GAAGU,EAAItE,KAAK6D,MAAQ7D,KAAK8D,QAASF,EAAO,GAAGY,EAAIxE,KAAK6D,MAAQ7D,KAAK+D,SAC7F,IAAK,IAAIG,EAAI,EAAGA,EAAIN,EAAOR,OAAQc,IACjClE,KAAKkH,QAAQ8C,OAAOpG,EAAOM,GAAGI,EAAItE,KAAK6D,MAAQ7D,KAAK8D,QAASF,EAAOM,GAAGM,EAAIxE,KAAK6D,MAAQ7D,KAAK+D,SAE/F/D,KAAKkH,QAAQ+C,YACbjK,KAAKkH,QAAQqL,QACf,CACF,EAKAxE,aACE/N,KAAK6K,MAAM,aAAc,CACvBtE,OAAQvG,KAAKuG,OACbpD,aAAcnD,KAAKmD,aACnByD,UAAW5G,KAAK4G,WAEpB,EAEAoH,UAEEhO,KAAKgN,SAAU,EACfhN,KAAK8K,SAAW,CACdxH,KAAM,GACNC,YAAa,IAEfvD,KAAK4D,OAAS,EAChB,EAEAwJ,UACE,GAAIpN,KAAK4D,OAAOR,QAAU,EAExB,YADAoP,MAAM,cAED,IAAKxS,KAAKyS,aACf,OAGFzS,KAAKgN,SAAU,EACfhN,KAAK4G,UAAUuK,KAAKnR,KAAK4D,QAEzB5D,KAAKmD,aAAagO,KAAKnR,KAAK8K,UAC5B9K,KAAK8K,SAAW,CACdxH,KAAM,GACNC,YAAa,IAEfvD,KAAK4D,OAAS,GACd,IAAIyE,EAAOrI,MACX,IAAAiJ,WAAS,KACPZ,EAAKM,eAAc,GAEvB,EAEA6E,0BACMxN,KAAK4D,QAAU5D,KAAK4D,OAAOR,QAAU,IACvCpD,KAAK4D,OAAO8O,OAAO1S,KAAK4D,OAAOR,OAAS,EAAG,GAC3CpD,KAAK2I,gBAET,EAEA+E,aACE1N,KAAKgN,SAAU,EACfhN,KAAK8K,SAAW,CACdxH,KAAM,GACNC,YAAa,IAEfvD,KAAK4D,OAAS,GACd,IAAIyE,EAAOrI,MACX,IAAAiJ,WAAS,KACPZ,EAAKM,eAAc,GAEvB,EAGAgF,gBAEE,IAAK3N,KAAKyS,aACR,OAGFzS,KAAKmD,aAAanD,KAAK+Q,WAAa/Q,KAAK8K,SACzC9K,KAAKiN,SAAU,EACfjN,KAAKmH,WAAY,EACjB,IAAIkB,EAAOrI,MACX,IAAAiJ,WAAS,KACPZ,EAAKM,eAAc,GAEvB,EAEAkF,eAEE7N,KAAKiN,SAAU,EACfjN,KAAKmH,WAAY,EACjB,IAAIkB,EAAOrI,MACX,IAAAiJ,WAAS,KACPZ,EAAKM,eAAc,GAEvB,EAEAiF,aAEE5N,KAAKmD,aAAauP,OAAO1S,KAAK+Q,UAAW,GACzC/Q,KAAK4G,UAAU8L,OAAO1S,KAAK+Q,UAAW,GACtC/Q,KAAKiN,SAAU,EACfjN,KAAKmH,WAAY,EACjB,IAAIkB,EAAOrI,MACX,IAAAiJ,WAAS,KACPZ,EAAKM,eAAc,GAEvB,EAGAsF,uBACEjO,KAAKwH,oBACLxH,KAAK2I,eACP,EAIA2G,cAAcH,GACZnP,KAAK+H,MAAM,gBAAkBoH,GAAO,GAAGjG,MAAM9C,WAAapG,KAAK+G,mBAAmB8J,iCAClF7Q,KAAKmH,WAAY,EACjBnH,KAAK+Q,UAAY5B,EACjBnP,KAAK2I,eACP,EAEA4G,YAAYJ,GACVnP,KAAK+H,MAAM,gBAAkBoH,GAAO,GAAGjG,MAAM9C,WAAapG,KAAK+G,mBAAmBsI,uBAClFrP,KAAKmH,WAAY,EACjBnH,KAAK2I,eACP,EAEA6G,SAASL,GAGPnP,KAAK8K,SAAW,IAAI9K,KAAKmD,aAAagM,IACtCnP,KAAKiN,SAAU,EACfjN,KAAKmH,WAAY,EACjBnH,KAAK+Q,UAAY5B,EACjB,IAAI9G,EAAOrI,MACX,IAAAiJ,WAAS,KACPZ,EAAKM,eAAc,GAEvB,EAGA8J,aACE,OAAIzS,KAAK+G,mBAAmBsH,KAAK/K,KAAKoD,UAA0C,IAA9B1G,KAAK8K,SAASxH,KAAKF,QACnEpD,KAAKsO,cAAchL,MAAO,GACnB,GAEJ,IAAIqP,OAAO3S,KAAK+G,mBAAmBsH,KAAK/K,KAAKoN,SAASkC,KAAK5S,KAAK8K,SAASxH,MAK1EtD,KAAK+G,mBAAmBsH,KAAK9K,YAAYmD,UAAiD,IAArC1G,KAAK8K,SAASvH,YAAYH,QACjFpD,KAAKsO,cAAc/K,aAAc,GAC1B,GAGJ,IAAIoP,OAAO3S,KAAK+G,mBAAmBsH,KAAK9K,YAAYmN,SAASkC,KAAK5S,KAAK8K,SAASvH,cAIrFvD,KAAKsO,cAAchL,MAAO,EAC1BtD,KAAKsO,cAAc/K,aAAc,GAC1B,IALLvD,KAAKsO,cAAc/K,aAAc,GAC1B,IAXPvD,KAAKsO,cAAchL,MAAO,GACnB,EAeX,GAEF2H,UACEjL,KAAK4H,MACP,GCrqBmI,ICQjI,EAAY,EACd,EACA,EACA,GACA,EACA,KACA,WACA,MAIF,EAAe,EAAiB,QCfhC,IAAIiL,EAAU,CAAC,EACf,MAAMC,EAAiB,CAAC,EAAsB,GAE9CD,EAAQE,QAAU,SAAUC,GAEpBH,EAAQI,YACZJ,EAAQI,WAAY,EAGpBH,EAAeI,SAASxN,IACpBsN,EAAIjG,UAAUrH,EAAKpC,KAAMoC,EAAI,IAGrC,EAOA,QCtBA,G","sources":["webpack://vue2-image-spotlight/webpack/universalModuleDefinition","webpack://vue2-image-spotlight/./src/assets/imgs/ sync ^\\.\\/.*$","webpack://vue2-image-spotlight/external umd {\"commonjs\":\"vue\",\"commonjs2\":\"vue\",\"root\":\"Vue\"}","webpack://vue2-image-spotlight/webpack/bootstrap","webpack://vue2-image-spotlight/webpack/runtime/define property getters","webpack://vue2-image-spotlight/webpack/runtime/hasOwnProperty shorthand","webpack://vue2-image-spotlight/webpack/runtime/make namespace object","webpack://vue2-image-spotlight/webpack/runtime/publicPath","webpack://vue2-image-spotlight/./node_modules/@vue/cli-service/lib/commands/build/setPublicPath.js","webpack://vue2-image-spotlight/./src/package/image-spotlight-render/index.vue?b8cc","webpack://vue2-image-spotlight/./src/assets/js/utils.js","webpack://vue2-image-spotlight/./src/assets/js/rendererConfiguration.js","webpack://vue2-image-spotlight/src/package/image-spotlight-render/index.vue","webpack://vue2-image-spotlight/./src/package/image-spotlight-render/index.vue?a11b","webpack://vue2-image-spotlight/./node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js","webpack://vue2-image-spotlight/./src/package/image-spotlight-render/index.vue","webpack://vue2-image-spotlight/./src/package/image-spotlight-editor/index.vue?d1d0","webpack://vue2-image-spotlight/./src/package/subcomponent/image-spotlight-button.vue?c1a4","webpack://vue2-image-spotlight/src/package/subcomponent/image-spotlight-button.vue","webpack://vue2-image-spotlight/./src/package/subcomponent/image-spotlight-button.vue?9c8a","webpack://vue2-image-spotlight/./src/package/subcomponent/image-spotlight-button.vue","webpack://vue2-image-spotlight/./src/assets/js/editorConfiguration.js","webpack://vue2-image-spotlight/src/package/image-spotlight-editor/index.vue","webpack://vue2-image-spotlight/./src/package/image-spotlight-editor/index.vue?6154","webpack://vue2-image-spotlight/./src/package/image-spotlight-editor/index.vue","webpack://vue2-image-spotlight/./src/package/index.js","webpack://vue2-image-spotlight/./node_modules/@vue/cli-service/lib/commands/build/entry-lib.js"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"vue\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"vue2-image-spotlight\"] = factory(require(\"vue\"));\n\telse\n\t\troot[\"vue2-image-spotlight\"] = factory(root[\"Vue\"]);\n})((typeof self !== 'undefined' ? self : this), function(__WEBPACK_EXTERNAL_MODULE__203__) {\nreturn ","var map = {\n\t\"./SpongeBob.jpg\": 300,\n\t\"./mountain.jpg\": 544,\n\t\"./mountain_vertical.jpg\": 651,\n\t\"./transparent-background.png\": 541\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 40;","module.exports = __WEBPACK_EXTERNAL_MODULE__203__;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.p = \"\";","/* eslint-disable no-var */\n// This file is imported into lib/wc client bundles.\n\nif (typeof window !== 'undefined') {\n  var currentScript = window.document.currentScript\n  if (process.env.NEED_CURRENTSCRIPT_POLYFILL) {\n    var getCurrentScript = require('@soda/get-current-script')\n    currentScript = getCurrentScript()\n\n    // for backward compatibility, because previously we directly included the polyfill\n    if (!('currentScript' in document)) {\n      Object.defineProperty(document, 'currentScript', { get: getCurrentScript })\n    }\n  }\n\n  var src = currentScript && currentScript.src.match(/(.+\\/)[^/]+\\.js(\\?.*)?$/)\n  if (src) {\n    __webpack_public_path__ = src[1] // eslint-disable-line\n  }\n}\n\n// Indicate to webpack that this file can be concatenated\nexport default null\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{ref:\"canvas-box\",attrs:{\"id\":\"main\"}},[_c('canvas',{ref:\"canvas-pic\",attrs:{\"id\":\"canvas-pic\",\"width\":\"500\",\"height\":\"400\"}}),_c('canvas',{ref:\"canvas-masking\",attrs:{\"id\":\"canvas-masking\",\"width\":\"500\",\"height\":\"400\"}}),_c('div',{ref:\"description-box\",staticClass:\"description-box-down\"},[_c('div',{staticStyle:{\"font-size\":\"large\",\"font-weight\":\"bolder\",\"margin-bottom\":\"8px\"}},[_vm._v(\" \"+_vm._s((_vm.allAreaInfos.length > 0 && _vm.selectingIndex >= 0) ? _vm.allAreaInfos[_vm.selectingIndex].name : '')+\" \")]),_c('div',{staticStyle:{\"text-indent\":\"2em\"}},[_vm._v(_vm._s(_vm.selectingIndex >= 0 ? ((_vm.allAreaInfos.length>0 && _vm.allAreaInfos[_vm.selectingIndex].description.trim().length > 0) ? _vm.allAreaInfos[_vm.selectingIndex].description : \"暂无注释。\") : \"暂无注释。\")+\" \")])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/**\r\n * 使用射线法，判断一个坐标点是否在封闭图形内部\r\n * 射线法的基本思想是从这个点（假设为P）向任意一个方向（假设为向右）发射一条射线，\r\n * 然后统计这条射线与图形的交点数量，如果为奇数，说明P在图形内部；如果为偶数，说明P在图形外部。\r\n * @param point 点坐标，对象结构为{x:0, y:0}\r\n * @param points 点坐标集，构成一个封闭图形。对象数组，每个元素为{x:0, y:0}对象\r\n * @param scale 缩放比例\r\n * @param offsetX 横坐标偏移量\r\n * @param offsetY 纵坐标偏移量\r\n * @returns {boolean} 是否在该封闭图形内部\r\n */\r\nconst isPointInPolygon = (point, points, scale, offsetX, offsetY) => {\r\n    let n = points.length;\r\n    let inside = false;\r\n    // point.x = calRealPosition(point.x, scale, offsetX)\r\n    // point.y = calRealPosition(point.y, scale, offsetY)\r\n    for (let i = 0, j = n - 1; i < n; j = i++) {\r\n        let xi = calRealPosition(points[i].x, scale, offsetX),\r\n            yi = calRealPosition(points[i].y, scale, offsetY);\r\n        let xj = calRealPosition(points[j].x, scale, offsetX),\r\n            yj = calRealPosition(points[j].y, scale, offsetY);\r\n        let intersect = ((yi > point.y) !== (yj > point.y))\r\n            && (point.x < (xj - xi) * (point.y - yi) / (yj - yi) + xi);\r\n        if (intersect) inside = !inside;\r\n    }\r\n    return inside;\r\n}\r\n\r\nconst calRealPosition = (value, scale, offset) => {\r\n    return value * scale + offset\r\n}\r\nconst getImage = (name) => {\r\n    return require(`../imgs/${name}`)\r\n}\r\n\r\n/**\r\n * 安全地访问对象内的属性，以防出现访问object.a.b.c时，由于object.a未定义，导致访问object.a.b报错\r\n * @param object 对象\r\n * @param path 访问路径\r\n * @returns {any} 如果不能到达，则返回undefined\r\n */\r\nconst accessObjectSafely = (object, path) => {\r\n    let i, n = path.length;\r\n    if (!object) return object\r\n    let data = JSON.parse(JSON.stringify(object));\r\n    for (i = 0; typeof data === 'object' && i < n; ++i) {\r\n        data = data[path[i]];\r\n    }\r\n    return data\r\n}\r\n\r\n/**\r\n * 递归合并两个对象，若object1中某字段不存在或为null或undefined，则用object2中的字段补全\r\n * @param object1 对象1\r\n * @param object2 用对象2补全\r\n * @returns {*} 补全后的对象\r\n */\r\nconst mergeObjects = (object1, object2) => {\r\n    const mergedObject = {...object1};\r\n    for (const key in object2) {\r\n        if (object2.hasOwnProperty(key)) {\r\n            if (isObject(object1[key]) && isObject(object2[key])) {\r\n                mergedObject[key] = mergeObjects(object1[key], object2[key]);\r\n            } else if (mergedObject[key] == null) {\r\n                mergedObject[key] = object2[key];\r\n            }\r\n        }\r\n    }\r\n    return mergedObject;\r\n};\r\nconst isObject = (item) => {\r\n    return item && typeof item === 'object' && !Array.isArray(item);\r\n};\r\n\r\nexport default {\r\n    isPointInPolygon,\r\n    getImage,\r\n    accessObjectSafely,\r\n    mergeObjects\r\n}","const DefaultConfiguration = {\r\n    canvasWidth: 500,\r\n    canvasHeight: 400,\r\n    maskBackground: \"rgba(0,0,0,0.5)\", // 遮罩层颜色\r\n    animationTime: 25,  // 动画时间\r\n    showDescriptionBox: true,\r\n    descriptionBoxStyle: {\r\n        background: \"#EBEBE3\",\r\n        color: \"#59594F\",\r\n    },\r\n}\r\n\r\nexport default {\r\n    DefaultConfiguration\r\n}","<template>\r\n  <div ref=\"canvas-box\" id=\"main\">\r\n    <canvas ref=\"canvas-pic\" id=\"canvas-pic\" width=\"500\" height=\"400\"/>\r\n    <canvas ref=\"canvas-masking\" id=\"canvas-masking\" width=\"500\" height=\"400\"/>\r\n    <div ref=\"description-box\"\r\n         class=\"description-box-down\">\r\n      <div style=\"font-size: large; font-weight: bolder; margin-bottom: 8px\">\r\n        {{ (allAreaInfos.length > 0 && selectingIndex >= 0) ? allAreaInfos[selectingIndex].name : '' }}\r\n      </div>\r\n      <div style=\"text-indent: 2em\">{{\r\n          selectingIndex >= 0 ?\r\n              ((allAreaInfos.length>0 && allAreaInfos[selectingIndex].description.trim().length > 0)\r\n                  ? allAreaInfos[selectingIndex].description : \"暂无注释。\")\r\n              : \"暂无注释。\"\r\n        }}\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {nextTick} from \"vue\";\r\nimport Utils from \"../../assets/js/utils\";\r\nimport RendererConfiguration from \"../../assets/js/rendererConfiguration\"\r\n\r\nexport default {\r\n  name: \"ImageSpotlightRenderer\",\r\n  props: {\r\n    // 必要参数，否则无法渲染\r\n    imgUrl: {\r\n      type: String,\r\n      required: true,\r\n    },\r\n    // 区域默认为空\r\n    allAreaInfos: {\r\n      type: Array,\r\n      default: () => [],\r\n    },\r\n    allPoints: {\r\n      type: Array,\r\n      default: () => [],\r\n    },\r\n\r\n    canvasWidth: {\r\n      type: Number,\r\n      default: 500,\r\n    },\r\n    canvasHeight: {\r\n      type: Number,\r\n      default: 400,\r\n    },\r\n    // 遮罩层颜色\r\n    maskBackground: {\r\n      type: String,\r\n      default: \"rgba(0,0,0,0.5)\"\r\n    },\r\n    // 动画时间\r\n    animationTime: {\r\n      type: Number,\r\n      default: 25,\r\n    },\r\n    showDescriptionBox: {\r\n      type: Boolean,\r\n      default: true,\r\n    },\r\n    descriptionBoxStyle: {\r\n      type: Object,\r\n      default: () => {\r\n        return {\r\n          background: \"#EBEBE3\",\r\n          color: \"#59594F\",\r\n        }\r\n      }\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      finalConfiguration: null,\r\n      img: null,\r\n      canvas: null,\r\n      context: null,\r\n\r\n      // 图像缩放与偏移\r\n      scale: 1.0,\r\n      offsetX: 0.0,\r\n      offsetY: 0.0,\r\n\r\n      // 是否选中到某一个分区\r\n      selecting: false,\r\n      // 上一次选中的分区\r\n      selectingIndex: 0,\r\n      // 光标的位置（即触发刷新蒙版时的坐标）\r\n      cursorPosition: {x: 0, y: 0},\r\n      // 动画定时器\r\n      timer: null,\r\n\r\n      // 展示框\r\n      descriptionBox: null,\r\n    }\r\n  },\r\n  methods: {\r\n    // 重置图像到自适应大小\r\n    selfAdaptionImage() {\r\n      // 图形的宽高比\r\n      let aspectRatio = 1.0 * this.img.width / this.img.height;\r\n      // 如果宽高比大于500/400，说明宽要大，那么使得宽缩放到500px，高度自适应（样例是500*400）\r\n      if (aspectRatio > this.finalConfiguration.canvasWidth / this.finalConfiguration.canvasHeight) {\r\n        let newWidth = this.finalConfiguration.canvasWidth\r\n        let newHeight = newWidth / aspectRatio\r\n        this.scale = this.finalConfiguration.canvasWidth / this.img.width\r\n        // this.offsetX = 0\r\n        // this.offsetY = (this.finalConfiguration.canvasHeight - newHeight) / 2\r\n        this.offsetX = 0\r\n        this.offsetY = 0\r\n      } else {\r\n        let newHeight = this.finalConfiguration.canvasHeight\r\n        let newWidth = newHeight * aspectRatio\r\n        this.scale = this.finalConfiguration.canvasHeight / this.img.height\r\n        // this.offsetX = (this.finalConfiguration.canvasWidth - newWidth) / 2\r\n        // this.offsetY = 0\r\n        this.offsetX = 0\r\n        this.offsetY = 0\r\n      }\r\n    },\r\n\r\n    // 初始化画布\r\n    init() {\r\n      this.initParameter()\r\n      // 初始化canvas和context对象\r\n      this.canvasPic = this.$refs[\"canvas-pic\"]\r\n      this.canvasMasking = this.$refs[\"canvas-masking\"]\r\n      this.descriptionBox = this.$refs[\"description-box\"]\r\n      this.contextPic = this.canvasPic.getContext(\"2d\")\r\n      this.contextMasking = this.canvasMasking.getContext(\"2d\")\r\n      // 获取图像\r\n      this.img = new Image();\r\n      this.img.src = this.imgUrl;\r\n\r\n      let that = this\r\n      // 绑定canvas事件\r\n      // 当鼠标移动到画布上\r\n      this.canvasMasking.addEventListener(\"mousemove\", e => {\r\n        let x = e.offsetX\r\n        let y = e.offsetY\r\n        that.cursorPosition = {x, y}\r\n        let selecting_local = false\r\n        let selectingIndex_local = -1\r\n        for (let i = 0; i < that.allPoints.length; i++) {\r\n          // 如果当前坐标在所画的区域内的话\r\n          if (Utils.isPointInPolygon({x, y}, that.allPoints[i], that.scale, that.offsetX, that.offsetY)) {\r\n            selecting_local = true\r\n            selectingIndex_local = i\r\n            break;\r\n          }\r\n        }\r\n        // 判断是否需要刷新\r\n        if (!that.selecting && selecting_local) {\r\n          // 如果之前并非选中状态，且此时选中了，那么就聚焦，并且重新刷新canvas\r\n          that.selecting = true\r\n          that.selectingIndex = Math.max(0, selectingIndex_local)\r\n          that.cursorPosition = {x, y}\r\n          that.refreshCanvas()\r\n        } else if (that.selecting && selecting_local) {\r\n          // 如果之前是选中状态，此时也选中了，分情况讨论\r\n          if (that.selectingIndex === selectingIndex_local) {\r\n            // 如果是同一个，那么就无需重新渲染\r\n          } else {\r\n            // 不是同一个，需要设置此时选中的index，并且重新刷新canvas\r\n            that.selectingIndex = Math.max(0, selectingIndex_local)\r\n            that.cursorPosition = {x, y}\r\n            that.refreshCanvas()\r\n          }\r\n        } else if (that.selecting && !selecting_local) {\r\n          // 如果之前是选中状态，但是现在未选中，则清除选中状态，并且重新刷新canvas\r\n          that.selecting = false\r\n          that.cursorPosition = {x, y}\r\n          that.refreshCanvas()\r\n        } else if (!that.selecting && !selecting_local) {\r\n          // 如果之前未选中，现在还未选中，则无需操作\r\n        }\r\n      })\r\n      // 当图像加载好后，渲染到画布上\r\n      this.img.onload = () => {\r\n        that.selfAdaptionImage()\r\n        that.applyParameter()\r\n        // 计算图像的新宽度和高度\r\n        let newWidth = this.img.width * this.scale;\r\n        let newHeight = this.img.height * this.scale;\r\n        that.contextPic.drawImage(that.img,\r\n            that.offsetX, that.offsetY,\r\n            newWidth, newHeight)\r\n        nextTick(() => {\r\n          let descriptionBox = that.$refs[\"description-box\"]\r\n          // 若宽大于高，则将描述信息放到图片的下方\r\n          descriptionBox.style.top = (this.offsetY + this.img.height * this.scale) + \"px\"\r\n          descriptionBox.style.left = \"0px\"\r\n        })\r\n      }\r\n    },\r\n    // 参数初始化\r\n    initParameter() {\r\n      this.finalConfiguration = {\r\n        canvasWidth: this.canvasWidth,\r\n        canvasHeight: this.canvasHeight,\r\n        maskBackground: this.maskBackground,\r\n        animationTime: this.animationTime,\r\n        showDescriptionBox: this.showDescriptionBox,\r\n        descriptionBoxStyle: this.descriptionBoxStyle\r\n      }\r\n      // 最后用默认配置补全\r\n      Utils.mergeObjects(this.finalConfiguration, RendererConfiguration.DefaultConfiguration)\r\n    },\r\n    // 将参数作用于HTML\r\n    applyParameter() {\r\n      let width = this.img.width * this.scale\r\n      let height = this.img.height * this.scale\r\n      // 设置drawing-area的宽高\r\n      this.$refs[\"canvas-pic\"].width = width\r\n      this.$refs[\"canvas-pic\"].height = height\r\n      this.$refs[\"canvas-masking\"].width = width\r\n      this.$refs[\"canvas-masking\"].height = height\r\n      // 设置main box的大小\r\n      this.$refs[\"canvas-box\"].style.width = width + \"px\"\r\n      this.$refs[\"canvas-box\"].style.height = height + \"px\"\r\n      // 设置底部注释框的大小\r\n      this.$refs[\"description-box\"].style.width = (this.img.width * this.scale - 32) + \"px\"\r\n      this.$refs[\"description-box\"].style.minHeight = \"10px\"\r\n      this.$refs[\"description-box\"].style.background = this.finalConfiguration.descriptionBoxStyle.background\r\n      this.$refs[\"description-box\"].style.color = this.finalConfiguration.descriptionBoxStyle.color\r\n    },\r\n    /**\r\n     * 聚焦区域：鼠标移动到该区域后，将该区域外面的区域用半透明蒙版遮盖\r\n     * @param points 需要聚焦的区域\r\n     * @param sizeRatio 按光标当前位置，画 总宽*sizeRatio 的圆（蒙版圆）\r\n     */\r\n    focusArea(points, sizeRatio) {\r\n      const maskCanvas = document.createElement('canvas');\r\n      const maskCtx = maskCanvas.getContext('2d');\r\n      maskCanvas.width = this.canvasMasking.width;\r\n      maskCanvas.height = this.canvasMasking.height;\r\n\r\n      // 设置蒙版颜色和透明度\r\n      maskCtx.fillStyle = this.finalConfiguration.maskBackground;\r\n\r\n      // 在蒙版画布上填充整个画布\r\n      maskCtx.fillRect(0, 0, this.img.width * this.scale, this.img.height * this.scale);\r\n\r\n      maskCtx.fillStyle = 'rgba(0, 0, 0, 1)';\r\n      // 在蒙版画布上用globalCompositeOperation属性剪去多边形内部的部分\r\n      maskCtx.globalCompositeOperation = 'destination-out';\r\n      maskCtx.beginPath();\r\n      maskCtx.moveTo(points[0].x * this.scale, points[0].y * this.scale);\r\n      for (let i = 1; i < points.length; i++) {\r\n        maskCtx.lineTo(points[i].x * this.scale, points[i].y * this.scale);\r\n      }\r\n      maskCtx.closePath();\r\n      maskCtx.fill();\r\n\r\n      maskCtx.beginPath();\r\n      maskCtx.arc(this.cursorPosition.x - this.offsetX, this.cursorPosition.y - this.offsetY,\r\n          Math.max(this.img.width, this.img.height) * this.scale * sizeRatio, 0, Math.PI * 2);\r\n      maskCtx.fill()\r\n\r\n      // 将蒙版应用到主画布上\r\n      this.contextMasking.drawImage(maskCanvas, this.offsetX, this.offsetY);\r\n    },\r\n    /**\r\n     * 将图像自适应化地画如到canvas中\r\n     */\r\n    refreshCanvas() {\r\n      this.contextMasking.clearRect(0, 0, this.canvasMasking.width, this.canvasMasking.height);\r\n      if (this.timer) {\r\n        clearInterval(this.timer);\r\n      }\r\n      // 判断是否需要设置遮罩层\r\n      if (this.selecting) {\r\n        let that = this\r\n        // 定义变化步骤数和变化速度\r\n        let steps = Math.floor(this.finalConfiguration.animationTime);\r\n        let interval = 0;\r\n        let currentStep = 0;\r\n        that.showDescription()\r\n        this.timer = setInterval(function () {\r\n          // 计算当前的变化程度，该值可作为圆形半径大小\r\n          let sizeRatio = Math.max(0, 1.0 - currentStep / steps);\r\n\r\n          that.contextMasking.clearRect(0, 0, that.canvasMasking.width, that.canvasMasking.height);\r\n          that.focusArea(that.allPoints[that.selectingIndex], sizeRatio)\r\n\r\n          // 增加变化步骤数\r\n          currentStep++;\r\n          // 如果达到目标步骤数，清除定时器\r\n          if (currentStep > steps) {\r\n            clearInterval(that.timer);\r\n          }\r\n        }, interval);\r\n      } else {\r\n        let canvasHeight = this.offsetY + this.img.height * this.scale;\r\n        this.$refs[\"canvas-box\"].style.height = canvasHeight + \"px\"\r\n      }\r\n      // 向上传递选中或未选中事件\r\n      if (this.selecting) {\r\n        this.$emit(\"selecting\", {\r\n          selectingIndex: this.selectingIndex,\r\n          points: this.allPoints[this.selectingIndex],\r\n          areaInfo: this.allAreaInfos[this.selectingIndex]\r\n        })\r\n      } else {\r\n        this.$emit(\"unselecting\", {})\r\n      }\r\n    },\r\n    // 展示描述信息\r\n    showDescription() {\r\n      // console.log(this.finalConfiguration.showDescriptionBox)\r\n      if (this.finalConfiguration.showDescriptionBox) {\r\n        let that = this\r\n        nextTick(() => {\r\n          let descriptionBox = that.$refs[\"description-box\"]\r\n          // 若宽大于高，则将描述信息放到图片的下方\r\n          descriptionBox.style.top = (this.offsetY + this.img.height * this.scale) + \"px\"\r\n          descriptionBox.style.left = \"0px\"\r\n          // 4px的安全距离，注释框的上下都是4px\r\n          const SafeDistance = 4;\r\n          let canvasHeight = that.offsetY + that.img.height * that.scale + descriptionBox.offsetHeight + SafeDistance * 2;\r\n          that.$refs[\"canvas-box\"].style.height = canvasHeight + \"px\"\r\n        })\r\n      }\r\n    },\r\n  },\r\n  mounted() {\r\n    this.init()\r\n  },\r\n  computed: {}\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n* {\r\n  font-family: 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;\r\n}\r\n\r\n#main {\r\n  position: relative;\r\n  transition: all .5s ease-out;\r\n  overflow: hidden;\r\n}\r\n\r\n#canvas-pic, #canvas-masking {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n}\r\n\r\n#canvas-masking {\r\n  transition: all 5s;\r\n}\r\n\r\n.description-box-down {\r\n  margin-top: 4px;\r\n  background: #EBEBE3;\r\n  border-radius: 8px;\r\n  padding: 16px;\r\n  position: absolute;\r\n  margin-bottom: 4px;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","/* globals __VUE_SSR_CONTEXT__ */\n\n// IMPORTANT: Do NOT use ES2015 features in this file (except for modules).\n// This module is a runtime utility for cleaner component module output and will\n// be included in the final webpack user bundle.\n\nexport default function normalizeComponent(\n  scriptExports,\n  render,\n  staticRenderFns,\n  functionalTemplate,\n  injectStyles,\n  scopeId,\n  moduleIdentifier /* server only */,\n  shadowMode /* vue-cli only */\n) {\n  // Vue.extend constructor export interop\n  var options =\n    typeof scriptExports === 'function' ? scriptExports.options : scriptExports\n\n  // render functions\n  if (render) {\n    options.render = render\n    options.staticRenderFns = staticRenderFns\n    options._compiled = true\n  }\n\n  // functional template\n  if (functionalTemplate) {\n    options.functional = true\n  }\n\n  // scopedId\n  if (scopeId) {\n    options._scopeId = 'data-v-' + scopeId\n  }\n\n  var hook\n  if (moduleIdentifier) {\n    // server build\n    hook = function (context) {\n      // 2.3 injection\n      context =\n        context || // cached call\n        (this.$vnode && this.$vnode.ssrContext) || // stateful\n        (this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext) // functional\n      // 2.2 with runInNewContext: true\n      if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {\n        context = __VUE_SSR_CONTEXT__\n      }\n      // inject component styles\n      if (injectStyles) {\n        injectStyles.call(this, context)\n      }\n      // register component module identifier for async chunk inferrence\n      if (context && context._registeredComponents) {\n        context._registeredComponents.add(moduleIdentifier)\n      }\n    }\n    // used by ssr in case component is cached and beforeCreate\n    // never gets called\n    options._ssrRegister = hook\n  } else if (injectStyles) {\n    hook = shadowMode\n      ? function () {\n          injectStyles.call(\n            this,\n            (options.functional ? this.parent : this).$root.$options.shadowRoot\n          )\n        }\n      : injectStyles\n  }\n\n  if (hook) {\n    if (options.functional) {\n      // for template-only hot-reload because in that case the render fn doesn't\n      // go through the normalizer\n      options._injectStyles = hook\n      // register for functional component in vue file\n      var originalRender = options.render\n      options.render = function renderWithStyleInjection(h, context) {\n        hook.call(context)\n        return originalRender(h, context)\n      }\n    } else {\n      // inject component registration as beforeCreate hook\n      var existing = options.beforeCreate\n      options.beforeCreate = existing ? [].concat(existing, hook) : [hook]\n    }\n  }\n\n  return {\n    exports: scriptExports,\n    options: options\n  }\n}\n","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=10308cb9&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=10308cb9&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"10308cb9\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"main\"},[_c('div',{ref:\"drawing-area\",staticClass:\"drawing-area\"},[_c('canvas',{ref:\"canvas\",attrs:{\"id\":\"canvas\",\"height\":\"400\",\"width\":\"500\"}})]),_c('div',{ref:\"editing-area\",staticStyle:{\"height\":\"400px\",\"width\":\"200px\",\"margin-left\":\"8px\",\"background\":\"#e8e8e8\"}},[_c('div',{staticStyle:{\"padding\":\"8px\"}},[(!_vm.drawing && !_vm.editing)?_c('div',[_c('image-spotlight-button',{attrs:{\"type\":\"success\"},nativeOn:{\"click\":function($event){return _vm.accomplish.apply(null, arguments)}}},[_vm._v(_vm._s(_vm.finalConfiguration.buttonNames.accomplish)+\" \")]),_c('image-spotlight-button',{nativeOn:{\"click\":function($event){return _vm.newArea.apply(null, arguments)}}},[_vm._v(_vm._s(_vm.finalConfiguration.buttonNames.newArea)+\" \")]),_c('image-spotlight-button',{nativeOn:{\"click\":function($event){return _vm.recoverImagePosition.apply(null, arguments)}}},[_vm._v(_vm._s(_vm.finalConfiguration.buttonNames.resetPosition)+\" \")])],1):(_vm.drawing)?_c('div',[_c('image-spotlight-button',{attrs:{\"type\":\"success\"},nativeOn:{\"click\":function($event){return _vm.addArea.apply(null, arguments)}}},[_vm._v(_vm._s(_vm.finalConfiguration.buttonNames.addArea)+\" \")]),_c('image-spotlight-button',{attrs:{\"type\":\"warning\"},nativeOn:{\"click\":function($event){return _vm.rollBackAreaLatestPoint.apply(null, arguments)}}},[_vm._v(\" \"+_vm._s(_vm.finalConfiguration.buttonNames.rollBack)+\" \")]),_c('image-spotlight-button',{nativeOn:{\"click\":function($event){return _vm.cancelArea.apply(null, arguments)}}},[_vm._v(_vm._s(_vm.finalConfiguration.buttonNames.cancelArea)+\" \")])],1):(_vm.editing)?_c('div',[_c('image-spotlight-button',{attrs:{\"type\":\"success\"},nativeOn:{\"click\":function($event){return _vm.confirmChange.apply(null, arguments)}}},[_vm._v(_vm._s(_vm.finalConfiguration.buttonNames.confirmChange)+\" \")]),_c('image-spotlight-button',{attrs:{\"type\":\"warning\"},nativeOn:{\"click\":function($event){return _vm.deleteArea.apply(null, arguments)}}},[_vm._v(_vm._s(_vm.finalConfiguration.buttonNames.deleteArea)+\" \")]),_c('image-spotlight-button',{nativeOn:{\"click\":function($event){return _vm.cancelChange.apply(null, arguments)}}},[_vm._v(_vm._s(_vm.finalConfiguration.buttonNames.cancelChange)+\" \")])],1):_vm._e()]),_c('div',{staticStyle:{\"margin\":\"0 8px 8px 8px\",\"background\":\"white\",\"border-radius\":\"8px\"}},[(!_vm.drawing && !_vm.editing)?_c('div',[_c('div',{ref:\"outline-list\",staticClass:\"outlines-list\",style:({\n                background: _vm.finalConfiguration.areaListBackground,\n                width: (_vm.finalConfiguration.editingWidth - 16 - 8 - 4) +'px',\n                height: (_vm.finalConfiguration.height - 56 - 8) + 'px'\n              })},[_c('div',{ref:\"scroll\",staticClass:\"scroll\",style:({\n                   width: (_vm.finalConfiguration.editingWidth - 16 - 8 - 4) + 'px',\n                   height: (_vm.finalConfiguration.height - 56 - 8 - 4) + 'px',\n               })},_vm._l((_vm.allAreaInfos),function(info,index){return _c('div',{ref:'areaListItem-' + index,refInFor:true,staticClass:\"outlines-item\",style:({\n                   background: _vm.finalConfiguration.areaListItemBackground,\n                   width: (_vm.finalConfiguration.editingWidth - 16 - 8 - 8 - 8) + 'px',\n                 }),on:{\"mouseover\":function($event){return _vm.highlightArea(index)},\"mouseleave\":function($event){return _vm.recoverArea(index)},\"click\":function($event){return _vm.editArea(index)}}},[_vm._v(\" \"+_vm._s(info.name)+\" \")])}),0)])]):(_vm.drawing || _vm.editing)?_c('div',{style:({\n                   padding:'8px',\n                   width: (_vm.finalConfiguration.editingWidth - 16 - 8 - 4) + 'px',\n                   height: (_vm.finalConfiguration.height - 56 - 8 - 4) + 'px',\n                 })},[_c('div',{staticStyle:{\"text-align\":\"center\",\"font-weight\":\"bolder\",\"padding-bottom\":\"8px\"}},[_vm._v(\"选区信息\")]),_c('div',{staticStyle:{\"margin-bottom\":\"8px\"}},[(_vm.finalConfiguration.rule.name.required)?_c('span',{staticStyle:{\"color\":\"red\"}},[_vm._v(\"*\")]):_vm._e(),_vm._v(\" 选区名称 \"),(_vm.areaInfoError.name)?_c('span',{staticStyle:{\"color\":\"red\",\"font-size\":\"small\"}},[_vm._v(_vm._s(_vm.finalConfiguration.rule.name.info))]):_vm._e()]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.areaInfo.name),expression:\"areaInfo.name\"}],staticClass:\"base-input input\",style:({marginBottom: '8px',width: (_vm.finalConfiguration.editingWidth - 16 - 8 - 8 - 10) + 'px'}),attrs:{\"placeholder\":\"请输入选区名称\"},domProps:{\"value\":(_vm.areaInfo.name)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.areaInfo, \"name\", $event.target.value)}}}),_c('div',{staticStyle:{\"margin-bottom\":\"8px\"}},[(_vm.finalConfiguration.rule.description.required)?_c('span',{staticStyle:{\"color\":\"red\"}},[_vm._v(\"*\")]):_vm._e(),_vm._v(\" 选区描述 \"),(_vm.areaInfoError.description)?_c('span',{staticStyle:{\"color\":\"red\",\"font-size\":\"small\"}},[_vm._v(_vm._s(_vm.finalConfiguration.rule.description.info))]):_vm._e()]),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.areaInfo.description),expression:\"areaInfo.description\"}],staticClass:\"base-input textarea\",style:({width: (_vm.finalConfiguration.editingWidth - 16 - 8 - 8 - 10) + 'px'}),attrs:{\"rows\":Math.floor((_vm.finalConfiguration.height - 56 - 8 - 4 - 108.8 - 8) / 20.8 - 1),\"placeholder\":\"请输入选区描述\"},domProps:{\"value\":(_vm.areaInfo.description)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.areaInfo, \"description\", $event.target.value)}}})]):_vm._e()])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('button',{ref:\"button\",staticClass:\"image-spotlight-button\",attrs:{\"type\":\"button\"}},[_vm._t(\"default\",function(){return [_c('span',[_vm._v(\"按钮\")])]})],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <button class=\"image-spotlight-button\" type=\"button\" ref=\"button\">\r\n    <slot>\r\n      <span>按钮</span>\r\n    </slot>\r\n  </button>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"ImageSpotlightButton\",\r\n  props: {\r\n    type: {\r\n      type: String,\r\n      default: \"default\",\r\n    },\r\n  },\r\n  components: {},\r\n  data() {\r\n    return {\r\n      typeStyle: {\r\n        default: {\r\n          background: \"#FFFFFF\",\r\n          color: \"#000000\",\r\n          backgroundAfterHover: \"#ECF5FF\",\r\n          colorAfterHover: \"#409EFF\",\r\n        },\r\n        success: {\r\n          background: \"#67C23A\",\r\n          color: \"#FFFFFF\",\r\n          backgroundAfterHover: \"#95D475\",\r\n          colorAfterHover: \"#FFFFFF\",\r\n        },\r\n        warning: {\r\n          background: \"#E6A23C\",\r\n          color: \"#FFFFFF\",\r\n          backgroundAfterHover: \"#EEBE77\",\r\n          colorAfterHover: \"#FFFFFF\",\r\n        },\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n\r\n  },\r\n  mounted() {\r\n    let type = \"default\"\r\n    if (this.type in this.typeStyle) {\r\n      type = this.type\r\n    }\r\n    // console.log(this.type)\r\n    // console.log(this.typeStyle)\r\n    // console.log(this.type in this.typeStyle)\r\n    const button = this.$refs.button\r\n    button.style.background = this.typeStyle[type].background\r\n    button.style.color = this.typeStyle[type].color\r\n    let that = this\r\n    button.onmouseover = () => {\r\n      button.style.background = that.typeStyle[type].backgroundAfterHover\r\n      button.style.color = that.typeStyle[type].colorAfterHover\r\n    };\r\n    button.onmouseout = function () {\r\n      button.style.background = that.typeStyle[type].background\r\n      button.style.color = that.typeStyle[type].color\r\n    };\r\n  },\r\n  computed: {}\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.image-spotlight-button {\r\n  padding: 8px 15px;\r\n  margin-right: 1px;\r\n  display: inline-flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  height: 32px;\r\n  outline: 0;\r\n  cursor: pointer;\r\n  border: 1px solid #eeeeee;\r\n  border-radius: 4px;\r\n  transition: .1s;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./image-spotlight-button.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./image-spotlight-button.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./image-spotlight-button.vue?vue&type=template&id=09df7450&scoped=true&\"\nimport script from \"./image-spotlight-button.vue?vue&type=script&lang=js&\"\nexport * from \"./image-spotlight-button.vue?vue&type=script&lang=js&\"\nimport style0 from \"./image-spotlight-button.vue?vue&type=style&index=0&id=09df7450&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"09df7450\",\n  null\n  \n)\n\nexport default component.exports","import Utils from \"./utils\";\r\n\r\nconst DefaultConfiguration = {\r\n    canvasWidth: 500,       // 画布宽度\r\n    editingWidth: 200,      // 右侧编辑区宽度\r\n    height: 400,            // 总高度，两侧高度一致\r\n    // 被选中的区域样式\r\n    selectingAreaStyle: {\r\n        lineColor: \"#FF0000\",\r\n        lineWidth: 2,\r\n        pointColor: \"#FFFF00\",\r\n        pointRadius: 2,\r\n    },\r\n    // 正在画的区域样式\r\n    drawingAreaStyle: {\r\n        lineColor: \"#0000FF\",\r\n        lineWidth: 2,\r\n        pointColor: \"#0000FF\",\r\n        pointRadius: 2,\r\n    },\r\n    // 其他已经画的区域样式\r\n    otherAreaStyle: {\r\n        lineColor: \"#000000\",\r\n        lineWidth: 1,\r\n        pointColor: \"#000000\",\r\n        pointRadius: 2,\r\n    },\r\n    // 用户填写的表单数据校验\r\n    rule: {\r\n        name: {\r\n            required: true,\r\n            pattern: '^[\\\\s\\\\S]*.*[^\\\\s][\\\\s\\\\S]*$',  // 不为空\r\n            info: \"名字不能为空\"\r\n        },\r\n        description: {\r\n            required: false,\r\n            pattern: \"^[\\\\s\\\\S]*$\",     // 填啥都行\r\n            info: \"\"\r\n        },\r\n    },\r\n    // 背景填充图片，最好是平铺图\r\n    backgroundImage: `url(${Utils.getImage(\"transparent-background.png\")})`,\r\n    // 右侧编辑区背景色\r\n    editingAreaBackground: \"#E8E8E8\",\r\n    // 选区列表背景颜色\r\n    areaListBackground: \"#FFFFFF\",\r\n    // 选区列表中每个列元的背景颜色\r\n    areaListItemBackground: \"#E8E8E8\",\r\n    // 选区列表中每个列元，被hover后的背景颜色\r\n    areaListItemBackgroundAfterHover: \"#BDBDBD\",\r\n    // 按钮名称\r\n    buttonNames: {\r\n        // 默认态时的按钮\r\n        accomplish: \"完成\",\r\n        newArea: \"新的\",\r\n        resetPosition: \"置位\",\r\n        // 新建选区时的按钮\r\n        addArea: \"确认\",\r\n        cancelArea: \"取消\",\r\n        rollBack: \"撤回\",\r\n        // 编辑选区时的按钮\r\n        confirmChange: \"确认\",\r\n        cancelChange: \"取消\",\r\n        deleteArea: \"删除\",\r\n    }\r\n}\r\n\r\nexport default {\r\n    DefaultConfiguration\r\n}","<script>\r\nimport {nextTick} from \"vue\";\r\nimport Utils from \"../../assets/js/utils.js\";\r\nimport ImageSpotlightButton from \"../subcomponent/image-spotlight-button.vue\";\r\nimport Configuration from \"../../assets/js/editorConfiguration\";\r\n\r\nexport default {\r\n  name: \"ImageSpotlightEditor\",\r\n  components: {\r\n    ImageSpotlightButton\r\n  },\r\n  props: {\r\n    imgUrl: {\r\n      type: String,\r\n      required: true,\r\n    },\r\n    // 允许传入预设参数\r\n    allPoints: {\r\n      type: Array,\r\n      default: () => []\r\n    },\r\n    allAreaInfos: {\r\n      type: Array,\r\n      default: () => []\r\n    },\r\n    // 画布宽度\r\n    canvasWidth: {\r\n      type: Number,\r\n      default: 500,\r\n    },\r\n    // 右侧编辑区宽度\r\n    editingWidth: {\r\n      type: Number,\r\n      default: 200,\r\n    },\r\n    // 总高度，两侧高度一致\r\n    height: {\r\n      type: Number,\r\n      default: 400,\r\n    },\r\n    // 被选中的区域样式\r\n    selectingAreaStyle: {\r\n      type: Object,\r\n      default: () => {\r\n        return {\r\n          lineColor: \"#FF0000\",\r\n          lineWidth: 2,\r\n          pointColor: \"#FFFF00\",\r\n          pointRadius: 2,\r\n        }\r\n      }\r\n    },\r\n    // 正在画的区域样式\r\n    drawingAreaStyle: {\r\n      type: Object,\r\n      default: () => {\r\n        return {\r\n          lineColor: \"#0000FF\",\r\n          lineWidth: 2,\r\n          pointColor: \"#0000FF\",\r\n          pointRadius: 2,\r\n        }\r\n      }\r\n    },\r\n    // 其他已经画的区域样式\r\n    otherAreaStyle: {\r\n      type: Object,\r\n      default: () => {\r\n        return {\r\n          lineColor: \"#000000\",\r\n          lineWidth: 1,\r\n          pointColor: \"#000000\",\r\n          pointRadius: 2,\r\n        }\r\n      }\r\n    },\r\n    // 用户填写的表单数据校验\r\n    rule: {\r\n      type: Object,\r\n      default: () => {\r\n        return {\r\n          name: {\r\n            required: true,\r\n            pattern: '^[\\\\s\\\\S]*.*[^\\\\s][\\\\s\\\\S]*$',  // 不为空\r\n            info: \"名字不能为空\"\r\n          },\r\n          description: {\r\n            required: false,\r\n            pattern: \"^[\\\\s\\\\S]*$\",     // 填啥都行\r\n            info: \"\"\r\n          },\r\n        }\r\n      }\r\n    },\r\n    // 背景填充图片，最好是平铺图\r\n    backgroundImage: {\r\n      type: String,\r\n      default: () => {\r\n        return `url(${Utils.getImage('transparent-background.png')})`\r\n      }\r\n    },\r\n    // 右侧编辑区背景色\r\n    editingAreaBackground: {\r\n      type: String,\r\n      default: () => {\r\n        return \"#E8E8E8\"\r\n      }\r\n    },\r\n    // 选区列表背景颜色\r\n    areaListBackground: {\r\n      type: String,\r\n      default: () => {\r\n        return \"#FFFFFF\"\r\n      }\r\n    },\r\n    // 选区列表中每个列元的背景颜色\r\n    areaListItemBackground: {\r\n      type: String,\r\n      default: () => {\r\n        return \"#E8E8E8\"\r\n      }\r\n    },\r\n    // 选区列表中每个列元，被hover后的背景颜色\r\n    areaListItemBackgroundAfterHover: {\r\n      type: String,\r\n      default: () => {\r\n        return \"#BDBDBD\"\r\n      }\r\n    },\r\n    // 按钮名称\r\n    buttonNames: {\r\n      type: Object,\r\n      default: () => {\r\n        return {\r\n          // 默认态时的按钮\r\n          accomplish: \"完成\",\r\n          newArea: \"新的\",\r\n          resetPosition: \"置位\",\r\n          // 新建选区时的按钮\r\n          addArea: \"确认\",\r\n          cancelArea: \"取消\",\r\n          rollBack: \"撤回\",\r\n          // 编辑选区时的按钮\r\n          confirmChange: \"确认\",\r\n          cancelChange: \"取消\",\r\n          deleteArea: \"删除\",\r\n        }\r\n      }\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      // 配置\r\n      finalConfiguration: Configuration.DefaultConfiguration,\r\n      // 当前画布\r\n      canvas: null,\r\n      // 当前图形，如果画完就会加入到contexts\r\n      context: null,\r\n      // 当前图形的点\r\n      points: [],\r\n      // 当前选区信息\r\n      areaInfo: {\r\n        name: '',           // 选区名称\r\n        description: '',    // 选区描述\r\n      },\r\n      // 当前选区信息是否错误\r\n      areaInfoError: {\r\n        name: false,\r\n        description: false,\r\n      },\r\n      // 当前待编辑的选区\r\n      areaIndex: 0,\r\n\r\n      // 是否正在画图形\r\n      drawing: 0,\r\n      // 是否正在编辑选区\r\n      editing: 0,\r\n      // 是否选中某个选区？\r\n      selecting: false,\r\n      // 是否按下鼠标左键（此时将图片跟随鼠标移动）\r\n      mouseDown: false,\r\n\r\n      // 所有图形和信息\r\n      img: null,    // 图像\r\n      // allPoints: null,\r\n      // allAreaInfos: null,\r\n\r\n      // 图像的缩放比例和坐标偏移量\r\n      scale: 1.0,\r\n      offsetX: 0.0,\r\n      offsetY: 0.0,\r\n      // 上次按下鼠标时的坐标\r\n      preDownX: 0.0,\r\n      preDownY: 0.0,\r\n    }\r\n  },\r\n  methods: {\r\n    // 初始化\r\n    init() {\r\n      this.initParameter()\r\n      this.applyParameter()\r\n      this.canvas = this.$refs.canvas;\r\n      // 设置canvas大小\r\n      this.canvas.width = this.finalConfiguration.canvasWidth\r\n      this.canvas.height = this.finalConfiguration.height\r\n\r\n      this.context = this.canvas.getContext(\"2d\");\r\n      let that = this\r\n      // 加载图像\r\n      this.img = new Image();\r\n      this.img.src = this.imgUrl;\r\n\r\n      // 鼠标点击事件处理程序\r\n      this.canvas.addEventListener(\"mousedown\", function (e) {\r\n        if (!that.drawing) return;\r\n        // 获取鼠标点击的位置\r\n        let x = (e.offsetX - that.offsetX) / that.scale;\r\n        let y = (e.offsetY - that.offsetY) / that.scale;\r\n        // 超出区域无法绘制\r\n        if (x < 0 || y < 0 || x > that.img.width || y > that.img.height) return;\r\n        // 添加点到数组中\r\n        that.points.push({x: x, y: y});\r\n        // 清空画布并重新绘制所有点和线段\r\n        that.refreshCanvas();\r\n      });\r\n      // 鼠标滚轮事件处理程序\r\n      this.canvas.addEventListener(\"wheel\", function (e) {\r\n        // 阻止默认滚动行为\r\n        e.preventDefault();\r\n\r\n        // 获取鼠标滚动的距离和方向\r\n        let delta = e.deltaY > 0 ? -0.1 : 0.1;\r\n\r\n        // 获取鼠标当前位置\r\n        let x = e.offsetX;\r\n        let y = e.offsetY;\r\n\r\n        // 计算新的缩放比例和坐标偏移量\r\n        let newScale = e.deltaY > 0 ? (that.scale * 0.9) : (that.scale * 1.1);\r\n        let deltaX = (x - that.offsetX) * delta;\r\n        let deltaY = (y - that.offsetY) * delta;\r\n\r\n        let newX = that.offsetX - deltaX;\r\n        let newY = that.offsetY - deltaY;\r\n\r\n        // 更新缩放比例和坐标偏移量\r\n        that.scale = newScale;\r\n        that.offsetX = newX;\r\n        that.offsetY = newY;\r\n\r\n        // 绘制图像\r\n        nextTick(() => {\r\n          that.refreshCanvas()\r\n        })\r\n      });\r\n      // 鼠标按下事件处理程序\r\n      this.canvas.addEventListener(\"mousedown\", function (e) {\r\n        if (e.button !== 0) {\r\n          return;\r\n        }\r\n        that.mouseDown = true;\r\n        that.preDownX = e.offsetX;\r\n        that.preDownY = e.offsetY;\r\n        // that.canvas.style.cursor = \"grabbing\";\r\n      });\r\n      // 鼠标松开事件处理程序\r\n      this.canvas.addEventListener(\"mouseup\", function (e) {\r\n        if (e.button !== 0) {\r\n          return;\r\n        }\r\n        that.mouseDown = false;\r\n        // that.canvas.style.cursor = \"grab\";\r\n      });\r\n      // 鼠标移动事件处理程序\r\n      this.canvas.addEventListener(\"mousemove\", function (e) {\r\n        if (that.mouseDown) {\r\n          // 计算偏移值\r\n          if (!that.drawing ||\r\n              Math.abs(that.preDownX - e.offsetX) >= 8 ||\r\n              Math.abs(that.preDownY - e.offsetY) >= 8\r\n          ) {\r\n            that.offsetX += e.movementX;\r\n            that.offsetY += e.movementY;\r\n          }\r\n          // 将图像绘制到画布上\r\n          that.refreshCanvas()\r\n        }\r\n      });\r\n      // 体验优化：鼠标移开画布时取消移动状态\r\n      this.canvas.addEventListener(\"mouseleave\", function (e) {\r\n        if (e.button !== 0) {\r\n          return;\r\n        }\r\n        that.mouseDown = false;\r\n      })\r\n\r\n      // 绘制原始图像\r\n      this.img.onload = function () {\r\n        that.initImage()\r\n        nextTick(() => {\r\n          that.refreshCanvas()\r\n        })\r\n      };\r\n\r\n    },\r\n    // 参数初始化\r\n    initParameter() {\r\n      let defaultConfiguration = Configuration.DefaultConfiguration\r\n      this.finalConfiguration = {\r\n        canvasWidth: this.canvasWidth ? this.canvasWidth : this.defaultConfiguration.canvasWidth,\r\n        editingWidth: this.editingWidth ? this.editingWidth : this.defaultConfiguration.editingWidth,      // 右侧编辑区宽度\r\n        height: this.height ? this.height : this.defaultConfiguration.height,            // 总高度，两侧高度一致\r\n        // 被选中的区域样式\r\n        selectingAreaStyle: {\r\n          lineColor: Utils.accessObjectSafely(this.selectingAreaStyle, [\"lineColor\"]) ?\r\n              Utils.accessObjectSafely(this.selectingAreaStyle, [\"lineColor\"]) : defaultConfiguration.selectingAreaStyle.lineColor,\r\n          lineWidth: Utils.accessObjectSafely(this.selectingAreaStyle, [\"lineWidth\"]) ?\r\n              Utils.accessObjectSafely(this.selectingAreaStyle, [\"lineWidth\"]) : defaultConfiguration.selectingAreaStyle.lineWidth,\r\n          pointColor: Utils.accessObjectSafely(this.selectingAreaStyle, [\"pointColor\"]) ?\r\n              Utils.accessObjectSafely(this.selectingAreaStyle, [\"pointColor\"]) : defaultConfiguration.selectingAreaStyle.pointColor,\r\n          pointRadius: Utils.accessObjectSafely(this.selectingAreaStyle, [\"pointRadius\"]) ?\r\n              Utils.accessObjectSafely(this.selectingAreaStyle, [\"pointRadius\"]) : defaultConfiguration.selectingAreaStyle.pointRadius,\r\n        },\r\n        // 正在画的区域样式\r\n        drawingAreaStyle: {\r\n          lineColor: Utils.accessObjectSafely(this.drawingAreaStyle, [\"lineColor\"]) ?\r\n              Utils.accessObjectSafely(this.drawingAreaStyle, [\"lineColor\"]) : defaultConfiguration.selectingAreaStyle.lineColor,\r\n          lineWidth: Utils.accessObjectSafely(this.drawingAreaStyle, [\"lineWidth\"]) ?\r\n              Utils.accessObjectSafely(this.drawingAreaStyle, [\"lineWidth\"]) : defaultConfiguration.selectingAreaStyle.lineWidth,\r\n          pointColor: Utils.accessObjectSafely(this.drawingAreaStyle, [\"pointColor\"]) ?\r\n              Utils.accessObjectSafely(this.drawingAreaStyle, [\"pointColor\"]) : defaultConfiguration.selectingAreaStyle.pointColor,\r\n          pointRadius: Utils.accessObjectSafely(this.drawingAreaStyle, [\"pointRadius\"]) ?\r\n              Utils.accessObjectSafely(this.drawingAreaStyle, [\"pointRadius\"]) : defaultConfiguration.selectingAreaStyle.pointRadius,\r\n        },\r\n        // 其他已经画的区域样式\r\n        otherAreaStyle: {\r\n          lineColor: Utils.accessObjectSafely(this.otherAreaStyle, [\"lineColor\"]) ?\r\n              Utils.accessObjectSafely(this.otherAreaStyle, [\"lineColor\"]) : defaultConfiguration.selectingAreaStyle.lineColor,\r\n          lineWidth: Utils.accessObjectSafely(this.otherAreaStyle, [\"lineWidth\"]) ?\r\n              Utils.accessObjectSafely(this.otherAreaStyle, [\"lineWidth\"]) : defaultConfiguration.selectingAreaStyle.lineWidth,\r\n          pointColor: Utils.accessObjectSafely(this.otherAreaStyle, [\"pointColor\"]) ?\r\n              Utils.accessObjectSafely(this.otherAreaStyle, [\"pointColor\"]) : defaultConfiguration.selectingAreaStyle.pointColor,\r\n          pointRadius: Utils.accessObjectSafely(this.otherAreaStyle, [\"pointRadius\"]) ?\r\n              Utils.accessObjectSafely(this.otherAreaStyle, [\"pointRadius\"]) : defaultConfiguration.selectingAreaStyle.pointRadius,\r\n        },\r\n        // 用户填写的表单数据校验\r\n        rule: {\r\n          name: {\r\n            required: Utils.accessObjectSafely(this.rule, [\"name\", \"required\"]) ?\r\n                Utils.accessObjectSafely(this.rule, [\"name\", \"required\"]) : defaultConfiguration.rule.name.required,\r\n            pattern: Utils.accessObjectSafely(this.rule, [\"name\", \"pattern\"]) ?\r\n                Utils.accessObjectSafely(this.rule, [\"name\", \"pattern\"]) : defaultConfiguration.rule.name.pattern,\r\n            info: Utils.accessObjectSafely(this.rule, [\"name\", \"info\"]) ?\r\n                Utils.accessObjectSafely(this.rule, [\"name\", \"info\"]) : defaultConfiguration.rule.name.info,\r\n          },\r\n          description: {\r\n            required: Utils.accessObjectSafely(this.rule, [\"description\", \"required\"]) ?\r\n                Utils.accessObjectSafely(this.rule, [\"description\", \"required\"]) : defaultConfiguration.rule.description.required,\r\n            pattern: Utils.accessObjectSafely(this.rule, [\"description\", \"pattern\"]) ?\r\n                Utils.accessObjectSafely(this.rule, [\"description\", \"pattern\"]) : defaultConfiguration.rule.description.pattern,\r\n            info: Utils.accessObjectSafely(this.rule, [\"description\", \"info\"]) ?\r\n                Utils.accessObjectSafely(this.rule, [\"description\", \"info\"]) : defaultConfiguration.rule.description.info,\r\n          },\r\n        },\r\n        // 背景填充图片，最好是平铺图\r\n        backgroundImage: this.backgroundImage ? this.backgroundImage : defaultConfiguration.backgroundImage,\r\n        // 右侧编辑区背景色\r\n        editingAreaBackground: this.editingAreaBackground ? this.editingAreaBackground : defaultConfiguration.editingAreaBackground,\r\n        // 选区列表背景颜色\r\n        areaListBackground: this.areaListBackground ? this.areaListBackground : defaultConfiguration.areaListBackground,\r\n        // 选区列表中每个列元的背景颜色\r\n        areaListItemBackground: this.areaListItemBackground ? this.areaListItemBackground : defaultConfiguration.areaListItemBackground,\r\n        // 选区列表中每个列元，被hover后的背景颜色\r\n        areaListItemBackgroundAfterHover: this.areaListItemBackgroundAfterHover ? this.areaListItemBackgroundAfterHover : defaultConfiguration.areaListItemBackgroundAfterHover,\r\n        // 按钮名称\r\n        buttonNames: {\r\n          // 默认态时的按钮\r\n          accomplish: this.buttonNames && this.buttonNames.accomplish ? this.buttonNames.accomplish : defaultConfiguration.buttonNames.accomplish,\r\n          newArea: this.buttonNames && this.buttonNames.newArea ? this.buttonNames.newArea : defaultConfiguration.buttonNames.newArea,\r\n          resetPosition: this.buttonNames && this.buttonNames.resetPosition ? this.buttonNames.resetPosition : defaultConfiguration.buttonNames.resetPosition,\r\n          // 新建选区时的按钮\r\n          addArea: this.buttonNames && this.buttonNames.addArea ? this.buttonNames.addArea : defaultConfiguration.buttonNames.addArea,\r\n          cancelArea: this.buttonNames && this.buttonNames.cancelArea ? this.buttonNames.cancelArea : defaultConfiguration.buttonNames.cancelArea,\r\n          rollBack: this.buttonNames && this.buttonNames.rollBack ? this.buttonNames.rollBack : defaultConfiguration.buttonNames.rollBack,\r\n          // 编辑选区时的按钮\r\n          confirmChange: this.buttonNames && this.buttonNames.confirmChange ? this.buttonNames.confirmChange : defaultConfiguration.buttonNames.confirmChange,\r\n          cancelChange: this.buttonNames && this.buttonNames.cancelChange ? this.buttonNames.cancelChange : defaultConfiguration.buttonNames.cancelChange,\r\n          deleteArea: this.buttonNames && this.buttonNames.deleteArea ? this.buttonNames.deleteArea : defaultConfiguration.buttonNames.deleteArea,\r\n        }\r\n      }\r\n    },\r\n    // 将参数作用于HTML,\r\n    applyParameter() {\r\n      // 设置drawing-area的宽高\r\n      this.$refs[\"drawing-area\"].style.height = this.finalConfiguration.height + \"px\"\r\n      this.$refs[\"drawing-area\"].style.width = this.finalConfiguration.canvasWidth + \"px\"\r\n      // 设置画画区背景图\r\n      this.$refs[\"drawing-area\"].style.backgroundImage = this.finalConfiguration.backgroundImage\r\n      // 设置编辑区宽高\r\n      this.$refs[\"editing-area\"].style.height = this.finalConfiguration.height + \"px\"\r\n      this.$refs[\"editing-area\"].style.width = this.finalConfiguration.editingWidth + \"px\"\r\n      // 由于调整了宽高，内部元素宽高需要自适应\r\n      // 列表宽是总宽的0.92倍\r\n      // this.$refs[\"outline-list\"].style.width = (this.finalConfiguration.editingWidth - 16 - 8 - 4) + \"px\"\r\n      // this.$refs[\"outline-list\"].style.height = (this.finalConfiguration.height - 56 - 8) + \"px\"\r\n      // this.$refs[\"scroll\"].style.width = (this.finalConfiguration.editingWidth - 16 - 8 - 4) + \"px\"\r\n      // this.$refs[\"scroll\"].style.height = (this.finalConfiguration.height - 56 - 8 - 4) + \"px\"\r\n\r\n      // this.$refs[\"editing-input\"].style.width = (this.finalConfiguration.editingWidth - 16 - 8 - 4) + \"px\"\r\n      // this.$refs[\"editing-input\"].style.height = (this.finalConfiguration.height - 56 - 8 - 4) + \"px\"\r\n\r\n      // 设置编辑区样式\r\n      this.$refs[\"editing-area\"].style.background = this.finalConfiguration.editingAreaBackground\r\n    },\r\n\r\n    // 初始化图片：自适应大小、缩放\r\n    initImage() {\r\n      this.selfAdaptionImage()\r\n    },\r\n    // 重置图像到自适应大小\r\n    selfAdaptionImage() {\r\n      // 图形的宽高比\r\n      let aspectRatio = 1.0 * this.img.width / this.img.height;\r\n      // 如果宽高比大于500/400，说明宽要大，那么使得宽缩放到500px，高度自适应\r\n      if (aspectRatio > this.finalConfiguration.canvasWidth / this.finalConfiguration.height) {\r\n        let newWidth = this.finalConfiguration.canvasWidth\r\n        let newHeight = newWidth / aspectRatio\r\n        this.scale = this.finalConfiguration.canvasWidth / this.img.width\r\n        this.offsetX = 0\r\n        this.offsetY = (this.finalConfiguration.height - newHeight) / 2\r\n      } else {\r\n        let newHeight = this.finalConfiguration.height\r\n        let newWidth = newHeight * aspectRatio\r\n        this.scale = this.finalConfiguration.height / this.img.height\r\n        this.offsetX = (this.finalConfiguration.canvasWidth - newWidth) / 2\r\n        this.offsetY = 0\r\n      }\r\n    },\r\n    // 刷新画布\r\n    refreshCanvas() {\r\n      this.context.clearRect(0, 0, this.canvas.width, this.canvas.height);\r\n      this.drawImage()\r\n      this.drawAllOutlines()\r\n      this.drawAllPoints()\r\n    },\r\n    // 绘制图像\r\n    drawImage() {\r\n      // 计算图像的新宽度和高度\r\n      let newWidth = this.img.width * this.scale;\r\n      let newHeight = this.img.height * this.scale;\r\n\r\n      // 绘制图像\r\n      this.context.drawImage(this.img, this.offsetX, this.offsetY, newWidth, newHeight);\r\n    },\r\n    // 绘制所有点的函数\r\n    drawAllPoints() {\r\n      // 画出已存在的点集\r\n      for (let i = 0; i < this.allPoints.length; i++) {\r\n        this.drawPoints(this.allPoints[i], this.selecting && this.areaIndex === i, false)\r\n      }\r\n      // 画当前正在编辑的形状\r\n      this.drawPoints(this.points, false, true)\r\n    },\r\n    drawPoints(points, selected, drawing) {\r\n      let radius = 2;\r\n      if (selected) {\r\n        this.context.fillStyle = this.finalConfiguration.selectingAreaStyle.pointColor\r\n        radius = this.finalConfiguration.selectingAreaStyle.pointRadius\r\n      } else if (drawing) {\r\n        this.context.fillStyle = this.finalConfiguration.drawingAreaStyle.pointColor\r\n        radius = this.finalConfiguration.drawingAreaStyle.pointRadius\r\n      } else {\r\n        this.context.fillStyle = this.finalConfiguration.otherAreaStyle.pointColor\r\n        radius = this.finalConfiguration.otherAreaStyle.pointRadius\r\n      }\r\n\r\n      for (const point of points) {\r\n        this.context.beginPath();\r\n        this.context.arc(point.x * this.scale + this.offsetX,\r\n            point.y * this.scale + this.offsetY, radius, 0, Math.PI * 2);\r\n        this.context.fill();\r\n      }\r\n    },\r\n    // 画出所有的轮廓\r\n    drawAllOutlines() {\r\n      // 先画已保存的轮廓\r\n      for (let i = 0; i < this.allPoints.length; i++) {\r\n        this.drawOutline(this.allPoints[i], this.selecting && this.areaIndex === i, false)\r\n      }\r\n      this.drawOutline(this.points, false, true)\r\n    },\r\n    // 画出某个points数组组成的轮廓\r\n    drawOutline(points, selected, drawing) {\r\n      if (selected) {\r\n        this.context.strokeStyle = this.finalConfiguration.selectingAreaStyle.lineColor\r\n        this.context.lineWidth = this.finalConfiguration.selectingAreaStyle.lineWidth\r\n      } else if (drawing) {\r\n        this.context.strokeStyle = this.finalConfiguration.drawingAreaStyle.lineColor\r\n        this.context.lineWidth = this.finalConfiguration.drawingAreaStyle.lineWidth\r\n      } else {\r\n        this.context.strokeStyle = this.finalConfiguration.otherAreaStyle.lineColor\r\n        this.context.lineWidth = this.finalConfiguration.otherAreaStyle.lineWidth\r\n      }\r\n      if (points.length > 1) {\r\n        this.context.beginPath();\r\n        this.context.moveTo(points[0].x * this.scale + this.offsetX, points[0].y * this.scale + this.offsetY);\r\n        for (let i = 1; i < points.length; i++) {\r\n          this.context.lineTo(points[i].x * this.scale + this.offsetX, points[i].y * this.scale + this.offsetY);\r\n        }\r\n        this.context.closePath();\r\n        this.context.stroke();\r\n      }\r\n    },\r\n\r\n\r\n    // 按钮事件\r\n    // 完成编辑\r\n    accomplish() {\r\n      this.$emit(\"accomplish\", {\r\n        imgUrl: this.imgUrl,\r\n        allAreaInfos: this.allAreaInfos,\r\n        allPoints: this.allPoints,\r\n      })\r\n    },\r\n    // 新建一个选区\r\n    newArea() {\r\n      // 设置正在画画\r\n      this.drawing = true\r\n      this.areaInfo = {\r\n        name: '',\r\n        description: '',\r\n      }\r\n      this.points = []\r\n    },\r\n    // 添加该选区\r\n    addArea() {\r\n      if (this.points.length <= 2) {\r\n        alert(\"请确保选区至少3个点\")\r\n        return;\r\n      } else if (!this.verifyForm()) {\r\n        return;\r\n      }\r\n      // this.canvas.style.cursor = \"grab\"\r\n      this.drawing = false\r\n      this.allPoints.push(this.points)\r\n      // 将当前区域信息插入所有的区域信息数组\r\n      this.allAreaInfos.push(this.areaInfo)\r\n      this.areaInfo = {\r\n        name: '',           // 选区名称\r\n        description: '',    // 选区描述\r\n      }\r\n      this.points = []\r\n      let that = this\r\n      nextTick(() => {\r\n        that.refreshCanvas()\r\n      })\r\n    },\r\n    // 撤回刚刚标记的点\r\n    rollBackAreaLatestPoint() {\r\n      if (this.points && this.points.length >= 1) {\r\n        this.points.splice(this.points.length - 1, 1)\r\n        this.refreshCanvas()\r\n      }\r\n    },\r\n    // 取消该选区\r\n    cancelArea() {\r\n      this.drawing = false\r\n      this.areaInfo = {\r\n        name: '',           // 选区名称\r\n        description: '',    // 选区描述\r\n      }\r\n      this.points = []\r\n      let that = this\r\n      nextTick(() => {\r\n        that.refreshCanvas()\r\n      })\r\n    },\r\n\r\n    // 确认修改选区\r\n    confirmChange() {\r\n      // 只能修改选区的名称和描述\r\n      if (!this.verifyForm()) {\r\n        return;\r\n      }\r\n      // this.canvas.style.cursor = \"grab\"\r\n      this.allAreaInfos[this.areaIndex] = this.areaInfo\r\n      this.editing = false\r\n      this.selecting = false\r\n      let that = this\r\n      nextTick(() => {\r\n        that.refreshCanvas()\r\n      })\r\n    },\r\n    // 取消修改选区\r\n    cancelChange() {\r\n      // this.canvas.style.cursor = \"grab\"\r\n      this.editing = false\r\n      this.selecting = false\r\n      let that = this\r\n      nextTick(() => {\r\n        that.refreshCanvas()\r\n      })\r\n    },\r\n    // 删除选区\r\n    deleteArea() {\r\n      // this.canvas.style.cursor = \"grab\"\r\n      this.allAreaInfos.splice(this.areaIndex, 1)\r\n      this.allPoints.splice(this.areaIndex, 1)\r\n      this.editing = false\r\n      this.selecting = false\r\n      let that = this\r\n      nextTick(() => {\r\n        that.refreshCanvas()\r\n      })\r\n    },\r\n\r\n    // 恢复图片位置\r\n    recoverImagePosition() {\r\n      this.selfAdaptionImage()\r\n      this.refreshCanvas()\r\n    },\r\n\r\n    // 编辑选区\r\n    // 悬浮到某一个选区列表中item上时，就高亮该选区\r\n    highlightArea(index) {\r\n      this.$refs[\"areaListItem-\" + index][0].style.background = this.finalConfiguration.areaListItemBackgroundAfterHover\r\n      this.selecting = true\r\n      this.areaIndex = index\r\n      this.refreshCanvas()\r\n    },\r\n    // 当离开时，就不高亮\r\n    recoverArea(index) {\r\n      this.$refs[\"areaListItem-\" + index][0].style.background = this.finalConfiguration.areaListItemBackground\r\n      this.selecting = false\r\n      this.refreshCanvas()\r\n    },\r\n    // 在选区列表中选中某一个分区时，打开修改窗口，并显示该选区的信息\r\n    editArea(index) {\r\n      // this.canvas.style.cursor = \"grab\"\r\n      // 编辑第index个（从0开始）的选区\r\n      this.areaInfo = {...this.allAreaInfos[index]}\r\n      this.editing = true\r\n      this.selecting = true\r\n      this.areaIndex = index\r\n      let that = this\r\n      nextTick(() => {\r\n        that.refreshCanvas()\r\n      })\r\n    },\r\n\r\n    // 检验表单\r\n    verifyForm() {\r\n      if (this.finalConfiguration.rule.name.required && this.areaInfo.name.length === 0) {\r\n        this.areaInfoError.name = true\r\n        return false\r\n      }\r\n      if (!new RegExp(this.finalConfiguration.rule.name.pattern).test(this.areaInfo.name)) {\r\n        this.areaInfoError.name = true\r\n        return false\r\n      }\r\n\r\n      if (this.finalConfiguration.rule.description.required && this.areaInfo.description.length === 0) {\r\n        this.areaInfoError.description = true\r\n        return false\r\n      }\r\n      // console.log(this.finalConfiguration.rule.description.pattern)\r\n      if (!new RegExp(this.finalConfiguration.rule.description.pattern).test(this.areaInfo.description)) {\r\n        this.areaInfoError.description = true\r\n        return false\r\n      }\r\n      this.areaInfoError.name = false\r\n      this.areaInfoError.description = false\r\n      return true\r\n    }\r\n  },\r\n  mounted() {\r\n    this.init()\r\n  }\r\n}\r\n</script>\r\n\r\n<template>\r\n  <div class=\"main\">\r\n    <div ref=\"drawing-area\" class=\"drawing-area\">\r\n      <canvas ref=\"canvas\" id=\"canvas\" height=\"400\" width=\"500\"/>\r\n    </div>\r\n    <div ref=\"editing-area\" style=\"height: 400px; width: 200px; margin-left: 8px; background: #e8e8e8;\">\r\n      <!-- 按钮组 -->\r\n      <div style=\"padding: 8px\">\r\n        <div v-if=\"!drawing && !editing\">\r\n          <image-spotlight-button type=\"success\" @click.native=\"accomplish\">{{\r\n              finalConfiguration.buttonNames.accomplish\r\n            }}\r\n          </image-spotlight-button>\r\n          <image-spotlight-button @click.native=\"newArea\">{{\r\n              finalConfiguration.buttonNames.newArea\r\n            }}\r\n          </image-spotlight-button>\r\n          <image-spotlight-button @click.native=\"recoverImagePosition\">{{\r\n              finalConfiguration.buttonNames.resetPosition\r\n            }}\r\n          </image-spotlight-button>\r\n        </div>\r\n        <div v-else-if=\"drawing\">\r\n          <image-spotlight-button type=\"success\" @click.native=\"addArea\">{{\r\n              finalConfiguration.buttonNames.addArea\r\n            }}\r\n          </image-spotlight-button>\r\n          <image-spotlight-button type=\"warning\" @click.native=\"rollBackAreaLatestPoint\">\r\n            {{ finalConfiguration.buttonNames.rollBack }}\r\n          </image-spotlight-button>\r\n          <image-spotlight-button @click.native=\"cancelArea\">{{\r\n              finalConfiguration.buttonNames.cancelArea\r\n            }}\r\n          </image-spotlight-button>\r\n        </div>\r\n        <div v-else-if=\"editing\">\r\n          <image-spotlight-button type=\"success\" @click.native=\"confirmChange\">{{\r\n              finalConfiguration.buttonNames.confirmChange\r\n            }}\r\n          </image-spotlight-button>\r\n          <image-spotlight-button type=\"warning\" @click.native=\"deleteArea\">{{\r\n              finalConfiguration.buttonNames.deleteArea\r\n            }}\r\n          </image-spotlight-button>\r\n          <image-spotlight-button @click.native=\"cancelChange\">{{\r\n              finalConfiguration.buttonNames.cancelChange\r\n            }}\r\n          </image-spotlight-button>\r\n        </div>\r\n      </div>\r\n      <!-- 编辑区 -->\r\n      <div style=\"margin: 0 8px 8px 8px; background: white;border-radius: 8px\">\r\n        <div v-if=\"!drawing && !editing\">\r\n          <div ref=\"outline-list\" class=\"outlines-list\"\r\n               :style=\"{\r\n                  background: finalConfiguration.areaListBackground,\r\n                  width: (finalConfiguration.editingWidth - 16 - 8 - 4) +'px',\r\n                  height: (finalConfiguration.height - 56 - 8) + 'px'\r\n                }\">\r\n            <div ref=\"scroll\" class=\"scroll\"\r\n                 :style=\"{\r\n                     width: (finalConfiguration.editingWidth - 16 - 8 - 4) + 'px',\r\n                     height: (finalConfiguration.height - 56 - 8 - 4) + 'px',\r\n                 }\">\r\n              <div v-for=\"(info, index) in allAreaInfos\" class=\"outlines-item\"\r\n                   :ref=\"'areaListItem-' + index\"\r\n                   :style=\"{\r\n                     background: finalConfiguration.areaListItemBackground,\r\n                     width: (finalConfiguration.editingWidth - 16 - 8 - 8 - 8) + 'px',\r\n                   }\"\r\n                   @mouseover=\"highlightArea(index)\"\r\n                   @mouseleave=\"recoverArea(index)\"\r\n                   @click=\"editArea(index)\">\r\n                {{ info.name }}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div v-else-if=\"drawing || editing\"\r\n             :style=\"{\r\n                     padding:'8px',\r\n                     width: (finalConfiguration.editingWidth - 16 - 8 - 4) + 'px',\r\n                     height: (finalConfiguration.height - 56 - 8 - 4) + 'px',\r\n                   }\"\r\n        >\r\n          <div style=\"text-align: center; font-weight: bolder; padding-bottom: 8px\">选区信息</div>\r\n          <div style=\"margin-bottom: 8px\">\r\n            <span v-if=\"finalConfiguration.rule.name.required\" style=\"color: red\">*</span>\r\n            选区名称\r\n            <span v-if=\"areaInfoError.name\" style=\"color: red; font-size: small\">{{\r\n                finalConfiguration.rule.name.info\r\n              }}</span>\r\n          </div>\r\n          <input class=\"base-input input\"\r\n                 :style=\"{marginBottom: '8px',width: (finalConfiguration.editingWidth - 16 - 8 - 8 - 10) + 'px'}\"\r\n                 v-model=\"areaInfo.name\"\r\n                 placeholder=\"请输入选区名称\"/>\r\n          <div style=\"margin-bottom: 8px\">\r\n            <span v-if=\"finalConfiguration.rule.description.required\" style=\"color: red\">*</span>\r\n            选区描述\r\n            <span v-if=\"areaInfoError.description\"\r\n                  style=\"color: red; font-size: small\">{{ finalConfiguration.rule.description.info }}</span>\r\n          </div>\r\n          <textarea class=\"base-input textarea\" v-model=\"areaInfo.description\"\r\n                    :style=\"{width: (finalConfiguration.editingWidth - 16 - 8 - 8 - 10) + 'px'}\"\r\n                    :rows=\"\r\n                      Math.floor((finalConfiguration.height - 56 - 8 - 4 - 108.8 - 8) / 20.8 - 1)\r\n                    \"\r\n                    placeholder=\"请输入选区描述\"/>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n</template>\r\n\r\n<style scoped>\r\n* {\r\n  font-family: 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;\r\n}\r\n\r\n.main {\r\n  height: 400px;\r\n  display: flex;\r\n  justify-content: flex-start;\r\n}\r\n\r\n.drawing-area {\r\n  width: 500px;\r\n  height: 400px;\r\n}\r\n\r\n.outlines-list {\r\n  height: 336px;\r\n  border-radius: 8px;\r\n  padding: 4px 4px 4px 8px;\r\n}\r\n\r\n.outlines-list .scroll {\r\n  height: 332px;\r\n  overflow: scroll;\r\n}\r\n\r\n.outlines-item {\r\n  margin: 4px 4px 0 0;\r\n  border-radius: 8px;\r\n  height: 32px;\r\n  width: 160px;\r\n  text-align: left;\r\n  padding-left: 8px;\r\n  line-height: 32px;\r\n  color: #484848;\r\n  background: #e8e8e8;\r\n  cursor: pointer;\r\n  transition: all .2s;\r\n}\r\n\r\n.outlines-item:hover {\r\n  background: #bdbdbd;\r\n}\r\n\r\n.base-input {\r\n  outline: none;\r\n  padding: 4px;\r\n  border-radius: 4px;\r\n  border: 1px solid #D7D8D9;\r\n  font-size: 16px;\r\n}\r\n\r\n.input {\r\n  width: 158px;\r\n}\r\n\r\n.textarea {\r\n  resize: none;\r\n  width: 158px;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=adf372f8&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=adf372f8&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"adf372f8\",\n  null\n  \n)\n\nexport default component.exports","//package/index.js\r\nimport ImageSpotlightRender from \"./image-spotlight-render/index.vue\";\r\nimport ImageSpotlightEditor from \"./image-spotlight-editor/index.vue\";\r\n\r\nlet plugins = {};\r\nconst componentArray = [ImageSpotlightRender, ImageSpotlightEditor]\r\n\r\nplugins.install = function (Vue) {\r\n    // 判断是否安装过\r\n    if (plugins.installed) return;\r\n    plugins.installed = true\r\n    //  console.log('plugins.installed==========',plugins.installed)\r\n\r\n    componentArray.forEach((item) => {\r\n        Vue.component(item.name, item)\r\n    })\r\n\r\n}\r\n// /* 支持使用标签的方式引入 */\r\n// if (typeof window !== 'undefined' && window.Vue) {\r\n//     install(window.Vue);\r\n// }\r\n// 也可参考 https://cn.vuejs.org/v2/cookbook/packaging-sfc-for-npm.html\r\n\r\nexport default plugins","import './setPublicPath'\nimport mod from '~entry'\nexport default mod\nexport * from '~entry'\n"],"names":["root","factory","exports","module","require","define","amd","self","this","__WEBPACK_EXTERNAL_MODULE__203__","map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","__webpack_module_cache__","moduleId","cachedModule","undefined","__webpack_modules__","d","definition","key","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","r","Symbol","toStringTag","value","p","window","currentScript","document","src","match","render","_vm","_c","_self","ref","attrs","staticClass","staticStyle","_v","_s","allAreaInfos","length","selectingIndex","name","description","trim","staticRenderFns","isPointInPolygon","point","points","scale","offsetX","offsetY","n","inside","i","j","xi","calRealPosition","x","yi","y","xj","yj","intersect","offset","getImage","accessObjectSafely","object","path","data","JSON","parse","stringify","mergeObjects","object1","object2","mergedObject","isObject","item","Array","isArray","DefaultConfiguration","canvasWidth","canvasHeight","maskBackground","animationTime","showDescriptionBox","descriptionBoxStyle","background","color","props","imgUrl","type","String","required","default","allPoints","Number","Boolean","finalConfiguration","img","canvas","context","selecting","cursorPosition","timer","descriptionBox","methods","selfAdaptionImage","aspectRatio","width","height","init","initParameter","canvasPic","$refs","canvasMasking","contextPic","getContext","contextMasking","Image","that","addEventListener","selecting_local","selectingIndex_local","Math","max","refreshCanvas","onload","applyParameter","newWidth","newHeight","drawImage","nextTick","style","top","left","minHeight","focusArea","sizeRatio","maskCanvas","createElement","maskCtx","fillStyle","fillRect","globalCompositeOperation","beginPath","moveTo","lineTo","closePath","fill","arc","PI","clearRect","clearInterval","steps","floor","interval","currentStep","showDescription","setInterval","$emit","areaInfo","SafeDistance","offsetHeight","mounted","computed","normalizeComponent","scriptExports","functionalTemplate","injectStyles","scopeId","moduleIdentifier","shadowMode","hook","options","_compiled","functional","_scopeId","$vnode","ssrContext","parent","__VUE_SSR_CONTEXT__","_registeredComponents","add","_ssrRegister","$root","$options","shadowRoot","_injectStyles","originalRender","h","existing","beforeCreate","concat","component","drawing","editing","nativeOn","$event","addArea","apply","arguments","buttonNames","rollBackAreaLatestPoint","rollBack","cancelArea","confirmChange","deleteArea","cancelChange","_e","accomplish","newArea","recoverImagePosition","resetPosition","padding","editingWidth","rule","areaInfoError","info","directives","rawName","expression","marginBottom","domProps","on","target","composing","$set","areaListBackground","_l","index","refInFor","areaListItemBackground","highlightArea","recoverArea","editArea","_t","components","typeStyle","backgroundAfterHover","colorAfterHover","success","warning","button","onmouseover","onmouseout","selectingAreaStyle","lineColor","lineWidth","pointColor","pointRadius","drawingAreaStyle","otherAreaStyle","pattern","backgroundImage","editingAreaBackground","areaListItemBackgroundAfterHover","ImageSpotlightButton","areaIndex","mouseDown","preDownX","preDownY","push","preventDefault","delta","deltaY","newScale","deltaX","newX","newY","abs","movementX","movementY","initImage","defaultConfiguration","drawAllOutlines","drawAllPoints","drawPoints","selected","radius","drawOutline","strokeStyle","stroke","alert","verifyForm","splice","RegExp","test","plugins","componentArray","install","Vue","installed","forEach"],"sourceRoot":""}