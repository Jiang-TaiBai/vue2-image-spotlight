{"version":3,"file":"vue2-image-spotlight.common.js","mappings":";;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;UCzBA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;WCtBA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA;;;;;WCPA,8CAA8C;;;;;WCA9C;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;WCNA;;;;;;;;;;;;;;;;;ACAA;AACA;;AAEA;AACA;AACA,MAAM,KAAuC,EAAE,yBAQ5C;;AAEH;AACA;AACA,IAAI,qBAAuB;AAC3B;AACA;;AAEA;AACA,kDAAe,IAAI;;;ACtBnB,+BAA+B,6BAA6B,iBAAiB,wBAAwB,aAAa,eAAe,wBAAwB,gDAAgD,eAAe,4BAA4B,oDAAoD,YAAY,yDAAyD,YAAY,aAAa,kEAAkE,gJAAgJ,aAAa,qBAAqB;AAC1nB;AACA;;;;ACFA,IAAI,4DAA4B;;ACAhC;AACA;AACA;AACA;AACA,0BAA0B;AAC1B,0CAA0C,SAAS;AACnD;AACA;AACA;AACA,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,OAAO;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,wBAAQ,GAAS,EAAE,KAAK,CAAC,CAAC;AACrC;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;AACA,gBAAgB,mCAAmC;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,GAAG;AAChB;AACA;AACA,0BAA0B;AAC1B;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAAe;AACf;AACA;AACA;AACA;AACA;;AC/EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,0DAAe;AACf;AACA;;;ACO6B;AACa;AAC+B;;AAEzE,mFAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc,sBAAsB;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,0EAAQ;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM,kBAAkB,0BAA0B,0CAA0C;AAC5F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,0EAAQ;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;;AC7UmI,CAAC,2FAAe,8CAAG,EAAC;;ACAxJ;;;;;AEAA;;AAEA;AACA;AACA;;AAEe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AC/FgG;AACvC;AACL;AACpD,CAA8F;;;AAG9F;AACsG;AACtG,gBAAgB,kBAAU;AAC1B,EAAE,sDAAM;AACR,EAAE,MAAM;AACR,EAAE,eAAe;AACjB;AACA;AACA;AACA;AACA;AACA;;AAEA,2DAAe;;ACnBf,IAAI,sEAAM,qBAAqB,6BAA6B,iBAAiB,mBAAmB,YAAY,8CAA8C,eAAe,oBAAoB,4CAA4C,cAAc,gCAAgC,6EAA6E,YAAY,aAAa,iBAAiB,wEAAwE,OAAO,iBAAiB,WAAW,yBAAyB,+CAA+C,mGAAmG,UAAU,yBAAyB,4CAA4C,gGAAgG,UAAU,yBAAyB,yDAAyD,kIAAkI,OAAO,iBAAiB,WAAW,yBAAyB,4CAA4C,gGAAgG,OAAO,iBAAiB,WAAW,yBAAyB,4DAA4D,qGAAqG,UAAU,yBAAyB,+CAA+C,+HAA+H,OAAO,iBAAiB,WAAW,yBAAyB,kDAAkD,sGAAsG,OAAO,iBAAiB,WAAW,yBAAyB,+CAA+C,mGAAmG,UAAU,yBAAyB,iDAAiD,iGAAiG,aAAa,qEAAqE,qDAAqD;AACr4E;AACA;AACA;AACA,eAAe,EAAE,YAAY;AAC7B;AACA;AACA,gBAAgB,EAAE,gDAAgD,iBAAiB;AACnF;AACA;AACA,kBAAkB,MAAM,6BAA6B,gCAAgC,+BAA+B,8BAA8B,0BAA0B,6BAA6B,sCAAsC,gDAAgD;AAC/R;AACA;AACA;AACA,kBAAkB,EAAE,YAAY,aAAa,qEAAqE,6BAA6B,aAAa,uBAAuB,yDAAyD,aAAa,eAAe,8EAA8E,aAAa,mCAAmC,iFAAiF,aAAa,oFAAoF,yCAAyC,0FAA0F,SAAS,wBAAwB,WAAW,4BAA4B,KAAK,yBAAyB,kCAAkC,sDAAsD,YAAY,aAAa,uBAAuB,gEAAgE,aAAa,eAAe,qFAAqF,aAAa,mCAAmC,2FAA2F,aAAa,kGAAkG,4CAA4C,sEAAsE,SAAS,+GAA+G,WAAW,mCAAmC,KAAK,yBAAyB,kCAAkC,6DAA6D;AACzuD;AACA,IAAI,+EAAe;;;;AChBnB,IAAI,sEAAM,qBAAqB,6BAA6B,oBAAoB,yDAAyD,iBAAiB,8BAA8B,mCAAmC;AAC3N;AACA,IAAI,+EAAe;;;;;ACOnB,mFAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;;ACnEoJ,CAAC,gGAAe,8CAAG,EAAC;;ACAzK;;;;;AEAiH;AACvC;AACL;AACrE,CAA+G;;;AAG/G;AACsG;AACtG,IAAI,gCAAS,GAAG,kBAAU;AAC1B,EAAE,2DAAM;AACR,EAAE,sEAAM;AACR,EAAE,+EAAe;AACjB;AACA;AACA;AACA;AACA;AACA;;AAEA,2DAAe,gCAAS;;ACnBI;AAC5B;AACA,MAAM,wCAAoB;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT,KAAK;AACL;AACA,4BAA4B,cAAc,+BAA+B;AACzE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wDAAe;AACf,wBAAwB;AACxB;;;ACpE6B;AACgB;AACiC;AACd;;AAEhE,mFAAe;AACf;AACA;AACA,wBAAwB;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,cAAc;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,wCAAkC;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,QAAQ,yEAAQ;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,QAAQ,0EAAQ;AAChB;AACA;AACA;;AAEA;AACA;AACA;AACA,iCAAiC,wCAAkC;AACnE;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,wBAAwB;AAC7C,cAAc,wBAAwB;AACtC,qBAAqB,wBAAwB;AAC7C,cAAc,wBAAwB;AACtC,sBAAsB,wBAAwB;AAC9C,cAAc,wBAAwB;AACtC,uBAAuB,wBAAwB;AAC/C,cAAc,wBAAwB;AACtC;AACA;AACA;AACA,qBAAqB,wBAAwB;AAC7C,cAAc,wBAAwB;AACtC,qBAAqB,wBAAwB;AAC7C,cAAc,wBAAwB;AACtC,sBAAsB,wBAAwB;AAC9C,cAAc,wBAAwB;AACtC,uBAAuB,wBAAwB;AAC/C,cAAc,wBAAwB;AACtC;AACA;AACA;AACA,qBAAqB,wBAAwB;AAC7C,cAAc,wBAAwB;AACtC,qBAAqB,wBAAwB;AAC7C,cAAc,wBAAwB;AACtC,sBAAsB,wBAAwB;AAC9C,cAAc,wBAAwB;AACtC,uBAAuB,wBAAwB;AAC/C,cAAc,wBAAwB;AACtC;AACA;AACA;AACA;AACA,sBAAsB,wBAAwB;AAC9C,gBAAgB,wBAAwB;AACxC,qBAAqB,wBAAwB;AAC7C,gBAAgB,wBAAwB;AACxC,kBAAkB,wBAAwB;AAC1C,gBAAgB,wBAAwB;AACxC;AACA;AACA,sBAAsB,wBAAwB;AAC9C,gBAAgB,wBAAwB;AACxC,qBAAqB,wBAAwB;AAC7C,gBAAgB,wBAAwB;AACxC,kBAAkB,wBAAwB;AAC1C,gBAAgB,wBAAwB;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM,0EAAQ;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM,0EAAQ;AACd;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM,0EAAQ;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM,0EAAQ;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM,0EAAQ;AACd;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM,0EAAQ;AACd;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;;ACtqBmI,CAAC,2FAAe,8CAAG,EAAC;;ACAxJ;;;;;AEAgG;AACvC;AACL;AACpD,CAA8F;;;AAG9F;AACsG;AACtG,IAAI,gCAAS,GAAG,kBAAU;AAC1B,EAAE,sDAAM;AACR,EAAE,sEAAM;AACR,EAAE,+EAAe;AACjB;AACA;AACA;AACA;AACA;AACA;;AAEA,2DAAe,gCAAS;;ACnBxB;AACsE;AACA;AACtE;AACA;AACA,wBAAwB,sBAAoB,EAAE,sBAAoB;AAClE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gDAAe;;ACxBS;AACA;AACxB,8CAAe,WAAG;AACI","sources":["webpack://vue2-image-spotlight/./src/assets/imgs/ sync ^\\.\\/.*$","webpack://vue2-image-spotlight/webpack/bootstrap","webpack://vue2-image-spotlight/webpack/runtime/define property getters","webpack://vue2-image-spotlight/webpack/runtime/hasOwnProperty shorthand","webpack://vue2-image-spotlight/webpack/runtime/make namespace object","webpack://vue2-image-spotlight/webpack/runtime/publicPath","webpack://vue2-image-spotlight/./node_modules/@vue/cli-service/lib/commands/build/setPublicPath.js","webpack://vue2-image-spotlight/./src/package/image-spotlight-render/index.vue?b8cc","webpack://vue2-image-spotlight/external commonjs2 {\"commonjs\":\"vue\",\"commonjs2\":\"vue\",\"root\":\"Vue\"}","webpack://vue2-image-spotlight/./src/assets/js/utils.js","webpack://vue2-image-spotlight/./src/assets/js/rendererConfiguration.js","webpack://vue2-image-spotlight/src/package/image-spotlight-render/index.vue","webpack://vue2-image-spotlight/./src/package/image-spotlight-render/index.vue?a11b","webpack://vue2-image-spotlight/./src/package/image-spotlight-render/index.vue?1586","webpack://vue2-image-spotlight/./src/package/image-spotlight-render/index.vue?42a5","webpack://vue2-image-spotlight/./node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js","webpack://vue2-image-spotlight/./src/package/image-spotlight-render/index.vue","webpack://vue2-image-spotlight/./src/package/image-spotlight-editor/index.vue?d1d0","webpack://vue2-image-spotlight/./src/package/subcomponent/image-spotlight-button.vue?c1a4","webpack://vue2-image-spotlight/src/package/subcomponent/image-spotlight-button.vue","webpack://vue2-image-spotlight/./src/package/subcomponent/image-spotlight-button.vue?9c8a","webpack://vue2-image-spotlight/./src/package/subcomponent/image-spotlight-button.vue?cf2f","webpack://vue2-image-spotlight/./src/package/subcomponent/image-spotlight-button.vue?86ff","webpack://vue2-image-spotlight/./src/package/subcomponent/image-spotlight-button.vue","webpack://vue2-image-spotlight/./src/assets/js/editorConfiguration.js","webpack://vue2-image-spotlight/src/package/image-spotlight-editor/index.vue","webpack://vue2-image-spotlight/./src/package/image-spotlight-editor/index.vue?6154","webpack://vue2-image-spotlight/./src/package/image-spotlight-editor/index.vue?4f15","webpack://vue2-image-spotlight/./src/package/image-spotlight-editor/index.vue?bd21","webpack://vue2-image-spotlight/./src/package/image-spotlight-editor/index.vue","webpack://vue2-image-spotlight/./src/package/index.js","webpack://vue2-image-spotlight/./node_modules/@vue/cli-service/lib/commands/build/entry-lib.js"],"sourcesContent":["var map = {\n\t\"./SpongeBob.jpg\": 300,\n\t\"./mountain.jpg\": 544,\n\t\"./mountain_vertical.jpg\": 651,\n\t\"./transparent-background.png\": 541\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 40;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.p = \"\";","/* eslint-disable no-var */\n// This file is imported into lib/wc client bundles.\n\nif (typeof window !== 'undefined') {\n  var currentScript = window.document.currentScript\n  if (process.env.NEED_CURRENTSCRIPT_POLYFILL) {\n    var getCurrentScript = require('@soda/get-current-script')\n    currentScript = getCurrentScript()\n\n    // for backward compatibility, because previously we directly included the polyfill\n    if (!('currentScript' in document)) {\n      Object.defineProperty(document, 'currentScript', { get: getCurrentScript })\n    }\n  }\n\n  var src = currentScript && currentScript.src.match(/(.+\\/)[^/]+\\.js(\\?.*)?$/)\n  if (src) {\n    __webpack_public_path__ = src[1] // eslint-disable-line\n  }\n}\n\n// Indicate to webpack that this file can be concatenated\nexport default null\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{ref:\"canvas-box\",attrs:{\"id\":\"main\"}},[_c('canvas',{ref:\"canvas-pic\",attrs:{\"id\":\"canvas-pic\",\"width\":\"500\",\"height\":\"400\"}}),_c('canvas',{ref:\"canvas-masking\",attrs:{\"id\":\"canvas-masking\",\"width\":\"500\",\"height\":\"400\"}}),_c('div',{ref:\"description-box\",staticClass:\"description-box-down\"},[_c('div',{staticStyle:{\"font-size\":\"large\",\"font-weight\":\"bolder\",\"margin-bottom\":\"8px\"}},[_vm._v(\" \"+_vm._s((_vm.allAreaInfos.length > 0 && _vm.selectingIndex >= 0) ? _vm.allAreaInfos[_vm.selectingIndex].name : '')+\" \")]),_c('div',{staticStyle:{\"text-indent\":\"2em\"}},[_vm._v(_vm._s(_vm.selectingIndex >= 0 ? ((_vm.allAreaInfos.length>0 && _vm.allAreaInfos[_vm.selectingIndex].description.trim().length > 0) ? _vm.allAreaInfos[_vm.selectingIndex].description : \"暂无注释。\") : \"暂无注释。\")+\" \")])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var __WEBPACK_NAMESPACE_OBJECT__ = require(\"vue\");","/**\r\n * 使用射线法，判断一个坐标点是否在封闭图形内部\r\n * 射线法的基本思想是从这个点（假设为P）向任意一个方向（假设为向右）发射一条射线，\r\n * 然后统计这条射线与图形的交点数量，如果为奇数，说明P在图形内部；如果为偶数，说明P在图形外部。\r\n * @param point 点坐标，对象结构为{x:0, y:0}\r\n * @param points 点坐标集，构成一个封闭图形。对象数组，每个元素为{x:0, y:0}对象\r\n * @param scale 缩放比例\r\n * @param offsetX 横坐标偏移量\r\n * @param offsetY 纵坐标偏移量\r\n * @returns {boolean} 是否在该封闭图形内部\r\n */\r\nconst isPointInPolygon = (point, points, scale, offsetX, offsetY) => {\r\n    let n = points.length;\r\n    let inside = false;\r\n    // point.x = calRealPosition(point.x, scale, offsetX)\r\n    // point.y = calRealPosition(point.y, scale, offsetY)\r\n    for (let i = 0, j = n - 1; i < n; j = i++) {\r\n        let xi = calRealPosition(points[i].x, scale, offsetX),\r\n            yi = calRealPosition(points[i].y, scale, offsetY);\r\n        let xj = calRealPosition(points[j].x, scale, offsetX),\r\n            yj = calRealPosition(points[j].y, scale, offsetY);\r\n        let intersect = ((yi > point.y) !== (yj > point.y))\r\n            && (point.x < (xj - xi) * (point.y - yi) / (yj - yi) + xi);\r\n        if (intersect) inside = !inside;\r\n    }\r\n    return inside;\r\n}\r\n\r\nconst calRealPosition = (value, scale, offset) => {\r\n    return value * scale + offset\r\n}\r\nconst getImage = (name) => {\r\n    return require(`../imgs/${name}`)\r\n}\r\n\r\n/**\r\n * 安全地访问对象内的属性，以防出现访问object.a.b.c时，由于object.a未定义，导致访问object.a.b报错\r\n * @param object 对象\r\n * @param path 访问路径\r\n * @returns {any} 如果不能到达，则返回undefined\r\n */\r\nconst accessObjectSafely = (object, path) => {\r\n    let i, n = path.length;\r\n    if (!object) return object\r\n    let data = JSON.parse(JSON.stringify(object));\r\n    for (i = 0; typeof data === 'object' && i < n; ++i) {\r\n        data = data[path[i]];\r\n    }\r\n    return data\r\n}\r\n\r\n/**\r\n * 递归合并两个对象，若object1中某字段不存在或为null或undefined，则用object2中的字段补全\r\n * @param object1 对象1\r\n * @param object2 用对象2补全\r\n * @returns {*} 补全后的对象\r\n */\r\nconst mergeObjects = (object1, object2) => {\r\n    const mergedObject = {...object1};\r\n    for (const key in object2) {\r\n        if (object2.hasOwnProperty(key)) {\r\n            if (isObject(object1[key]) && isObject(object2[key])) {\r\n                mergedObject[key] = mergeObjects(object1[key], object2[key]);\r\n            } else if (mergedObject[key] == null) {\r\n                mergedObject[key] = object2[key];\r\n            }\r\n        }\r\n    }\r\n    return mergedObject;\r\n};\r\nconst isObject = (item) => {\r\n    return item && typeof item === 'object' && !Array.isArray(item);\r\n};\r\n\r\nexport default {\r\n    isPointInPolygon,\r\n    getImage,\r\n    accessObjectSafely,\r\n    mergeObjects\r\n}","const DefaultConfiguration = {\r\n    canvasWidth: 500,\r\n    canvasHeight: 400,\r\n    maskBackground: \"rgba(0,0,0,0.5)\", // 遮罩层颜色\r\n    animationTime: 25,  // 动画时间\r\n    showDescriptionBox: true,\r\n    descriptionBoxStyle: {\r\n        background: \"#EBEBE3\",\r\n        color: \"#59594F\",\r\n    },\r\n}\r\n\r\nexport default {\r\n    DefaultConfiguration\r\n}","<template>\r\n  <div ref=\"canvas-box\" id=\"main\">\r\n    <canvas ref=\"canvas-pic\" id=\"canvas-pic\" width=\"500\" height=\"400\"/>\r\n    <canvas ref=\"canvas-masking\" id=\"canvas-masking\" width=\"500\" height=\"400\"/>\r\n    <div ref=\"description-box\"\r\n         class=\"description-box-down\">\r\n      <div style=\"font-size: large; font-weight: bolder; margin-bottom: 8px\">\r\n        {{ (allAreaInfos.length > 0 && selectingIndex >= 0) ? allAreaInfos[selectingIndex].name : '' }}\r\n      </div>\r\n      <div style=\"text-indent: 2em\">{{\r\n          selectingIndex >= 0 ?\r\n              ((allAreaInfos.length>0 && allAreaInfos[selectingIndex].description.trim().length > 0)\r\n                  ? allAreaInfos[selectingIndex].description : \"暂无注释。\")\r\n              : \"暂无注释。\"\r\n        }}\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {nextTick} from \"vue\";\r\nimport Utils from \"../../assets/js/utils\";\r\nimport RendererConfiguration from \"../../assets/js/rendererConfiguration\"\r\n\r\nexport default {\r\n  name: \"ImageSpotlightRenderer\",\r\n  props: {\r\n    // 必要参数，否则无法渲染\r\n    imgUrl: {\r\n      type: String,\r\n      required: true,\r\n    },\r\n    // 区域默认为空\r\n    allAreaInfos: {\r\n      type: Array,\r\n      default: () => [],\r\n    },\r\n    allPoints: {\r\n      type: Array,\r\n      default: () => [],\r\n    },\r\n\r\n    canvasWidth: {\r\n      type: Number,\r\n      default: 500,\r\n    },\r\n    canvasHeight: {\r\n      type: Number,\r\n      default: 400,\r\n    },\r\n    // 遮罩层颜色\r\n    maskBackground: {\r\n      type: String,\r\n      default: \"rgba(0,0,0,0.5)\"\r\n    },\r\n    // 动画时间\r\n    animationTime: {\r\n      type: Number,\r\n      default: 25,\r\n    },\r\n    showDescriptionBox: {\r\n      type: Boolean,\r\n      default: true,\r\n    },\r\n    descriptionBoxStyle: {\r\n      type: Object,\r\n      default: () => {\r\n        return {\r\n          background: \"#EBEBE3\",\r\n          color: \"#59594F\",\r\n        }\r\n      }\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      finalConfiguration: null,\r\n      img: null,\r\n      canvas: null,\r\n      context: null,\r\n\r\n      // 图像缩放与偏移\r\n      scale: 1.0,\r\n      offsetX: 0.0,\r\n      offsetY: 0.0,\r\n\r\n      // 是否选中到某一个分区\r\n      selecting: false,\r\n      // 上一次选中的分区\r\n      selectingIndex: 0,\r\n      // 光标的位置（即触发刷新蒙版时的坐标）\r\n      cursorPosition: {x: 0, y: 0},\r\n      // 动画定时器\r\n      timer: null,\r\n\r\n      // 展示框\r\n      descriptionBox: null,\r\n    }\r\n  },\r\n  methods: {\r\n    // 重置图像到自适应大小\r\n    selfAdaptionImage() {\r\n      // 图形的宽高比\r\n      let aspectRatio = 1.0 * this.img.width / this.img.height;\r\n      // 如果宽高比大于500/400，说明宽要大，那么使得宽缩放到500px，高度自适应（样例是500*400）\r\n      if (aspectRatio > this.finalConfiguration.canvasWidth / this.finalConfiguration.canvasHeight) {\r\n        let newWidth = this.finalConfiguration.canvasWidth\r\n        let newHeight = newWidth / aspectRatio\r\n        this.scale = this.finalConfiguration.canvasWidth / this.img.width\r\n        // this.offsetX = 0\r\n        // this.offsetY = (this.finalConfiguration.canvasHeight - newHeight) / 2\r\n        this.offsetX = 0\r\n        this.offsetY = 0\r\n      } else {\r\n        let newHeight = this.finalConfiguration.canvasHeight\r\n        let newWidth = newHeight * aspectRatio\r\n        this.scale = this.finalConfiguration.canvasHeight / this.img.height\r\n        // this.offsetX = (this.finalConfiguration.canvasWidth - newWidth) / 2\r\n        // this.offsetY = 0\r\n        this.offsetX = 0\r\n        this.offsetY = 0\r\n      }\r\n    },\r\n\r\n    // 初始化画布\r\n    init() {\r\n      this.initParameter()\r\n      // 初始化canvas和context对象\r\n      this.canvasPic = this.$refs[\"canvas-pic\"]\r\n      this.canvasMasking = this.$refs[\"canvas-masking\"]\r\n      this.descriptionBox = this.$refs[\"description-box\"]\r\n      this.contextPic = this.canvasPic.getContext(\"2d\")\r\n      this.contextMasking = this.canvasMasking.getContext(\"2d\")\r\n      // 获取图像\r\n      this.img = new Image();\r\n      this.img.src = this.imgUrl;\r\n\r\n      let that = this\r\n      // 绑定canvas事件\r\n      // 当鼠标移动到画布上\r\n      this.canvasMasking.addEventListener(\"mousemove\", e => {\r\n        let x = e.offsetX\r\n        let y = e.offsetY\r\n        that.cursorPosition = {x, y}\r\n        let selecting_local = false\r\n        let selectingIndex_local = -1\r\n        for (let i = 0; i < that.allPoints.length; i++) {\r\n          // 如果当前坐标在所画的区域内的话\r\n          if (Utils.isPointInPolygon({x, y}, that.allPoints[i], that.scale, that.offsetX, that.offsetY)) {\r\n            selecting_local = true\r\n            selectingIndex_local = i\r\n            break;\r\n          }\r\n        }\r\n        // 判断是否需要刷新\r\n        if (!that.selecting && selecting_local) {\r\n          // 如果之前并非选中状态，且此时选中了，那么就聚焦，并且重新刷新canvas\r\n          that.selecting = true\r\n          that.selectingIndex = Math.max(0, selectingIndex_local)\r\n          that.cursorPosition = {x, y}\r\n          that.refreshCanvas()\r\n        } else if (that.selecting && selecting_local) {\r\n          // 如果之前是选中状态，此时也选中了，分情况讨论\r\n          if (that.selectingIndex === selectingIndex_local) {\r\n            // 如果是同一个，那么就无需重新渲染\r\n          } else {\r\n            // 不是同一个，需要设置此时选中的index，并且重新刷新canvas\r\n            that.selectingIndex = Math.max(0, selectingIndex_local)\r\n            that.cursorPosition = {x, y}\r\n            that.refreshCanvas()\r\n          }\r\n        } else if (that.selecting && !selecting_local) {\r\n          // 如果之前是选中状态，但是现在未选中，则清除选中状态，并且重新刷新canvas\r\n          that.selecting = false\r\n          that.cursorPosition = {x, y}\r\n          that.refreshCanvas()\r\n        } else if (!that.selecting && !selecting_local) {\r\n          // 如果之前未选中，现在还未选中，则无需操作\r\n        }\r\n      })\r\n      // 当图像加载好后，渲染到画布上\r\n      this.img.onload = () => {\r\n        that.selfAdaptionImage()\r\n        that.applyParameter()\r\n        // 计算图像的新宽度和高度\r\n        let newWidth = this.img.width * this.scale;\r\n        let newHeight = this.img.height * this.scale;\r\n        that.contextPic.drawImage(that.img,\r\n            that.offsetX, that.offsetY,\r\n            newWidth, newHeight)\r\n        nextTick(() => {\r\n          let descriptionBox = that.$refs[\"description-box\"]\r\n          // 若宽大于高，则将描述信息放到图片的下方\r\n          descriptionBox.style.top = (this.offsetY + this.img.height * this.scale) + \"px\"\r\n          descriptionBox.style.left = \"0px\"\r\n        })\r\n      }\r\n    },\r\n    // 参数初始化\r\n    initParameter() {\r\n      this.finalConfiguration = {\r\n        canvasWidth: this.canvasWidth,\r\n        canvasHeight: this.canvasHeight,\r\n        maskBackground: this.maskBackground,\r\n        animationTime: this.animationTime,\r\n        showDescriptionBox: this.showDescriptionBox,\r\n        descriptionBoxStyle: this.descriptionBoxStyle\r\n      }\r\n      // 最后用默认配置补全\r\n      Utils.mergeObjects(this.finalConfiguration, RendererConfiguration.DefaultConfiguration)\r\n    },\r\n    // 将参数作用于HTML\r\n    applyParameter() {\r\n      let width = this.img.width * this.scale\r\n      let height = this.img.height * this.scale\r\n      // 设置drawing-area的宽高\r\n      this.$refs[\"canvas-pic\"].width = width\r\n      this.$refs[\"canvas-pic\"].height = height\r\n      this.$refs[\"canvas-masking\"].width = width\r\n      this.$refs[\"canvas-masking\"].height = height\r\n      // 设置main box的大小\r\n      this.$refs[\"canvas-box\"].style.width = width + \"px\"\r\n      this.$refs[\"canvas-box\"].style.height = height + \"px\"\r\n      // 设置底部注释框的大小\r\n      this.$refs[\"description-box\"].style.width = (this.img.width * this.scale - 32) + \"px\"\r\n      this.$refs[\"description-box\"].style.minHeight = \"10px\"\r\n      this.$refs[\"description-box\"].style.background = this.finalConfiguration.descriptionBoxStyle.background\r\n      this.$refs[\"description-box\"].style.color = this.finalConfiguration.descriptionBoxStyle.color\r\n    },\r\n    /**\r\n     * 聚焦区域：鼠标移动到该区域后，将该区域外面的区域用半透明蒙版遮盖\r\n     * @param points 需要聚焦的区域\r\n     * @param sizeRatio 按光标当前位置，画 总宽*sizeRatio 的圆（蒙版圆）\r\n     */\r\n    focusArea(points, sizeRatio) {\r\n      const maskCanvas = document.createElement('canvas');\r\n      const maskCtx = maskCanvas.getContext('2d');\r\n      maskCanvas.width = this.canvasMasking.width;\r\n      maskCanvas.height = this.canvasMasking.height;\r\n\r\n      // 设置蒙版颜色和透明度\r\n      maskCtx.fillStyle = this.finalConfiguration.maskBackground;\r\n\r\n      // 在蒙版画布上填充整个画布\r\n      maskCtx.fillRect(0, 0, this.img.width * this.scale, this.img.height * this.scale);\r\n\r\n      maskCtx.fillStyle = 'rgba(0, 0, 0, 1)';\r\n      // 在蒙版画布上用globalCompositeOperation属性剪去多边形内部的部分\r\n      maskCtx.globalCompositeOperation = 'destination-out';\r\n      maskCtx.beginPath();\r\n      maskCtx.moveTo(points[0].x * this.scale, points[0].y * this.scale);\r\n      for (let i = 1; i < points.length; i++) {\r\n        maskCtx.lineTo(points[i].x * this.scale, points[i].y * this.scale);\r\n      }\r\n      maskCtx.closePath();\r\n      maskCtx.fill();\r\n\r\n      maskCtx.beginPath();\r\n      maskCtx.arc(this.cursorPosition.x - this.offsetX, this.cursorPosition.y - this.offsetY,\r\n          Math.max(this.img.width, this.img.height) * this.scale * sizeRatio, 0, Math.PI * 2);\r\n      maskCtx.fill()\r\n\r\n      // 将蒙版应用到主画布上\r\n      this.contextMasking.drawImage(maskCanvas, this.offsetX, this.offsetY);\r\n    },\r\n    /**\r\n     * 将图像自适应化地画如到canvas中\r\n     */\r\n    refreshCanvas() {\r\n      this.contextMasking.clearRect(0, 0, this.canvasMasking.width, this.canvasMasking.height);\r\n      if (this.timer) {\r\n        clearInterval(this.timer);\r\n      }\r\n      // 判断是否需要设置遮罩层\r\n      if (this.selecting) {\r\n        let that = this\r\n        // 定义变化步骤数和变化速度\r\n        let steps = Math.floor(this.finalConfiguration.animationTime);\r\n        let interval = 0;\r\n        let currentStep = 0;\r\n        that.showDescription()\r\n        this.timer = setInterval(function () {\r\n          // 计算当前的变化程度，该值可作为圆形半径大小\r\n          let sizeRatio = Math.max(0, 1.0 - currentStep / steps);\r\n\r\n          that.contextMasking.clearRect(0, 0, that.canvasMasking.width, that.canvasMasking.height);\r\n          that.focusArea(that.allPoints[that.selectingIndex], sizeRatio)\r\n\r\n          // 增加变化步骤数\r\n          currentStep++;\r\n          // 如果达到目标步骤数，清除定时器\r\n          if (currentStep > steps) {\r\n            clearInterval(that.timer);\r\n          }\r\n        }, interval);\r\n      } else {\r\n        let canvasHeight = this.offsetY + this.img.height * this.scale;\r\n        this.$refs[\"canvas-box\"].style.height = canvasHeight + \"px\"\r\n      }\r\n      // 向上传递选中或未选中事件\r\n      if (this.selecting) {\r\n        this.$emit(\"selecting\", {\r\n          selectingIndex: this.selectingIndex,\r\n          points: this.allPoints[this.selectingIndex],\r\n          areaInfo: this.allAreaInfos[this.selectingIndex]\r\n        })\r\n      } else {\r\n        this.$emit(\"unselecting\", {})\r\n      }\r\n    },\r\n    // 展示描述信息\r\n    showDescription() {\r\n      // console.log(this.finalConfiguration.showDescriptionBox)\r\n      if (this.finalConfiguration.showDescriptionBox) {\r\n        let that = this\r\n        nextTick(() => {\r\n          let descriptionBox = that.$refs[\"description-box\"]\r\n          // 若宽大于高，则将描述信息放到图片的下方\r\n          descriptionBox.style.top = (this.offsetY + this.img.height * this.scale) + \"px\"\r\n          descriptionBox.style.left = \"0px\"\r\n          // 4px的安全距离，注释框的上下都是4px\r\n          const SafeDistance = 4;\r\n          let canvasHeight = that.offsetY + that.img.height * that.scale + descriptionBox.offsetHeight + SafeDistance * 2;\r\n          that.$refs[\"canvas-box\"].style.height = canvasHeight + \"px\"\r\n        })\r\n      }\r\n    },\r\n  },\r\n  mounted() {\r\n    this.init()\r\n  },\r\n  computed: {}\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n* {\r\n  font-family: 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;\r\n}\r\n\r\n#main {\r\n  position: relative;\r\n  transition: all .5s ease-out;\r\n  overflow: hidden;\r\n}\r\n\r\n#canvas-pic, #canvas-masking {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n}\r\n\r\n#canvas-masking {\r\n  transition: all 5s;\r\n}\r\n\r\n.description-box-down {\r\n  margin-top: 4px;\r\n  background: #EBEBE3;\r\n  border-radius: 8px;\r\n  padding: 16px;\r\n  position: absolute;\r\n  margin-bottom: 4px;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","// extracted by mini-css-extract-plugin\nexport {};","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-12.use[0]!../../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-12.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-12.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=10308cb9&prod&scoped=true&lang=css&\"","/* globals __VUE_SSR_CONTEXT__ */\n\n// IMPORTANT: Do NOT use ES2015 features in this file (except for modules).\n// This module is a runtime utility for cleaner component module output and will\n// be included in the final webpack user bundle.\n\nexport default function normalizeComponent(\n  scriptExports,\n  render,\n  staticRenderFns,\n  functionalTemplate,\n  injectStyles,\n  scopeId,\n  moduleIdentifier /* server only */,\n  shadowMode /* vue-cli only */\n) {\n  // Vue.extend constructor export interop\n  var options =\n    typeof scriptExports === 'function' ? scriptExports.options : scriptExports\n\n  // render functions\n  if (render) {\n    options.render = render\n    options.staticRenderFns = staticRenderFns\n    options._compiled = true\n  }\n\n  // functional template\n  if (functionalTemplate) {\n    options.functional = true\n  }\n\n  // scopedId\n  if (scopeId) {\n    options._scopeId = 'data-v-' + scopeId\n  }\n\n  var hook\n  if (moduleIdentifier) {\n    // server build\n    hook = function (context) {\n      // 2.3 injection\n      context =\n        context || // cached call\n        (this.$vnode && this.$vnode.ssrContext) || // stateful\n        (this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext) // functional\n      // 2.2 with runInNewContext: true\n      if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {\n        context = __VUE_SSR_CONTEXT__\n      }\n      // inject component styles\n      if (injectStyles) {\n        injectStyles.call(this, context)\n      }\n      // register component module identifier for async chunk inferrence\n      if (context && context._registeredComponents) {\n        context._registeredComponents.add(moduleIdentifier)\n      }\n    }\n    // used by ssr in case component is cached and beforeCreate\n    // never gets called\n    options._ssrRegister = hook\n  } else if (injectStyles) {\n    hook = shadowMode\n      ? function () {\n          injectStyles.call(\n            this,\n            (options.functional ? this.parent : this).$root.$options.shadowRoot\n          )\n        }\n      : injectStyles\n  }\n\n  if (hook) {\n    if (options.functional) {\n      // for template-only hot-reload because in that case the render fn doesn't\n      // go through the normalizer\n      options._injectStyles = hook\n      // register for functional component in vue file\n      var originalRender = options.render\n      options.render = function renderWithStyleInjection(h, context) {\n        hook.call(context)\n        return originalRender(h, context)\n      }\n    } else {\n      // inject component registration as beforeCreate hook\n      var existing = options.beforeCreate\n      options.beforeCreate = existing ? [].concat(existing, hook) : [hook]\n    }\n  }\n\n  return {\n    exports: scriptExports,\n    options: options\n  }\n}\n","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=10308cb9&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=10308cb9&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"10308cb9\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"main\"},[_c('div',{ref:\"drawing-area\",staticClass:\"drawing-area\"},[_c('canvas',{ref:\"canvas\",attrs:{\"id\":\"canvas\",\"height\":\"400\",\"width\":\"500\"}})]),_c('div',{ref:\"editing-area\",staticStyle:{\"height\":\"400px\",\"width\":\"200px\",\"margin-left\":\"8px\",\"background\":\"#e8e8e8\"}},[_c('div',{staticStyle:{\"padding\":\"8px\"}},[(!_vm.drawing && !_vm.editing)?_c('div',[_c('image-spotlight-button',{attrs:{\"type\":\"success\"},nativeOn:{\"click\":function($event){return _vm.accomplish.apply(null, arguments)}}},[_vm._v(_vm._s(_vm.finalConfiguration.buttonNames.accomplish)+\" \")]),_c('image-spotlight-button',{nativeOn:{\"click\":function($event){return _vm.newArea.apply(null, arguments)}}},[_vm._v(_vm._s(_vm.finalConfiguration.buttonNames.newArea)+\" \")]),_c('image-spotlight-button',{nativeOn:{\"click\":function($event){return _vm.recoverImagePosition.apply(null, arguments)}}},[_vm._v(_vm._s(_vm.finalConfiguration.buttonNames.resetPosition)+\" \")])],1):(_vm.drawing)?_c('div',[_c('image-spotlight-button',{attrs:{\"type\":\"success\"},nativeOn:{\"click\":function($event){return _vm.addArea.apply(null, arguments)}}},[_vm._v(_vm._s(_vm.finalConfiguration.buttonNames.addArea)+\" \")]),_c('image-spotlight-button',{attrs:{\"type\":\"warning\"},nativeOn:{\"click\":function($event){return _vm.rollBackAreaLatestPoint.apply(null, arguments)}}},[_vm._v(\" \"+_vm._s(_vm.finalConfiguration.buttonNames.rollBack)+\" \")]),_c('image-spotlight-button',{nativeOn:{\"click\":function($event){return _vm.cancelArea.apply(null, arguments)}}},[_vm._v(_vm._s(_vm.finalConfiguration.buttonNames.cancelArea)+\" \")])],1):(_vm.editing)?_c('div',[_c('image-spotlight-button',{attrs:{\"type\":\"success\"},nativeOn:{\"click\":function($event){return _vm.confirmChange.apply(null, arguments)}}},[_vm._v(_vm._s(_vm.finalConfiguration.buttonNames.confirmChange)+\" \")]),_c('image-spotlight-button',{attrs:{\"type\":\"warning\"},nativeOn:{\"click\":function($event){return _vm.deleteArea.apply(null, arguments)}}},[_vm._v(_vm._s(_vm.finalConfiguration.buttonNames.deleteArea)+\" \")]),_c('image-spotlight-button',{nativeOn:{\"click\":function($event){return _vm.cancelChange.apply(null, arguments)}}},[_vm._v(_vm._s(_vm.finalConfiguration.buttonNames.cancelChange)+\" \")])],1):_vm._e()]),_c('div',{staticStyle:{\"margin\":\"0 8px 8px 8px\",\"background\":\"white\",\"border-radius\":\"8px\"}},[(!_vm.drawing && !_vm.editing)?_c('div',[_c('div',{ref:\"outline-list\",staticClass:\"outlines-list\",style:({\n                background: _vm.finalConfiguration.areaListBackground,\n                width: (_vm.finalConfiguration.editingWidth - 16 - 8 - 4) +'px',\n                height: (_vm.finalConfiguration.height - 56 - 8) + 'px'\n              })},[_c('div',{ref:\"scroll\",staticClass:\"scroll\",style:({\n                   width: (_vm.finalConfiguration.editingWidth - 16 - 8 - 4) + 'px',\n                   height: (_vm.finalConfiguration.height - 56 - 8 - 4) + 'px',\n               })},_vm._l((_vm.allAreaInfos),function(info,index){return _c('div',{ref:'areaListItem-' + index,refInFor:true,staticClass:\"outlines-item\",style:({\n                   background: _vm.finalConfiguration.areaListItemBackground,\n                   width: (_vm.finalConfiguration.editingWidth - 16 - 8 - 8 - 8) + 'px',\n                 }),on:{\"mouseover\":function($event){return _vm.highlightArea(index)},\"mouseleave\":function($event){return _vm.recoverArea(index)},\"click\":function($event){return _vm.editArea(index)}}},[_vm._v(\" \"+_vm._s(info.name)+\" \")])}),0)])]):(_vm.drawing || _vm.editing)?_c('div',{style:({\n                   padding:'8px',\n                   width: (_vm.finalConfiguration.editingWidth - 16 - 8 - 4) + 'px',\n                   height: (_vm.finalConfiguration.height - 56 - 8 - 4) + 'px',\n                 })},[_c('div',{staticStyle:{\"text-align\":\"center\",\"font-weight\":\"bolder\",\"padding-bottom\":\"8px\"}},[_vm._v(\"选区信息\")]),_c('div',{staticStyle:{\"margin-bottom\":\"8px\"}},[(_vm.finalConfiguration.rule.name.required)?_c('span',{staticStyle:{\"color\":\"red\"}},[_vm._v(\"*\")]):_vm._e(),_vm._v(\" 选区名称 \"),(_vm.areaInfoError.name)?_c('span',{staticStyle:{\"color\":\"red\",\"font-size\":\"small\"}},[_vm._v(_vm._s(_vm.finalConfiguration.rule.name.info))]):_vm._e()]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.areaInfo.name),expression:\"areaInfo.name\"}],staticClass:\"base-input input\",style:({marginBottom: '8px',width: (_vm.finalConfiguration.editingWidth - 16 - 8 - 8 - 10) + 'px'}),attrs:{\"placeholder\":\"请输入选区名称\"},domProps:{\"value\":(_vm.areaInfo.name)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.areaInfo, \"name\", $event.target.value)}}}),_c('div',{staticStyle:{\"margin-bottom\":\"8px\"}},[(_vm.finalConfiguration.rule.description.required)?_c('span',{staticStyle:{\"color\":\"red\"}},[_vm._v(\"*\")]):_vm._e(),_vm._v(\" 选区描述 \"),(_vm.areaInfoError.description)?_c('span',{staticStyle:{\"color\":\"red\",\"font-size\":\"small\"}},[_vm._v(_vm._s(_vm.finalConfiguration.rule.description.info))]):_vm._e()]),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.areaInfo.description),expression:\"areaInfo.description\"}],staticClass:\"base-input textarea\",style:({width: (_vm.finalConfiguration.editingWidth - 16 - 8 - 8 - 10) + 'px'}),attrs:{\"rows\":Math.floor((_vm.finalConfiguration.height - 56 - 8 - 4 - 108.8 - 8) / 20.8 - 1),\"placeholder\":\"请输入选区描述\"},domProps:{\"value\":(_vm.areaInfo.description)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.areaInfo, \"description\", $event.target.value)}}})]):_vm._e()])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('button',{ref:\"button\",staticClass:\"image-spotlight-button\",attrs:{\"type\":\"button\"}},[_vm._t(\"default\",function(){return [_c('span',[_vm._v(\"按钮\")])]})],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <button class=\"image-spotlight-button\" type=\"button\" ref=\"button\">\r\n    <slot>\r\n      <span>按钮</span>\r\n    </slot>\r\n  </button>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"ImageSpotlightButton\",\r\n  props: {\r\n    type: {\r\n      type: String,\r\n      default: \"default\",\r\n    },\r\n  },\r\n  components: {},\r\n  data() {\r\n    return {\r\n      typeStyle: {\r\n        default: {\r\n          background: \"#FFFFFF\",\r\n          color: \"#000000\",\r\n          backgroundAfterHover: \"#ECF5FF\",\r\n          colorAfterHover: \"#409EFF\",\r\n        },\r\n        success: {\r\n          background: \"#67C23A\",\r\n          color: \"#FFFFFF\",\r\n          backgroundAfterHover: \"#95D475\",\r\n          colorAfterHover: \"#FFFFFF\",\r\n        },\r\n        warning: {\r\n          background: \"#E6A23C\",\r\n          color: \"#FFFFFF\",\r\n          backgroundAfterHover: \"#EEBE77\",\r\n          colorAfterHover: \"#FFFFFF\",\r\n        },\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n\r\n  },\r\n  mounted() {\r\n    let type = \"default\"\r\n    if (this.type in this.typeStyle) {\r\n      type = this.type\r\n    }\r\n    // console.log(this.type)\r\n    // console.log(this.typeStyle)\r\n    // console.log(this.type in this.typeStyle)\r\n    const button = this.$refs.button\r\n    button.style.background = this.typeStyle[type].background\r\n    button.style.color = this.typeStyle[type].color\r\n    let that = this\r\n    button.onmouseover = () => {\r\n      button.style.background = that.typeStyle[type].backgroundAfterHover\r\n      button.style.color = that.typeStyle[type].colorAfterHover\r\n    };\r\n    button.onmouseout = function () {\r\n      button.style.background = that.typeStyle[type].background\r\n      button.style.color = that.typeStyle[type].color\r\n    };\r\n  },\r\n  computed: {}\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.image-spotlight-button {\r\n  padding: 8px 15px;\r\n  margin-right: 1px;\r\n  display: inline-flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  height: 32px;\r\n  outline: 0;\r\n  cursor: pointer;\r\n  border: 1px solid #eeeeee;\r\n  border-radius: 4px;\r\n  transition: .1s;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./image-spotlight-button.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./image-spotlight-button.vue?vue&type=script&lang=js&\"","// extracted by mini-css-extract-plugin\nexport {};","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-12.use[0]!../../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-12.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-12.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./image-spotlight-button.vue?vue&type=style&index=0&id=09df7450&prod&scoped=true&lang=css&\"","import { render, staticRenderFns } from \"./image-spotlight-button.vue?vue&type=template&id=09df7450&scoped=true&\"\nimport script from \"./image-spotlight-button.vue?vue&type=script&lang=js&\"\nexport * from \"./image-spotlight-button.vue?vue&type=script&lang=js&\"\nimport style0 from \"./image-spotlight-button.vue?vue&type=style&index=0&id=09df7450&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"09df7450\",\n  null\n  \n)\n\nexport default component.exports","import Utils from \"./utils\";\r\n\r\nconst DefaultConfiguration = {\r\n    canvasWidth: 500,       // 画布宽度\r\n    editingWidth: 200,      // 右侧编辑区宽度\r\n    height: 400,            // 总高度，两侧高度一致\r\n    // 被选中的区域样式\r\n    selectingAreaStyle: {\r\n        lineColor: \"#FF0000\",\r\n        lineWidth: 2,\r\n        pointColor: \"#FFFF00\",\r\n        pointRadius: 2,\r\n    },\r\n    // 正在画的区域样式\r\n    drawingAreaStyle: {\r\n        lineColor: \"#0000FF\",\r\n        lineWidth: 2,\r\n        pointColor: \"#0000FF\",\r\n        pointRadius: 2,\r\n    },\r\n    // 其他已经画的区域样式\r\n    otherAreaStyle: {\r\n        lineColor: \"#000000\",\r\n        lineWidth: 1,\r\n        pointColor: \"#000000\",\r\n        pointRadius: 2,\r\n    },\r\n    // 用户填写的表单数据校验\r\n    rule: {\r\n        name: {\r\n            required: true,\r\n            pattern: '^[\\\\s\\\\S]*.*[^\\\\s][\\\\s\\\\S]*$',  // 不为空\r\n            info: \"名字不能为空\"\r\n        },\r\n        description: {\r\n            required: false,\r\n            pattern: \"^[\\\\s\\\\S]*$\",     // 填啥都行\r\n            info: \"\"\r\n        },\r\n    },\r\n    // 背景填充图片，最好是平铺图\r\n    backgroundImage: `url(${Utils.getImage(\"transparent-background.png\")})`,\r\n    // 右侧编辑区背景色\r\n    editingAreaBackground: \"#E8E8E8\",\r\n    // 选区列表背景颜色\r\n    areaListBackground: \"#FFFFFF\",\r\n    // 选区列表中每个列元的背景颜色\r\n    areaListItemBackground: \"#E8E8E8\",\r\n    // 选区列表中每个列元，被hover后的背景颜色\r\n    areaListItemBackgroundAfterHover: \"#BDBDBD\",\r\n    // 按钮名称\r\n    buttonNames: {\r\n        // 默认态时的按钮\r\n        accomplish: \"完成\",\r\n        newArea: \"新的\",\r\n        resetPosition: \"置位\",\r\n        // 新建选区时的按钮\r\n        addArea: \"确认\",\r\n        cancelArea: \"取消\",\r\n        rollBack: \"撤回\",\r\n        // 编辑选区时的按钮\r\n        confirmChange: \"确认\",\r\n        cancelChange: \"取消\",\r\n        deleteArea: \"删除\",\r\n    }\r\n}\r\n\r\nexport default {\r\n    DefaultConfiguration\r\n}","<script>\r\nimport {nextTick} from \"vue\";\r\nimport Utils from \"../../assets/js/utils.js\";\r\nimport ImageSpotlightButton from \"../subcomponent/image-spotlight-button.vue\";\r\nimport Configuration from \"../../assets/js/editorConfiguration\";\r\n\r\nexport default {\r\n  name: \"ImageSpotlightEditor\",\r\n  components: {\r\n    ImageSpotlightButton\r\n  },\r\n  props: {\r\n    imgUrl: {\r\n      type: String,\r\n      required: true,\r\n    },\r\n    // 允许传入预设参数\r\n    allPoints: {\r\n      type: Array,\r\n      default: () => []\r\n    },\r\n    allAreaInfos: {\r\n      type: Array,\r\n      default: () => []\r\n    },\r\n    // 画布宽度\r\n    canvasWidth: {\r\n      type: Number,\r\n      default: 500,\r\n    },\r\n    // 右侧编辑区宽度\r\n    editingWidth: {\r\n      type: Number,\r\n      default: 200,\r\n    },\r\n    // 总高度，两侧高度一致\r\n    height: {\r\n      type: Number,\r\n      default: 400,\r\n    },\r\n    // 被选中的区域样式\r\n    selectingAreaStyle: {\r\n      type: Object,\r\n      default: () => {\r\n        return {\r\n          lineColor: \"#FF0000\",\r\n          lineWidth: 2,\r\n          pointColor: \"#FFFF00\",\r\n          pointRadius: 2,\r\n        }\r\n      }\r\n    },\r\n    // 正在画的区域样式\r\n    drawingAreaStyle: {\r\n      type: Object,\r\n      default: () => {\r\n        return {\r\n          lineColor: \"#0000FF\",\r\n          lineWidth: 2,\r\n          pointColor: \"#0000FF\",\r\n          pointRadius: 2,\r\n        }\r\n      }\r\n    },\r\n    // 其他已经画的区域样式\r\n    otherAreaStyle: {\r\n      type: Object,\r\n      default: () => {\r\n        return {\r\n          lineColor: \"#000000\",\r\n          lineWidth: 1,\r\n          pointColor: \"#000000\",\r\n          pointRadius: 2,\r\n        }\r\n      }\r\n    },\r\n    // 用户填写的表单数据校验\r\n    rule: {\r\n      type: Object,\r\n      default: () => {\r\n        return {\r\n          name: {\r\n            required: true,\r\n            pattern: '^[\\\\s\\\\S]*.*[^\\\\s][\\\\s\\\\S]*$',  // 不为空\r\n            info: \"名字不能为空\"\r\n          },\r\n          description: {\r\n            required: false,\r\n            pattern: \"^[\\\\s\\\\S]*$\",     // 填啥都行\r\n            info: \"\"\r\n          },\r\n        }\r\n      }\r\n    },\r\n    // 背景填充图片，最好是平铺图\r\n    backgroundImage: {\r\n      type: String,\r\n      default: () => {\r\n        return `url(${Utils.getImage('transparent-background.png')})`\r\n      }\r\n    },\r\n    // 右侧编辑区背景色\r\n    editingAreaBackground: {\r\n      type: String,\r\n      default: () => {\r\n        return \"#E8E8E8\"\r\n      }\r\n    },\r\n    // 选区列表背景颜色\r\n    areaListBackground: {\r\n      type: String,\r\n      default: () => {\r\n        return \"#FFFFFF\"\r\n      }\r\n    },\r\n    // 选区列表中每个列元的背景颜色\r\n    areaListItemBackground: {\r\n      type: String,\r\n      default: () => {\r\n        return \"#E8E8E8\"\r\n      }\r\n    },\r\n    // 选区列表中每个列元，被hover后的背景颜色\r\n    areaListItemBackgroundAfterHover: {\r\n      type: String,\r\n      default: () => {\r\n        return \"#BDBDBD\"\r\n      }\r\n    },\r\n    // 按钮名称\r\n    buttonNames: {\r\n      type: Object,\r\n      default: () => {\r\n        return {\r\n          // 默认态时的按钮\r\n          accomplish: \"完成\",\r\n          newArea: \"新的\",\r\n          resetPosition: \"置位\",\r\n          // 新建选区时的按钮\r\n          addArea: \"确认\",\r\n          cancelArea: \"取消\",\r\n          rollBack: \"撤回\",\r\n          // 编辑选区时的按钮\r\n          confirmChange: \"确认\",\r\n          cancelChange: \"取消\",\r\n          deleteArea: \"删除\",\r\n        }\r\n      }\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      // 配置\r\n      finalConfiguration: Configuration.DefaultConfiguration,\r\n      // 当前画布\r\n      canvas: null,\r\n      // 当前图形，如果画完就会加入到contexts\r\n      context: null,\r\n      // 当前图形的点\r\n      points: [],\r\n      // 当前选区信息\r\n      areaInfo: {\r\n        name: '',           // 选区名称\r\n        description: '',    // 选区描述\r\n      },\r\n      // 当前选区信息是否错误\r\n      areaInfoError: {\r\n        name: false,\r\n        description: false,\r\n      },\r\n      // 当前待编辑的选区\r\n      areaIndex: 0,\r\n\r\n      // 是否正在画图形\r\n      drawing: 0,\r\n      // 是否正在编辑选区\r\n      editing: 0,\r\n      // 是否选中某个选区？\r\n      selecting: false,\r\n      // 是否按下鼠标左键（此时将图片跟随鼠标移动）\r\n      mouseDown: false,\r\n\r\n      // 所有图形和信息\r\n      img: null,    // 图像\r\n      // allPoints: null,\r\n      // allAreaInfos: null,\r\n\r\n      // 图像的缩放比例和坐标偏移量\r\n      scale: 1.0,\r\n      offsetX: 0.0,\r\n      offsetY: 0.0,\r\n      // 上次按下鼠标时的坐标\r\n      preDownX: 0.0,\r\n      preDownY: 0.0,\r\n    }\r\n  },\r\n  methods: {\r\n    // 初始化\r\n    init() {\r\n      this.initParameter()\r\n      this.applyParameter()\r\n      this.canvas = this.$refs.canvas;\r\n      // 设置canvas大小\r\n      this.canvas.width = this.finalConfiguration.canvasWidth\r\n      this.canvas.height = this.finalConfiguration.height\r\n\r\n      this.context = this.canvas.getContext(\"2d\");\r\n      let that = this\r\n      // 加载图像\r\n      this.img = new Image();\r\n      this.img.src = this.imgUrl;\r\n\r\n      // 鼠标点击事件处理程序\r\n      this.canvas.addEventListener(\"mousedown\", function (e) {\r\n        if (!that.drawing) return;\r\n        // 获取鼠标点击的位置\r\n        let x = (e.offsetX - that.offsetX) / that.scale;\r\n        let y = (e.offsetY - that.offsetY) / that.scale;\r\n        // 超出区域无法绘制\r\n        if (x < 0 || y < 0 || x > that.img.width || y > that.img.height) return;\r\n        // 添加点到数组中\r\n        that.points.push({x: x, y: y});\r\n        // 清空画布并重新绘制所有点和线段\r\n        that.refreshCanvas();\r\n      });\r\n      // 鼠标滚轮事件处理程序\r\n      this.canvas.addEventListener(\"wheel\", function (e) {\r\n        // 阻止默认滚动行为\r\n        e.preventDefault();\r\n\r\n        // 获取鼠标滚动的距离和方向\r\n        let delta = e.deltaY > 0 ? -0.1 : 0.1;\r\n\r\n        // 获取鼠标当前位置\r\n        let x = e.offsetX;\r\n        let y = e.offsetY;\r\n\r\n        // 计算新的缩放比例和坐标偏移量\r\n        let newScale = e.deltaY > 0 ? (that.scale * 0.9) : (that.scale * 1.1);\r\n        let deltaX = (x - that.offsetX) * delta;\r\n        let deltaY = (y - that.offsetY) * delta;\r\n\r\n        let newX = that.offsetX - deltaX;\r\n        let newY = that.offsetY - deltaY;\r\n\r\n        // 更新缩放比例和坐标偏移量\r\n        that.scale = newScale;\r\n        that.offsetX = newX;\r\n        that.offsetY = newY;\r\n\r\n        // 绘制图像\r\n        nextTick(() => {\r\n          that.refreshCanvas()\r\n        })\r\n      });\r\n      // 鼠标按下事件处理程序\r\n      this.canvas.addEventListener(\"mousedown\", function (e) {\r\n        if (e.button !== 0) {\r\n          return;\r\n        }\r\n        that.mouseDown = true;\r\n        that.preDownX = e.offsetX;\r\n        that.preDownY = e.offsetY;\r\n        // that.canvas.style.cursor = \"grabbing\";\r\n      });\r\n      // 鼠标松开事件处理程序\r\n      this.canvas.addEventListener(\"mouseup\", function (e) {\r\n        if (e.button !== 0) {\r\n          return;\r\n        }\r\n        that.mouseDown = false;\r\n        // that.canvas.style.cursor = \"grab\";\r\n      });\r\n      // 鼠标移动事件处理程序\r\n      this.canvas.addEventListener(\"mousemove\", function (e) {\r\n        if (that.mouseDown) {\r\n          // 计算偏移值\r\n          if (!that.drawing ||\r\n              Math.abs(that.preDownX - e.offsetX) >= 8 ||\r\n              Math.abs(that.preDownY - e.offsetY) >= 8\r\n          ) {\r\n            that.offsetX += e.movementX;\r\n            that.offsetY += e.movementY;\r\n          }\r\n          // 将图像绘制到画布上\r\n          that.refreshCanvas()\r\n        }\r\n      });\r\n      // 体验优化：鼠标移开画布时取消移动状态\r\n      this.canvas.addEventListener(\"mouseleave\", function (e) {\r\n        if (e.button !== 0) {\r\n          return;\r\n        }\r\n        that.mouseDown = false;\r\n      })\r\n\r\n      // 绘制原始图像\r\n      this.img.onload = function () {\r\n        that.initImage()\r\n        nextTick(() => {\r\n          that.refreshCanvas()\r\n        })\r\n      };\r\n\r\n    },\r\n    // 参数初始化\r\n    initParameter() {\r\n      let defaultConfiguration = Configuration.DefaultConfiguration\r\n      this.finalConfiguration = {\r\n        canvasWidth: this.canvasWidth ? this.canvasWidth : this.defaultConfiguration.canvasWidth,\r\n        editingWidth: this.editingWidth ? this.editingWidth : this.defaultConfiguration.editingWidth,      // 右侧编辑区宽度\r\n        height: this.height ? this.height : this.defaultConfiguration.height,            // 总高度，两侧高度一致\r\n        // 被选中的区域样式\r\n        selectingAreaStyle: {\r\n          lineColor: Utils.accessObjectSafely(this.selectingAreaStyle, [\"lineColor\"]) ?\r\n              Utils.accessObjectSafely(this.selectingAreaStyle, [\"lineColor\"]) : defaultConfiguration.selectingAreaStyle.lineColor,\r\n          lineWidth: Utils.accessObjectSafely(this.selectingAreaStyle, [\"lineWidth\"]) ?\r\n              Utils.accessObjectSafely(this.selectingAreaStyle, [\"lineWidth\"]) : defaultConfiguration.selectingAreaStyle.lineWidth,\r\n          pointColor: Utils.accessObjectSafely(this.selectingAreaStyle, [\"pointColor\"]) ?\r\n              Utils.accessObjectSafely(this.selectingAreaStyle, [\"pointColor\"]) : defaultConfiguration.selectingAreaStyle.pointColor,\r\n          pointRadius: Utils.accessObjectSafely(this.selectingAreaStyle, [\"pointRadius\"]) ?\r\n              Utils.accessObjectSafely(this.selectingAreaStyle, [\"pointRadius\"]) : defaultConfiguration.selectingAreaStyle.pointRadius,\r\n        },\r\n        // 正在画的区域样式\r\n        drawingAreaStyle: {\r\n          lineColor: Utils.accessObjectSafely(this.drawingAreaStyle, [\"lineColor\"]) ?\r\n              Utils.accessObjectSafely(this.drawingAreaStyle, [\"lineColor\"]) : defaultConfiguration.selectingAreaStyle.lineColor,\r\n          lineWidth: Utils.accessObjectSafely(this.drawingAreaStyle, [\"lineWidth\"]) ?\r\n              Utils.accessObjectSafely(this.drawingAreaStyle, [\"lineWidth\"]) : defaultConfiguration.selectingAreaStyle.lineWidth,\r\n          pointColor: Utils.accessObjectSafely(this.drawingAreaStyle, [\"pointColor\"]) ?\r\n              Utils.accessObjectSafely(this.drawingAreaStyle, [\"pointColor\"]) : defaultConfiguration.selectingAreaStyle.pointColor,\r\n          pointRadius: Utils.accessObjectSafely(this.drawingAreaStyle, [\"pointRadius\"]) ?\r\n              Utils.accessObjectSafely(this.drawingAreaStyle, [\"pointRadius\"]) : defaultConfiguration.selectingAreaStyle.pointRadius,\r\n        },\r\n        // 其他已经画的区域样式\r\n        otherAreaStyle: {\r\n          lineColor: Utils.accessObjectSafely(this.otherAreaStyle, [\"lineColor\"]) ?\r\n              Utils.accessObjectSafely(this.otherAreaStyle, [\"lineColor\"]) : defaultConfiguration.selectingAreaStyle.lineColor,\r\n          lineWidth: Utils.accessObjectSafely(this.otherAreaStyle, [\"lineWidth\"]) ?\r\n              Utils.accessObjectSafely(this.otherAreaStyle, [\"lineWidth\"]) : defaultConfiguration.selectingAreaStyle.lineWidth,\r\n          pointColor: Utils.accessObjectSafely(this.otherAreaStyle, [\"pointColor\"]) ?\r\n              Utils.accessObjectSafely(this.otherAreaStyle, [\"pointColor\"]) : defaultConfiguration.selectingAreaStyle.pointColor,\r\n          pointRadius: Utils.accessObjectSafely(this.otherAreaStyle, [\"pointRadius\"]) ?\r\n              Utils.accessObjectSafely(this.otherAreaStyle, [\"pointRadius\"]) : defaultConfiguration.selectingAreaStyle.pointRadius,\r\n        },\r\n        // 用户填写的表单数据校验\r\n        rule: {\r\n          name: {\r\n            required: Utils.accessObjectSafely(this.rule, [\"name\", \"required\"]) ?\r\n                Utils.accessObjectSafely(this.rule, [\"name\", \"required\"]) : defaultConfiguration.rule.name.required,\r\n            pattern: Utils.accessObjectSafely(this.rule, [\"name\", \"pattern\"]) ?\r\n                Utils.accessObjectSafely(this.rule, [\"name\", \"pattern\"]) : defaultConfiguration.rule.name.pattern,\r\n            info: Utils.accessObjectSafely(this.rule, [\"name\", \"info\"]) ?\r\n                Utils.accessObjectSafely(this.rule, [\"name\", \"info\"]) : defaultConfiguration.rule.name.info,\r\n          },\r\n          description: {\r\n            required: Utils.accessObjectSafely(this.rule, [\"description\", \"required\"]) ?\r\n                Utils.accessObjectSafely(this.rule, [\"description\", \"required\"]) : defaultConfiguration.rule.description.required,\r\n            pattern: Utils.accessObjectSafely(this.rule, [\"description\", \"pattern\"]) ?\r\n                Utils.accessObjectSafely(this.rule, [\"description\", \"pattern\"]) : defaultConfiguration.rule.description.pattern,\r\n            info: Utils.accessObjectSafely(this.rule, [\"description\", \"info\"]) ?\r\n                Utils.accessObjectSafely(this.rule, [\"description\", \"info\"]) : defaultConfiguration.rule.description.info,\r\n          },\r\n        },\r\n        // 背景填充图片，最好是平铺图\r\n        backgroundImage: this.backgroundImage ? this.backgroundImage : defaultConfiguration.backgroundImage,\r\n        // 右侧编辑区背景色\r\n        editingAreaBackground: this.editingAreaBackground ? this.editingAreaBackground : defaultConfiguration.editingAreaBackground,\r\n        // 选区列表背景颜色\r\n        areaListBackground: this.areaListBackground ? this.areaListBackground : defaultConfiguration.areaListBackground,\r\n        // 选区列表中每个列元的背景颜色\r\n        areaListItemBackground: this.areaListItemBackground ? this.areaListItemBackground : defaultConfiguration.areaListItemBackground,\r\n        // 选区列表中每个列元，被hover后的背景颜色\r\n        areaListItemBackgroundAfterHover: this.areaListItemBackgroundAfterHover ? this.areaListItemBackgroundAfterHover : defaultConfiguration.areaListItemBackgroundAfterHover,\r\n        // 按钮名称\r\n        buttonNames: {\r\n          // 默认态时的按钮\r\n          accomplish: this.buttonNames && this.buttonNames.accomplish ? this.buttonNames.accomplish : defaultConfiguration.buttonNames.accomplish,\r\n          newArea: this.buttonNames && this.buttonNames.newArea ? this.buttonNames.newArea : defaultConfiguration.buttonNames.newArea,\r\n          resetPosition: this.buttonNames && this.buttonNames.resetPosition ? this.buttonNames.resetPosition : defaultConfiguration.buttonNames.resetPosition,\r\n          // 新建选区时的按钮\r\n          addArea: this.buttonNames && this.buttonNames.addArea ? this.buttonNames.addArea : defaultConfiguration.buttonNames.addArea,\r\n          cancelArea: this.buttonNames && this.buttonNames.cancelArea ? this.buttonNames.cancelArea : defaultConfiguration.buttonNames.cancelArea,\r\n          rollBack: this.buttonNames && this.buttonNames.rollBack ? this.buttonNames.rollBack : defaultConfiguration.buttonNames.rollBack,\r\n          // 编辑选区时的按钮\r\n          confirmChange: this.buttonNames && this.buttonNames.confirmChange ? this.buttonNames.confirmChange : defaultConfiguration.buttonNames.confirmChange,\r\n          cancelChange: this.buttonNames && this.buttonNames.cancelChange ? this.buttonNames.cancelChange : defaultConfiguration.buttonNames.cancelChange,\r\n          deleteArea: this.buttonNames && this.buttonNames.deleteArea ? this.buttonNames.deleteArea : defaultConfiguration.buttonNames.deleteArea,\r\n        }\r\n      }\r\n    },\r\n    // 将参数作用于HTML,\r\n    applyParameter() {\r\n      // 设置drawing-area的宽高\r\n      this.$refs[\"drawing-area\"].style.height = this.finalConfiguration.height + \"px\"\r\n      this.$refs[\"drawing-area\"].style.width = this.finalConfiguration.canvasWidth + \"px\"\r\n      // 设置画画区背景图\r\n      this.$refs[\"drawing-area\"].style.backgroundImage = this.finalConfiguration.backgroundImage\r\n      // 设置编辑区宽高\r\n      this.$refs[\"editing-area\"].style.height = this.finalConfiguration.height + \"px\"\r\n      this.$refs[\"editing-area\"].style.width = this.finalConfiguration.editingWidth + \"px\"\r\n      // 由于调整了宽高，内部元素宽高需要自适应\r\n      // 列表宽是总宽的0.92倍\r\n      // this.$refs[\"outline-list\"].style.width = (this.finalConfiguration.editingWidth - 16 - 8 - 4) + \"px\"\r\n      // this.$refs[\"outline-list\"].style.height = (this.finalConfiguration.height - 56 - 8) + \"px\"\r\n      // this.$refs[\"scroll\"].style.width = (this.finalConfiguration.editingWidth - 16 - 8 - 4) + \"px\"\r\n      // this.$refs[\"scroll\"].style.height = (this.finalConfiguration.height - 56 - 8 - 4) + \"px\"\r\n\r\n      // this.$refs[\"editing-input\"].style.width = (this.finalConfiguration.editingWidth - 16 - 8 - 4) + \"px\"\r\n      // this.$refs[\"editing-input\"].style.height = (this.finalConfiguration.height - 56 - 8 - 4) + \"px\"\r\n\r\n      // 设置编辑区样式\r\n      this.$refs[\"editing-area\"].style.background = this.finalConfiguration.editingAreaBackground\r\n    },\r\n\r\n    // 初始化图片：自适应大小、缩放\r\n    initImage() {\r\n      this.selfAdaptionImage()\r\n    },\r\n    // 重置图像到自适应大小\r\n    selfAdaptionImage() {\r\n      // 图形的宽高比\r\n      let aspectRatio = 1.0 * this.img.width / this.img.height;\r\n      // 如果宽高比大于500/400，说明宽要大，那么使得宽缩放到500px，高度自适应\r\n      if (aspectRatio > this.finalConfiguration.canvasWidth / this.finalConfiguration.height) {\r\n        let newWidth = this.finalConfiguration.canvasWidth\r\n        let newHeight = newWidth / aspectRatio\r\n        this.scale = this.finalConfiguration.canvasWidth / this.img.width\r\n        this.offsetX = 0\r\n        this.offsetY = (this.finalConfiguration.height - newHeight) / 2\r\n      } else {\r\n        let newHeight = this.finalConfiguration.height\r\n        let newWidth = newHeight * aspectRatio\r\n        this.scale = this.finalConfiguration.height / this.img.height\r\n        this.offsetX = (this.finalConfiguration.canvasWidth - newWidth) / 2\r\n        this.offsetY = 0\r\n      }\r\n    },\r\n    // 刷新画布\r\n    refreshCanvas() {\r\n      this.context.clearRect(0, 0, this.canvas.width, this.canvas.height);\r\n      this.drawImage()\r\n      this.drawAllOutlines()\r\n      this.drawAllPoints()\r\n    },\r\n    // 绘制图像\r\n    drawImage() {\r\n      // 计算图像的新宽度和高度\r\n      let newWidth = this.img.width * this.scale;\r\n      let newHeight = this.img.height * this.scale;\r\n\r\n      // 绘制图像\r\n      this.context.drawImage(this.img, this.offsetX, this.offsetY, newWidth, newHeight);\r\n    },\r\n    // 绘制所有点的函数\r\n    drawAllPoints() {\r\n      // 画出已存在的点集\r\n      for (let i = 0; i < this.allPoints.length; i++) {\r\n        this.drawPoints(this.allPoints[i], this.selecting && this.areaIndex === i, false)\r\n      }\r\n      // 画当前正在编辑的形状\r\n      this.drawPoints(this.points, false, true)\r\n    },\r\n    drawPoints(points, selected, drawing) {\r\n      let radius = 2;\r\n      if (selected) {\r\n        this.context.fillStyle = this.finalConfiguration.selectingAreaStyle.pointColor\r\n        radius = this.finalConfiguration.selectingAreaStyle.pointRadius\r\n      } else if (drawing) {\r\n        this.context.fillStyle = this.finalConfiguration.drawingAreaStyle.pointColor\r\n        radius = this.finalConfiguration.drawingAreaStyle.pointRadius\r\n      } else {\r\n        this.context.fillStyle = this.finalConfiguration.otherAreaStyle.pointColor\r\n        radius = this.finalConfiguration.otherAreaStyle.pointRadius\r\n      }\r\n\r\n      for (const point of points) {\r\n        this.context.beginPath();\r\n        this.context.arc(point.x * this.scale + this.offsetX,\r\n            point.y * this.scale + this.offsetY, radius, 0, Math.PI * 2);\r\n        this.context.fill();\r\n      }\r\n    },\r\n    // 画出所有的轮廓\r\n    drawAllOutlines() {\r\n      // 先画已保存的轮廓\r\n      for (let i = 0; i < this.allPoints.length; i++) {\r\n        this.drawOutline(this.allPoints[i], this.selecting && this.areaIndex === i, false)\r\n      }\r\n      this.drawOutline(this.points, false, true)\r\n    },\r\n    // 画出某个points数组组成的轮廓\r\n    drawOutline(points, selected, drawing) {\r\n      if (selected) {\r\n        this.context.strokeStyle = this.finalConfiguration.selectingAreaStyle.lineColor\r\n        this.context.lineWidth = this.finalConfiguration.selectingAreaStyle.lineWidth\r\n      } else if (drawing) {\r\n        this.context.strokeStyle = this.finalConfiguration.drawingAreaStyle.lineColor\r\n        this.context.lineWidth = this.finalConfiguration.drawingAreaStyle.lineWidth\r\n      } else {\r\n        this.context.strokeStyle = this.finalConfiguration.otherAreaStyle.lineColor\r\n        this.context.lineWidth = this.finalConfiguration.otherAreaStyle.lineWidth\r\n      }\r\n      if (points.length > 1) {\r\n        this.context.beginPath();\r\n        this.context.moveTo(points[0].x * this.scale + this.offsetX, points[0].y * this.scale + this.offsetY);\r\n        for (let i = 1; i < points.length; i++) {\r\n          this.context.lineTo(points[i].x * this.scale + this.offsetX, points[i].y * this.scale + this.offsetY);\r\n        }\r\n        this.context.closePath();\r\n        this.context.stroke();\r\n      }\r\n    },\r\n\r\n\r\n    // 按钮事件\r\n    // 完成编辑\r\n    accomplish() {\r\n      this.$emit(\"accomplish\", {\r\n        imgUrl: this.imgUrl,\r\n        allAreaInfos: this.allAreaInfos,\r\n        allPoints: this.allPoints,\r\n      })\r\n    },\r\n    // 新建一个选区\r\n    newArea() {\r\n      // 设置正在画画\r\n      this.drawing = true\r\n      this.areaInfo = {\r\n        name: '',\r\n        description: '',\r\n      }\r\n      this.points = []\r\n    },\r\n    // 添加该选区\r\n    addArea() {\r\n      if (this.points.length <= 2) {\r\n        alert(\"请确保选区至少3个点\")\r\n        return;\r\n      } else if (!this.verifyForm()) {\r\n        return;\r\n      }\r\n      // this.canvas.style.cursor = \"grab\"\r\n      this.drawing = false\r\n      this.allPoints.push(this.points)\r\n      // 将当前区域信息插入所有的区域信息数组\r\n      this.allAreaInfos.push(this.areaInfo)\r\n      this.areaInfo = {\r\n        name: '',           // 选区名称\r\n        description: '',    // 选区描述\r\n      }\r\n      this.points = []\r\n      let that = this\r\n      nextTick(() => {\r\n        that.refreshCanvas()\r\n      })\r\n    },\r\n    // 撤回刚刚标记的点\r\n    rollBackAreaLatestPoint() {\r\n      if (this.points && this.points.length >= 1) {\r\n        this.points.splice(this.points.length - 1, 1)\r\n        this.refreshCanvas()\r\n      }\r\n    },\r\n    // 取消该选区\r\n    cancelArea() {\r\n      this.drawing = false\r\n      this.areaInfo = {\r\n        name: '',           // 选区名称\r\n        description: '',    // 选区描述\r\n      }\r\n      this.points = []\r\n      let that = this\r\n      nextTick(() => {\r\n        that.refreshCanvas()\r\n      })\r\n    },\r\n\r\n    // 确认修改选区\r\n    confirmChange() {\r\n      // 只能修改选区的名称和描述\r\n      if (!this.verifyForm()) {\r\n        return;\r\n      }\r\n      // this.canvas.style.cursor = \"grab\"\r\n      this.allAreaInfos[this.areaIndex] = this.areaInfo\r\n      this.editing = false\r\n      this.selecting = false\r\n      let that = this\r\n      nextTick(() => {\r\n        that.refreshCanvas()\r\n      })\r\n    },\r\n    // 取消修改选区\r\n    cancelChange() {\r\n      // this.canvas.style.cursor = \"grab\"\r\n      this.editing = false\r\n      this.selecting = false\r\n      let that = this\r\n      nextTick(() => {\r\n        that.refreshCanvas()\r\n      })\r\n    },\r\n    // 删除选区\r\n    deleteArea() {\r\n      // this.canvas.style.cursor = \"grab\"\r\n      this.allAreaInfos.splice(this.areaIndex, 1)\r\n      this.allPoints.splice(this.areaIndex, 1)\r\n      this.editing = false\r\n      this.selecting = false\r\n      let that = this\r\n      nextTick(() => {\r\n        that.refreshCanvas()\r\n      })\r\n    },\r\n\r\n    // 恢复图片位置\r\n    recoverImagePosition() {\r\n      this.selfAdaptionImage()\r\n      this.refreshCanvas()\r\n    },\r\n\r\n    // 编辑选区\r\n    // 悬浮到某一个选区列表中item上时，就高亮该选区\r\n    highlightArea(index) {\r\n      this.$refs[\"areaListItem-\" + index][0].style.background = this.finalConfiguration.areaListItemBackgroundAfterHover\r\n      this.selecting = true\r\n      this.areaIndex = index\r\n      this.refreshCanvas()\r\n    },\r\n    // 当离开时，就不高亮\r\n    recoverArea(index) {\r\n      this.$refs[\"areaListItem-\" + index][0].style.background = this.finalConfiguration.areaListItemBackground\r\n      this.selecting = false\r\n      this.refreshCanvas()\r\n    },\r\n    // 在选区列表中选中某一个分区时，打开修改窗口，并显示该选区的信息\r\n    editArea(index) {\r\n      // this.canvas.style.cursor = \"grab\"\r\n      // 编辑第index个（从0开始）的选区\r\n      this.areaInfo = {...this.allAreaInfos[index]}\r\n      this.editing = true\r\n      this.selecting = true\r\n      this.areaIndex = index\r\n      let that = this\r\n      nextTick(() => {\r\n        that.refreshCanvas()\r\n      })\r\n    },\r\n\r\n    // 检验表单\r\n    verifyForm() {\r\n      if (this.finalConfiguration.rule.name.required && this.areaInfo.name.length === 0) {\r\n        this.areaInfoError.name = true\r\n        return false\r\n      }\r\n      if (!new RegExp(this.finalConfiguration.rule.name.pattern).test(this.areaInfo.name)) {\r\n        this.areaInfoError.name = true\r\n        return false\r\n      }\r\n\r\n      if (this.finalConfiguration.rule.description.required && this.areaInfo.description.length === 0) {\r\n        this.areaInfoError.description = true\r\n        return false\r\n      }\r\n      // console.log(this.finalConfiguration.rule.description.pattern)\r\n      if (!new RegExp(this.finalConfiguration.rule.description.pattern).test(this.areaInfo.description)) {\r\n        this.areaInfoError.description = true\r\n        return false\r\n      }\r\n      this.areaInfoError.name = false\r\n      this.areaInfoError.description = false\r\n      return true\r\n    }\r\n  },\r\n  mounted() {\r\n    this.init()\r\n  }\r\n}\r\n</script>\r\n\r\n<template>\r\n  <div class=\"main\">\r\n    <div ref=\"drawing-area\" class=\"drawing-area\">\r\n      <canvas ref=\"canvas\" id=\"canvas\" height=\"400\" width=\"500\"/>\r\n    </div>\r\n    <div ref=\"editing-area\" style=\"height: 400px; width: 200px; margin-left: 8px; background: #e8e8e8;\">\r\n      <!-- 按钮组 -->\r\n      <div style=\"padding: 8px\">\r\n        <div v-if=\"!drawing && !editing\">\r\n          <image-spotlight-button type=\"success\" @click.native=\"accomplish\">{{\r\n              finalConfiguration.buttonNames.accomplish\r\n            }}\r\n          </image-spotlight-button>\r\n          <image-spotlight-button @click.native=\"newArea\">{{\r\n              finalConfiguration.buttonNames.newArea\r\n            }}\r\n          </image-spotlight-button>\r\n          <image-spotlight-button @click.native=\"recoverImagePosition\">{{\r\n              finalConfiguration.buttonNames.resetPosition\r\n            }}\r\n          </image-spotlight-button>\r\n        </div>\r\n        <div v-else-if=\"drawing\">\r\n          <image-spotlight-button type=\"success\" @click.native=\"addArea\">{{\r\n              finalConfiguration.buttonNames.addArea\r\n            }}\r\n          </image-spotlight-button>\r\n          <image-spotlight-button type=\"warning\" @click.native=\"rollBackAreaLatestPoint\">\r\n            {{ finalConfiguration.buttonNames.rollBack }}\r\n          </image-spotlight-button>\r\n          <image-spotlight-button @click.native=\"cancelArea\">{{\r\n              finalConfiguration.buttonNames.cancelArea\r\n            }}\r\n          </image-spotlight-button>\r\n        </div>\r\n        <div v-else-if=\"editing\">\r\n          <image-spotlight-button type=\"success\" @click.native=\"confirmChange\">{{\r\n              finalConfiguration.buttonNames.confirmChange\r\n            }}\r\n          </image-spotlight-button>\r\n          <image-spotlight-button type=\"warning\" @click.native=\"deleteArea\">{{\r\n              finalConfiguration.buttonNames.deleteArea\r\n            }}\r\n          </image-spotlight-button>\r\n          <image-spotlight-button @click.native=\"cancelChange\">{{\r\n              finalConfiguration.buttonNames.cancelChange\r\n            }}\r\n          </image-spotlight-button>\r\n        </div>\r\n      </div>\r\n      <!-- 编辑区 -->\r\n      <div style=\"margin: 0 8px 8px 8px; background: white;border-radius: 8px\">\r\n        <div v-if=\"!drawing && !editing\">\r\n          <div ref=\"outline-list\" class=\"outlines-list\"\r\n               :style=\"{\r\n                  background: finalConfiguration.areaListBackground,\r\n                  width: (finalConfiguration.editingWidth - 16 - 8 - 4) +'px',\r\n                  height: (finalConfiguration.height - 56 - 8) + 'px'\r\n                }\">\r\n            <div ref=\"scroll\" class=\"scroll\"\r\n                 :style=\"{\r\n                     width: (finalConfiguration.editingWidth - 16 - 8 - 4) + 'px',\r\n                     height: (finalConfiguration.height - 56 - 8 - 4) + 'px',\r\n                 }\">\r\n              <div v-for=\"(info, index) in allAreaInfos\" class=\"outlines-item\"\r\n                   :ref=\"'areaListItem-' + index\"\r\n                   :style=\"{\r\n                     background: finalConfiguration.areaListItemBackground,\r\n                     width: (finalConfiguration.editingWidth - 16 - 8 - 8 - 8) + 'px',\r\n                   }\"\r\n                   @mouseover=\"highlightArea(index)\"\r\n                   @mouseleave=\"recoverArea(index)\"\r\n                   @click=\"editArea(index)\">\r\n                {{ info.name }}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div v-else-if=\"drawing || editing\"\r\n             :style=\"{\r\n                     padding:'8px',\r\n                     width: (finalConfiguration.editingWidth - 16 - 8 - 4) + 'px',\r\n                     height: (finalConfiguration.height - 56 - 8 - 4) + 'px',\r\n                   }\"\r\n        >\r\n          <div style=\"text-align: center; font-weight: bolder; padding-bottom: 8px\">选区信息</div>\r\n          <div style=\"margin-bottom: 8px\">\r\n            <span v-if=\"finalConfiguration.rule.name.required\" style=\"color: red\">*</span>\r\n            选区名称\r\n            <span v-if=\"areaInfoError.name\" style=\"color: red; font-size: small\">{{\r\n                finalConfiguration.rule.name.info\r\n              }}</span>\r\n          </div>\r\n          <input class=\"base-input input\"\r\n                 :style=\"{marginBottom: '8px',width: (finalConfiguration.editingWidth - 16 - 8 - 8 - 10) + 'px'}\"\r\n                 v-model=\"areaInfo.name\"\r\n                 placeholder=\"请输入选区名称\"/>\r\n          <div style=\"margin-bottom: 8px\">\r\n            <span v-if=\"finalConfiguration.rule.description.required\" style=\"color: red\">*</span>\r\n            选区描述\r\n            <span v-if=\"areaInfoError.description\"\r\n                  style=\"color: red; font-size: small\">{{ finalConfiguration.rule.description.info }}</span>\r\n          </div>\r\n          <textarea class=\"base-input textarea\" v-model=\"areaInfo.description\"\r\n                    :style=\"{width: (finalConfiguration.editingWidth - 16 - 8 - 8 - 10) + 'px'}\"\r\n                    :rows=\"\r\n                      Math.floor((finalConfiguration.height - 56 - 8 - 4 - 108.8 - 8) / 20.8 - 1)\r\n                    \"\r\n                    placeholder=\"请输入选区描述\"/>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n</template>\r\n\r\n<style scoped>\r\n* {\r\n  font-family: 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;\r\n}\r\n\r\n.main {\r\n  height: 400px;\r\n  display: flex;\r\n  justify-content: flex-start;\r\n}\r\n\r\n.drawing-area {\r\n  width: 500px;\r\n  height: 400px;\r\n}\r\n\r\n.outlines-list {\r\n  height: 336px;\r\n  border-radius: 8px;\r\n  padding: 4px 4px 4px 8px;\r\n}\r\n\r\n.outlines-list .scroll {\r\n  height: 332px;\r\n  overflow: scroll;\r\n}\r\n\r\n.outlines-item {\r\n  margin: 4px 4px 0 0;\r\n  border-radius: 8px;\r\n  height: 32px;\r\n  width: 160px;\r\n  text-align: left;\r\n  padding-left: 8px;\r\n  line-height: 32px;\r\n  color: #484848;\r\n  background: #e8e8e8;\r\n  cursor: pointer;\r\n  transition: all .2s;\r\n}\r\n\r\n.outlines-item:hover {\r\n  background: #bdbdbd;\r\n}\r\n\r\n.base-input {\r\n  outline: none;\r\n  padding: 4px;\r\n  border-radius: 4px;\r\n  border: 1px solid #D7D8D9;\r\n  font-size: 16px;\r\n}\r\n\r\n.input {\r\n  width: 158px;\r\n}\r\n\r\n.textarea {\r\n  resize: none;\r\n  width: 158px;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","// extracted by mini-css-extract-plugin\nexport {};","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-12.use[0]!../../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-12.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-12.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=adf372f8&prod&scoped=true&lang=css&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=adf372f8&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=adf372f8&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"adf372f8\",\n  null\n  \n)\n\nexport default component.exports","//package/index.js\r\nimport ImageSpotlightRender from \"./image-spotlight-render/index.vue\";\r\nimport ImageSpotlightEditor from \"./image-spotlight-editor/index.vue\";\r\n\r\nlet plugins = {};\r\nconst componentArray = [ImageSpotlightRender, ImageSpotlightEditor]\r\n\r\nplugins.install = function (Vue) {\r\n    // 判断是否安装过\r\n    if (plugins.installed) return;\r\n    plugins.installed = true\r\n    //  console.log('plugins.installed==========',plugins.installed)\r\n\r\n    componentArray.forEach((item) => {\r\n        Vue.component(item.name, item)\r\n    })\r\n\r\n}\r\n// /* 支持使用标签的方式引入 */\r\n// if (typeof window !== 'undefined' && window.Vue) {\r\n//     install(window.Vue);\r\n// }\r\n// 也可参考 https://cn.vuejs.org/v2/cookbook/packaging-sfc-for-npm.html\r\n\r\nexport default plugins","import './setPublicPath'\nimport mod from '~entry'\nexport default mod\nexport * from '~entry'\n"],"names":[],"sourceRoot":""}