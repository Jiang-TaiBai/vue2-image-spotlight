{"version":3,"file":"vue2-image-spotlight.umd.min.js","mappings":"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","sources":["webpack://vue2-image-spotlight/webpack/universalModuleDefinition","webpack://vue2-image-spotlight/./src/assets/imgs/ sync ^\\.\\/.*$","webpack://vue2-image-spotlight/external umd {\"commonjs\":\"vue\",\"commonjs2\":\"vue\",\"root\":\"Vue\"}","webpack://vue2-image-spotlight/webpack/bootstrap","webpack://vue2-image-spotlight/webpack/runtime/define property getters","webpack://vue2-image-spotlight/webpack/runtime/hasOwnProperty shorthand","webpack://vue2-image-spotlight/webpack/runtime/make namespace object","webpack://vue2-image-spotlight/webpack/runtime/publicPath","webpack://vue2-image-spotlight/./node_modules/@vue/cli-service/lib/commands/build/setPublicPath.js","webpack://vue2-image-spotlight/./src/package/image-spotlight-render/index.vue?d83e","webpack://vue2-image-spotlight/./src/assets/js/utils.js","webpack://vue2-image-spotlight/./src/assets/js/rendererConfiguration.js","webpack://vue2-image-spotlight/src/package/image-spotlight-render/index.vue","webpack://vue2-image-spotlight/./src/package/image-spotlight-render/index.vue?a11b","webpack://vue2-image-spotlight/./node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js","webpack://vue2-image-spotlight/./src/package/image-spotlight-render/index.vue","webpack://vue2-image-spotlight/./src/package/image-spotlight-editor/index.vue?9211","webpack://vue2-image-spotlight/./src/package/subcomponent/image-spotlight-button.vue?c1a4","webpack://vue2-image-spotlight/src/package/subcomponent/image-spotlight-button.vue","webpack://vue2-image-spotlight/./src/package/subcomponent/image-spotlight-button.vue?9c8a","webpack://vue2-image-spotlight/./src/package/subcomponent/image-spotlight-button.vue","webpack://vue2-image-spotlight/./src/assets/js/editorConfiguration.js","webpack://vue2-image-spotlight/src/package/image-spotlight-editor/index.vue","webpack://vue2-image-spotlight/./src/package/image-spotlight-editor/index.vue?6154","webpack://vue2-image-spotlight/./src/package/image-spotlight-editor/index.vue","webpack://vue2-image-spotlight/./src/package/index.js","webpack://vue2-image-spotlight/./node_modules/@vue/cli-service/lib/commands/build/entry-lib.js"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"vue\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"vue2-image-spotlight\"] = factory(require(\"vue\"));\n\telse\n\t\troot[\"vue2-image-spotlight\"] = factory(root[\"Vue\"]);\n})((typeof self !== 'undefined' ? self : this), function(__WEBPACK_EXTERNAL_MODULE__203__) {\nreturn ","var map = {\n\t\"./SpongeBob.jpg\": 300,\n\t\"./mountain.jpg\": 544,\n\t\"./mountain_vertical.jpg\": 651,\n\t\"./transparent-background.png\": 541\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 40;","module.exports = __WEBPACK_EXTERNAL_MODULE__203__;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.p = \"\";","/* eslint-disable no-var */\n// This file is imported into lib/wc client bundles.\n\nif (typeof window !== 'undefined') {\n  var currentScript = window.document.currentScript\n  if (process.env.NEED_CURRENTSCRIPT_POLYFILL) {\n    var getCurrentScript = require('@soda/get-current-script')\n    currentScript = getCurrentScript()\n\n    // for backward compatibility, because previously we directly included the polyfill\n    if (!('currentScript' in document)) {\n      Object.defineProperty(document, 'currentScript', { get: getCurrentScript })\n    }\n  }\n\n  var src = currentScript && currentScript.src.match(/(.+\\/)[^/]+\\.js(\\?.*)?$/)\n  if (src) {\n    __webpack_public_path__ = src[1] // eslint-disable-line\n  }\n}\n\n// Indicate to webpack that this file can be concatenated\nexport default null\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{ref:\"canvas-box\",attrs:{\"id\":\"main\"}},[_c('canvas',{ref:\"canvas-pic\",attrs:{\"id\":\"canvas-pic\",\"width\":\"500\",\"height\":\"400\"}}),_c('canvas',{ref:\"canvas-masking\",attrs:{\"id\":\"canvas-masking\",\"width\":\"500\",\"height\":\"400\"}}),_c('div',{ref:\"description-box\",staticClass:\"description-box-down\"},[_c('div',{staticStyle:{\"font-size\":\"large\",\"font-weight\":\"bolder\",\"margin-bottom\":\"8px\"}},[_vm._v(\" \"+_vm._s((_vm.allAreaInfos.length > 0 && _vm.selectingIndex >= 0) ? _vm.allAreaInfos[_vm.selectingIndex].name : '')+\" \")]),_c('div',{staticStyle:{\"text-indent\":\"2em\"}},[_vm._v(_vm._s(_vm.selectingIndex >= 0 ? ((_vm.allAreaInfos.length>0 && _vm.allAreaInfos[_vm.selectingIndex].description.trim().length > 0) ? _vm.allAreaInfos[_vm.selectingIndex].description : \"暂无注释。\") : \"暂无注释。\")+\" \")])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/**\r\n * 使用射线法，判断一个坐标点是否在封闭图形内部\r\n * 射线法的基本思想是从这个点（假设为P）向任意一个方向（假设为向右）发射一条射线，\r\n * 然后统计这条射线与图形的交点数量，如果为奇数，说明P在图形内部；如果为偶数，说明P在图形外部。\r\n * @param point 点坐标，对象结构为{x:0, y:0}\r\n * @param points 点坐标集，构成一个封闭图形。对象数组，每个元素为{x:0, y:0}对象\r\n * @param scale 缩放比例\r\n * @param offsetX 横坐标偏移量\r\n * @param offsetY 纵坐标偏移量\r\n * @returns {boolean} 是否在该封闭图形内部\r\n */\r\nconst isPointInPolygon = (point, points, scale, offsetX, offsetY) => {\r\n    let n = points.length;\r\n    let inside = false;\r\n    // point.x = calRealPosition(point.x, scale, offsetX)\r\n    // point.y = calRealPosition(point.y, scale, offsetY)\r\n    for (let i = 0, j = n - 1; i < n; j = i++) {\r\n        let xi = calRealPosition(points[i].x, scale, offsetX),\r\n            yi = calRealPosition(points[i].y, scale, offsetY);\r\n        let xj = calRealPosition(points[j].x, scale, offsetX),\r\n            yj = calRealPosition(points[j].y, scale, offsetY);\r\n        let intersect = ((yi > point.y) !== (yj > point.y))\r\n            && (point.x < (xj - xi) * (point.y - yi) / (yj - yi) + xi);\r\n        if (intersect) inside = !inside;\r\n    }\r\n    return inside;\r\n}\r\n\r\nconst calRealPosition = (value, scale, offset) => {\r\n    return value * scale + offset\r\n}\r\nconst getImage = (name) => {\r\n    return require(`../imgs/${name}`)\r\n}\r\n\r\n/**\r\n * 安全地访问对象内的属性，以防出现访问object.a.b.c时，由于object.a未定义，导致访问object.a.b报错\r\n * @param object 对象\r\n * @param path 访问路径\r\n * @returns {any} 如果不能到达，则返回undefined\r\n */\r\nconst accessObjectSafely = (object, path) => {\r\n    let i, n = path.length;\r\n    if (!object) return object\r\n    let data = JSON.parse(JSON.stringify(object));\r\n    for (i = 0; typeof data === 'object' && i < n; ++i) {\r\n        data = data[path[i]];\r\n    }\r\n    return data\r\n}\r\n\r\n/**\r\n * 递归合并两个对象，若object1中某字段不存在或为null或undefined，则用object2中的字段补全\r\n * @param object1 对象1\r\n * @param object2 用对象2补全\r\n * @returns {*} 补全后的对象\r\n */\r\nconst mergeObjects = (object1, object2) => {\r\n    const mergedObject = {...object1};\r\n    for (const key in object2) {\r\n        if (object2.hasOwnProperty(key)) {\r\n            if (isObject(object1[key]) && isObject(object2[key])) {\r\n                mergedObject[key] = mergeObjects(object1[key], object2[key]);\r\n            } else if (mergedObject[key] == null) {\r\n                mergedObject[key] = object2[key];\r\n            }\r\n        }\r\n    }\r\n    return mergedObject;\r\n};\r\nconst isObject = (item) => {\r\n    return item && typeof item === 'object' && !Array.isArray(item);\r\n};\r\n\r\nexport default {\r\n    isPointInPolygon,\r\n    getImage,\r\n    accessObjectSafely,\r\n    mergeObjects\r\n}","const DefaultConfiguration = {\r\n    canvasWidth: 500,\r\n    canvasHeight: 400,\r\n    maskBackground: \"rgba(0,0,0,0.5)\", // 遮罩层颜色\r\n    animationTime: 25,  // 动画时间\r\n    showDescriptionBox: true,\r\n    descriptionBoxStyle: {\r\n        background: \"#EBEBE3\",\r\n        color: \"#59594F\",\r\n    },\r\n}\r\n\r\nconst TestConfiguration = {\r\n    canvasWidth: 600,\r\n    canvasHeight: 600,\r\n    maskBackground: \"rgba(0,0,0,0.5)\", // 遮罩层颜色\r\n    animationTime: 25,  // 动画时间，单位ms\r\n    showDescriptionBox: true,\r\n    descriptionBoxStyle: {\r\n        background: \"#EBEBE3\",\r\n        color: \"#59594F\",\r\n    },\r\n}\r\n\r\nexport default {\r\n    DefaultConfiguration,\r\n    TestConfiguration\r\n}","<template>\r\n  <div ref=\"canvas-box\" id=\"main\">\r\n    <canvas ref=\"canvas-pic\" id=\"canvas-pic\" width=\"500\" height=\"400\"/>\r\n    <canvas ref=\"canvas-masking\" id=\"canvas-masking\" width=\"500\" height=\"400\"/>\r\n    <div ref=\"description-box\"\r\n         class=\"description-box-down\">\r\n      <div style=\"font-size: large; font-weight: bolder; margin-bottom: 8px\">\r\n        {{ (allAreaInfos.length > 0 && selectingIndex >= 0) ? allAreaInfos[selectingIndex].name : '' }}\r\n      </div>\r\n      <div style=\"text-indent: 2em\">{{\r\n          selectingIndex >= 0 ?\r\n              ((allAreaInfos.length>0 && allAreaInfos[selectingIndex].description.trim().length > 0)\r\n                  ? allAreaInfos[selectingIndex].description : \"暂无注释。\")\r\n              : \"暂无注释。\"\r\n        }}\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {nextTick} from \"vue\";\r\nimport Utils from \"../../assets/js/utils\";\r\nimport RendererConfiguration from \"../../assets/js/rendererConfiguration\"\r\n\r\nexport default {\r\n  name: \"ImageSpotlightRenderer\",\r\n  props: {\r\n    // 必要参数，否则无法渲染\r\n    imgUrl: {\r\n      type: String,\r\n      required: true,\r\n    },\r\n    // 区域默认为空\r\n    allAreaInfos: {\r\n      type: Array,\r\n      default: () => [],\r\n    },\r\n    allPoints: {\r\n      type: Array,\r\n      default: () => [],\r\n    },\r\n\r\n    canvasWidth: {\r\n      type: Number,\r\n      default: 500,\r\n    },\r\n    canvasHeight: {\r\n      type: Number,\r\n      default: 400,\r\n    },\r\n    // 遮罩层颜色\r\n    maskBackground: {\r\n      type: String,\r\n      default: \"rgba(0,0,0,0.5)\"\r\n    },\r\n    // 动画时间\r\n    animationTime: {\r\n      type: Number,\r\n      default: 25,\r\n    },\r\n    showDescriptionBox: {\r\n      type: Boolean,\r\n      default: true,\r\n    },\r\n    descriptionBoxStyle: {\r\n      type: Object,\r\n      default: () => {\r\n        return {\r\n          background: \"#EBEBE3\",\r\n          color: \"#59594F\",\r\n        }\r\n      }\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      finalConfiguration: null,\r\n      img: null,\r\n      canvas: null,\r\n      context: null,\r\n\r\n      // 图像缩放与偏移\r\n      scale: 1.0,\r\n      offsetX: 0.0,\r\n      offsetY: 0.0,\r\n\r\n      // 是否选中到某一个分区\r\n      selecting: false,\r\n      // 上一次选中的分区\r\n      selectingIndex: 0,\r\n      // 光标的位置（即触发刷新蒙版时的坐标）\r\n      cursorPosition: {x: 0, y: 0},\r\n      // 动画定时器\r\n      timer: null,\r\n\r\n      // 展示框\r\n      descriptionBox: null,\r\n    }\r\n  },\r\n  methods: {\r\n    // 重置图像到自适应大小\r\n    selfAdaptionImage() {\r\n      // 图形的宽高比\r\n      let aspectRatio = 1.0 * this.img.width / this.img.height;\r\n      // 如果宽高比大于500/400，说明宽要大，那么使得宽缩放到500px，高度自适应（样例是500*400）\r\n      if (aspectRatio > this.finalConfiguration.canvasWidth / this.finalConfiguration.canvasHeight) {\r\n        let newWidth = this.finalConfiguration.canvasWidth\r\n        let newHeight = newWidth / aspectRatio\r\n        this.scale = this.finalConfiguration.canvasWidth / this.img.width\r\n        // this.offsetX = 0\r\n        // this.offsetY = (this.finalConfiguration.canvasHeight - newHeight) / 2\r\n        this.offsetX = 0\r\n        this.offsetY = 0\r\n      } else {\r\n        let newHeight = this.finalConfiguration.canvasHeight\r\n        let newWidth = newHeight * aspectRatio\r\n        this.scale = this.finalConfiguration.canvasHeight / this.img.height\r\n        // this.offsetX = (this.finalConfiguration.canvasWidth - newWidth) / 2\r\n        // this.offsetY = 0\r\n        this.offsetX = 0\r\n        this.offsetY = 0\r\n      }\r\n    },\r\n\r\n    // 初始化画布\r\n    init() {\r\n      this.initParameter()\r\n      // 初始化canvas和context对象\r\n      this.canvasPic = this.$refs[\"canvas-pic\"]\r\n      this.canvasMasking = this.$refs[\"canvas-masking\"]\r\n      this.descriptionBox = this.$refs[\"description-box\"]\r\n      this.contextPic = this.canvasPic.getContext(\"2d\")\r\n      this.contextMasking = this.canvasMasking.getContext(\"2d\")\r\n      // 获取图像\r\n      this.img = new Image();\r\n      this.img.src = this.imgUrl;\r\n\r\n      let that = this\r\n      // 绑定canvas事件\r\n      // 当鼠标移动到画布上\r\n      this.canvasMasking.addEventListener(\"mousemove\", e => {\r\n        let x = e.offsetX\r\n        let y = e.offsetY\r\n        that.cursorPosition = {x, y}\r\n        let selecting_local = false\r\n        let selectingIndex_local = -1\r\n        for (let i = 0; i < that.allPoints.length; i++) {\r\n          // 如果当前坐标在所画的区域内的话\r\n          if (Utils.isPointInPolygon({x, y}, that.allPoints[i], that.scale, that.offsetX, that.offsetY)) {\r\n            selecting_local = true\r\n            selectingIndex_local = i\r\n            break;\r\n          }\r\n        }\r\n        // 判断是否需要刷新\r\n        if (!that.selecting && selecting_local) {\r\n          // 如果之前并非选中状态，且此时选中了，那么就聚焦，并且重新刷新canvas\r\n          that.selecting = true\r\n          that.selectingIndex = Math.max(0, selectingIndex_local)\r\n          that.cursorPosition = {x, y}\r\n          that.refreshCanvas()\r\n        } else if (that.selecting && selecting_local) {\r\n          // 如果之前是选中状态，此时也选中了，分情况讨论\r\n          if (that.selectingIndex === selectingIndex_local) {\r\n            // 如果是同一个，那么就无需重新渲染\r\n          } else {\r\n            // 不是同一个，需要设置此时选中的index，并且重新刷新canvas\r\n            that.selectingIndex = Math.max(0, selectingIndex_local)\r\n            that.cursorPosition = {x, y}\r\n            that.refreshCanvas()\r\n          }\r\n        } else if (that.selecting && !selecting_local) {\r\n          // 如果之前是选中状态，但是现在未选中，则清除选中状态，并且重新刷新canvas\r\n          that.selecting = false\r\n          that.cursorPosition = {x, y}\r\n          that.refreshCanvas()\r\n        } else if (!that.selecting && !selecting_local) {\r\n          // 如果之前未选中，现在还未选中，则无需操作\r\n        }\r\n      })\r\n      // 当图像加载好后，渲染到画布上\r\n      this.img.onload = () => {\r\n        that.selfAdaptionImage()\r\n        that.applyParameter()\r\n        // 计算图像的新宽度和高度\r\n        let newWidth = this.img.width * this.scale;\r\n        let newHeight = this.img.height * this.scale;\r\n        that.contextPic.drawImage(that.img,\r\n            that.offsetX, that.offsetY,\r\n            newWidth, newHeight)\r\n        nextTick(() => {\r\n          let descriptionBox = that.$refs[\"description-box\"]\r\n          // 若宽大于高，则将描述信息放到图片的下方\r\n          descriptionBox.style.top = (this.offsetY + this.img.height * this.scale) + \"px\"\r\n          descriptionBox.style.left = \"0px\"\r\n        })\r\n      }\r\n    },\r\n    // 参数初始化\r\n    initParameter() {\r\n      this.finalConfiguration = {\r\n        canvasWidth: this.canvasWidth,\r\n        canvasHeight: this.canvasHeight,\r\n        maskBackground: this.maskBackground,\r\n        animationTime: this.animationTime,\r\n        showDescriptionBox: this.showDescriptionBox,\r\n        descriptionBoxStyle: this.descriptionBoxStyle\r\n      }\r\n      // 最后用默认配置补全\r\n      Utils.mergeObjects(this.finalConfiguration, RendererConfiguration.DefaultConfiguration)\r\n    },\r\n    // 将参数作用于HTML\r\n    applyParameter() {\r\n      let width = this.img.width * this.scale\r\n      let height = this.img.height * this.scale\r\n      // 设置drawing-area的宽高\r\n      this.$refs[\"canvas-pic\"].width = width\r\n      this.$refs[\"canvas-pic\"].height = height\r\n      this.$refs[\"canvas-masking\"].width = width\r\n      this.$refs[\"canvas-masking\"].height = height\r\n      // 设置main box的大小\r\n      this.$refs[\"canvas-box\"].style.width = width + \"px\"\r\n      this.$refs[\"canvas-box\"].style.height = height + \"px\"\r\n      // 设置底部注释框的大小\r\n      this.$refs[\"description-box\"].style.minWidth = this.finalConfiguration.canvasWidth + \"px\"\r\n      this.$refs[\"description-box\"].style.minHeight = \"10px\"\r\n      this.$refs[\"description-box\"].style.background = this.finalConfiguration.descriptionBoxStyle.background\r\n      this.$refs[\"description-box\"].style.color = this.finalConfiguration.descriptionBoxStyle.color\r\n    },\r\n    /**\r\n     * 聚焦区域：鼠标移动到该区域后，将该区域外面的区域用半透明蒙版遮盖\r\n     * @param points 需要聚焦的区域\r\n     * @param sizeRatio 按光标当前位置，画 总宽*sizeRatio 的圆（蒙版圆）\r\n     */\r\n    focusArea(points, sizeRatio) {\r\n      const maskCanvas = document.createElement('canvas');\r\n      const maskCtx = maskCanvas.getContext('2d');\r\n      maskCanvas.width = this.canvasMasking.width;\r\n      maskCanvas.height = this.canvasMasking.height;\r\n\r\n      // 设置蒙版颜色和透明度\r\n      maskCtx.fillStyle = this.finalConfiguration.maskBackground;\r\n\r\n      // 在蒙版画布上填充整个画布\r\n      maskCtx.fillRect(0, 0, this.img.width * this.scale, this.img.height * this.scale);\r\n\r\n      maskCtx.fillStyle = 'rgba(0, 0, 0, 1)';\r\n      // 在蒙版画布上用globalCompositeOperation属性剪去多边形内部的部分\r\n      maskCtx.globalCompositeOperation = 'destination-out';\r\n      maskCtx.beginPath();\r\n      maskCtx.moveTo(points[0].x * this.scale, points[0].y * this.scale);\r\n      for (let i = 1; i < points.length; i++) {\r\n        maskCtx.lineTo(points[i].x * this.scale, points[i].y * this.scale);\r\n      }\r\n      maskCtx.closePath();\r\n      maskCtx.fill();\r\n\r\n      maskCtx.beginPath();\r\n      maskCtx.arc(this.cursorPosition.x - this.offsetX, this.cursorPosition.y - this.offsetY,\r\n          Math.max(this.img.width, this.img.height) * this.scale * sizeRatio, 0, Math.PI * 2);\r\n      maskCtx.fill()\r\n\r\n      // 将蒙版应用到主画布上\r\n      this.contextMasking.drawImage(maskCanvas, this.offsetX, this.offsetY);\r\n    },\r\n    /**\r\n     * 将图像自适应化地画如到canvas中\r\n     */\r\n    refreshCanvas() {\r\n      this.contextMasking.clearRect(0, 0, this.canvasMasking.width, this.canvasMasking.height);\r\n      if (this.timer) {\r\n        clearInterval(this.timer);\r\n      }\r\n      // 判断是否需要设置遮罩层\r\n      if (this.selecting) {\r\n        let that = this\r\n        // 定义变化步骤数和变化速度\r\n        let steps = Math.floor(this.finalConfiguration.animationTime);\r\n        let interval = 0;\r\n        let currentStep = 0;\r\n        that.showDescription()\r\n        this.timer = setInterval(function () {\r\n          // 计算当前的变化程度，该值可作为圆形半径大小\r\n          let sizeRatio = Math.max(0, 1.0 - currentStep / steps);\r\n\r\n          that.contextMasking.clearRect(0, 0, that.canvasMasking.width, that.canvasMasking.height);\r\n          that.focusArea(that.allPoints[that.selectingIndex], sizeRatio)\r\n\r\n          // 增加变化步骤数\r\n          currentStep++;\r\n          // 如果达到目标步骤数，清除定时器\r\n          if (currentStep > steps) {\r\n            clearInterval(that.timer);\r\n          }\r\n        }, interval);\r\n      } else {\r\n        let canvasHeight = this.offsetY + this.img.height * this.scale;\r\n        this.$refs[\"canvas-box\"].style.height = canvasHeight + \"px\"\r\n      }\r\n      // 向上传递选中或未选中事件\r\n      if (this.selecting) {\r\n        this.$emit(\"selecting\", {\r\n          selectingIndex: this.selectingIndex,\r\n          points: this.allPoints[this.selectingIndex],\r\n          areaInfo: this.allAreaInfos[this.selectingIndex]\r\n        })\r\n      } else {\r\n        this.$emit(\"unselecting\", {})\r\n      }\r\n    },\r\n    // 展示描述信息\r\n    showDescription() {\r\n      // console.log(this.finalConfiguration.showDescriptionBox)\r\n      if (this.finalConfiguration.showDescriptionBox) {\r\n        let that = this\r\n        nextTick(() => {\r\n          let descriptionBox = that.$refs[\"description-box\"]\r\n          // 若宽大于高，则将描述信息放到图片的下方\r\n          descriptionBox.style.top = (this.offsetY + this.img.height * this.scale) + \"px\"\r\n          descriptionBox.style.left = \"0px\"\r\n          // 4px的安全距离，注释框的上下都是4px\r\n          const SafeDistance = 4;\r\n          let canvasHeight = that.offsetY + that.img.height * that.scale + descriptionBox.offsetHeight + SafeDistance * 2;\r\n          that.$refs[\"canvas-box\"].style.height = canvasHeight + \"px\"\r\n        })\r\n      }\r\n    },\r\n  },\r\n  mounted() {\r\n    this.init()\r\n  },\r\n  computed: {}\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n* {\r\n  font-family: 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;\r\n}\r\n\r\n#main {\r\n  position: relative;\r\n  transition: all .5s ease-out;\r\n  overflow: hidden;\r\n}\r\n\r\n#canvas-pic, #canvas-masking {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n}\r\n\r\n#canvas-masking {\r\n  transition: all 5s;\r\n}\r\n\r\n.description-box-down {\r\n  margin-top: 4px;\r\n  background: #EBEBE3;\r\n  border-radius: 8px;\r\n  padding: 16px;\r\n  position: absolute;\r\n  margin-bottom: 4px;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","/* globals __VUE_SSR_CONTEXT__ */\n\n// IMPORTANT: Do NOT use ES2015 features in this file (except for modules).\n// This module is a runtime utility for cleaner component module output and will\n// be included in the final webpack user bundle.\n\nexport default function normalizeComponent(\n  scriptExports,\n  render,\n  staticRenderFns,\n  functionalTemplate,\n  injectStyles,\n  scopeId,\n  moduleIdentifier /* server only */,\n  shadowMode /* vue-cli only */\n) {\n  // Vue.extend constructor export interop\n  var options =\n    typeof scriptExports === 'function' ? scriptExports.options : scriptExports\n\n  // render functions\n  if (render) {\n    options.render = render\n    options.staticRenderFns = staticRenderFns\n    options._compiled = true\n  }\n\n  // functional template\n  if (functionalTemplate) {\n    options.functional = true\n  }\n\n  // scopedId\n  if (scopeId) {\n    options._scopeId = 'data-v-' + scopeId\n  }\n\n  var hook\n  if (moduleIdentifier) {\n    // server build\n    hook = function (context) {\n      // 2.3 injection\n      context =\n        context || // cached call\n        (this.$vnode && this.$vnode.ssrContext) || // stateful\n        (this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext) // functional\n      // 2.2 with runInNewContext: true\n      if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {\n        context = __VUE_SSR_CONTEXT__\n      }\n      // inject component styles\n      if (injectStyles) {\n        injectStyles.call(this, context)\n      }\n      // register component module identifier for async chunk inferrence\n      if (context && context._registeredComponents) {\n        context._registeredComponents.add(moduleIdentifier)\n      }\n    }\n    // used by ssr in case component is cached and beforeCreate\n    // never gets called\n    options._ssrRegister = hook\n  } else if (injectStyles) {\n    hook = shadowMode\n      ? function () {\n          injectStyles.call(\n            this,\n            (options.functional ? this.parent : this).$root.$options.shadowRoot\n          )\n        }\n      : injectStyles\n  }\n\n  if (hook) {\n    if (options.functional) {\n      // for template-only hot-reload because in that case the render fn doesn't\n      // go through the normalizer\n      options._injectStyles = hook\n      // register for functional component in vue file\n      var originalRender = options.render\n      options.render = function renderWithStyleInjection(h, context) {\n        hook.call(context)\n        return originalRender(h, context)\n      }\n    } else {\n      // inject component registration as beforeCreate hook\n      var existing = options.beforeCreate\n      options.beforeCreate = existing ? [].concat(existing, hook) : [hook]\n    }\n  }\n\n  return {\n    exports: scriptExports,\n    options: options\n  }\n}\n","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=2670ece9&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=2670ece9&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2670ece9\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"main\"},[_c('div',{ref:\"drawing-area\",staticClass:\"drawing-area\"},[_c('canvas',{ref:\"canvas\",attrs:{\"id\":\"canvas\",\"height\":\"400\",\"width\":\"500\"}})]),_c('div',{ref:\"editing-area\",staticStyle:{\"height\":\"400px\",\"width\":\"200px\",\"margin-left\":\"8px\",\"background\":\"#e8e8e8\"}},[_c('div',{staticStyle:{\"padding\":\"8px\"}},[(!_vm.drawing && !_vm.editing)?_c('div',[_c('image-spotlight-button',{attrs:{\"type\":\"success\"},nativeOn:{\"click\":function($event){return _vm.accomplish.apply(null, arguments)}}},[_vm._v(_vm._s(_vm.finalConfiguration.buttonNames.accomplish)+\" \")]),_c('image-spotlight-button',{nativeOn:{\"click\":function($event){return _vm.newArea.apply(null, arguments)}}},[_vm._v(_vm._s(_vm.finalConfiguration.buttonNames.newArea))]),_c('image-spotlight-button',{nativeOn:{\"click\":function($event){return _vm.recoverImagePosition.apply(null, arguments)}}},[_vm._v(_vm._s(_vm.finalConfiguration.buttonNames.resetPosition)+\" \")])],1):(_vm.drawing)?_c('div',[_c('image-spotlight-button',{attrs:{\"type\":\"success\"},nativeOn:{\"click\":function($event){return _vm.addArea.apply(null, arguments)}}},[_vm._v(_vm._s(_vm.finalConfiguration.buttonNames.addArea)+\" \")]),_c('image-spotlight-button',{attrs:{\"type\":\"warning\"},nativeOn:{\"click\":function($event){return _vm.rollBackAreaLatestPoint.apply(null, arguments)}}},[_vm._v(\" \"+_vm._s(_vm.finalConfiguration.buttonNames.rollBack)+\" \")]),_c('image-spotlight-button',{nativeOn:{\"click\":function($event){return _vm.cancelArea.apply(null, arguments)}}},[_vm._v(_vm._s(_vm.finalConfiguration.buttonNames.cancelArea)+\" \")])],1):(_vm.editing)?_c('div',[_c('image-spotlight-button',{attrs:{\"type\":\"success\"},nativeOn:{\"click\":function($event){return _vm.confirmChange.apply(null, arguments)}}},[_vm._v(_vm._s(_vm.finalConfiguration.buttonNames.confirmChange)+\" \")]),_c('image-spotlight-button',{attrs:{\"type\":\"warning\"},nativeOn:{\"click\":function($event){return _vm.deleteArea.apply(null, arguments)}}},[_vm._v(_vm._s(_vm.finalConfiguration.buttonNames.deleteArea)+\" \")]),_c('image-spotlight-button',{nativeOn:{\"click\":function($event){return _vm.cancelChange.apply(null, arguments)}}},[_vm._v(_vm._s(_vm.finalConfiguration.buttonNames.cancelChange)+\" \")])],1):_vm._e()]),_c('div',{staticStyle:{\"margin\":\"0 8px 8px 8px\",\"background\":\"white\",\"border-radius\":\"8px\"}},[(!_vm.drawing && !_vm.editing)?_c('div',[_c('div',{ref:\"outline-list\",staticClass:\"outlines-list\",style:({background: _vm.finalConfiguration.areaListBackground})},[_c('div',{ref:\"scroll\",staticClass:\"scroll\"},_vm._l((_vm.allAreaInfos),function(info,index){return _c('div',{ref:'areaListItem-' + index,refInFor:true,staticClass:\"outlines-item\",style:({background: _vm.finalConfiguration.areaListItemBackground}),on:{\"mouseover\":function($event){return _vm.highlightArea(index)},\"mouseleave\":function($event){return _vm.recoverArea(index)},\"click\":function($event){return _vm.editArea(index)}}},[_vm._v(\" \"+_vm._s(info.name)+\" \")])}),0)])]):(_vm.drawing || _vm.editing)?_c('div',{staticStyle:{\"padding\":\"8px\"}},[_c('div',{staticStyle:{\"text-align\":\"center\",\"font-weight\":\"bolder\",\"padding-bottom\":\"8px\"}},[_vm._v(\"选区信息\")]),_c('div',{staticStyle:{\"margin-bottom\":\"8px\"}},[(_vm.finalConfiguration.rule.name.required)?_c('span',{staticStyle:{\"color\":\"red\"}},[_vm._v(\"*\")]):_vm._e(),_vm._v(\" 选区名称 \"),(_vm.areaInfoError.name)?_c('span',{staticStyle:{\"color\":\"red\",\"font-size\":\"small\"}},[_vm._v(_vm._s(_vm.finalConfiguration.rule.name.info))]):_vm._e()]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.areaInfo.name),expression:\"areaInfo.name\"}],staticClass:\"base-input input\",staticStyle:{\"margin-bottom\":\"8px\"},attrs:{\"placeholder\":\"请输入选区名称\"},domProps:{\"value\":(_vm.areaInfo.name)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.areaInfo, \"name\", $event.target.value)}}}),_c('div',{staticStyle:{\"margin-bottom\":\"8px\"}},[(_vm.finalConfiguration.rule.description.required)?_c('span',{staticStyle:{\"color\":\"red\"}},[_vm._v(\"*\")]):_vm._e(),_vm._v(\" 选区描述 \"),(_vm.areaInfoError.description)?_c('span',{staticStyle:{\"color\":\"red\",\"font-size\":\"small\"}},[_vm._v(_vm._s(_vm.finalConfiguration.rule.description.info))]):_vm._e()]),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.areaInfo.description),expression:\"areaInfo.description\"}],staticClass:\"base-input textarea\",attrs:{\"rows\":\"9\",\"placeholder\":\"请输入选区描述\"},domProps:{\"value\":(_vm.areaInfo.description)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.areaInfo, \"description\", $event.target.value)}}})]):_vm._e()])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('button',{ref:\"button\",staticClass:\"image-spotlight-button\",attrs:{\"type\":\"button\"}},[_vm._t(\"default\",function(){return [_c('span',[_vm._v(\"按钮\")])]})],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <button class=\"image-spotlight-button\" type=\"button\" ref=\"button\">\r\n    <slot>\r\n      <span>按钮</span>\r\n    </slot>\r\n  </button>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"ImageSpotlightButton\",\r\n  props: {\r\n    type: {\r\n      type: String,\r\n      default: \"default\",\r\n    },\r\n  },\r\n  components: {},\r\n  data() {\r\n    return {\r\n      typeStyle: {\r\n        default: {\r\n          background: \"#FFFFFF\",\r\n          color: \"#000000\",\r\n          backgroundAfterHover: \"#ECF5FF\",\r\n          colorAfterHover: \"#409EFF\",\r\n        },\r\n        success: {\r\n          background: \"#67C23A\",\r\n          color: \"#FFFFFF\",\r\n          backgroundAfterHover: \"#95D475\",\r\n          colorAfterHover: \"#FFFFFF\",\r\n        },\r\n        warning: {\r\n          background: \"#E6A23C\",\r\n          color: \"#FFFFFF\",\r\n          backgroundAfterHover: \"#EEBE77\",\r\n          colorAfterHover: \"#FFFFFF\",\r\n        },\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n\r\n  },\r\n  mounted() {\r\n    let type = \"default\"\r\n    if (this.type in this.typeStyle) {\r\n      type = this.type\r\n    }\r\n    // console.log(this.type)\r\n    // console.log(this.typeStyle)\r\n    // console.log(this.type in this.typeStyle)\r\n    const button = this.$refs.button\r\n    button.style.background = this.typeStyle[type].background\r\n    button.style.color = this.typeStyle[type].color\r\n    let that = this\r\n    button.onmouseover = () => {\r\n      button.style.background = that.typeStyle[type].backgroundAfterHover\r\n      button.style.color = that.typeStyle[type].colorAfterHover\r\n    };\r\n    button.onmouseout = function () {\r\n      button.style.background = that.typeStyle[type].background\r\n      button.style.color = that.typeStyle[type].color\r\n    };\r\n  },\r\n  computed: {}\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.image-spotlight-button {\r\n  padding: 8px 15px;\r\n  margin-right: 1px;\r\n  display: inline-flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  height: 32px;\r\n  outline: 0;\r\n  cursor: pointer;\r\n  border: 1px solid #eeeeee;\r\n  border-radius: 4px;\r\n  transition: .1s;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./image-spotlight-button.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./image-spotlight-button.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./image-spotlight-button.vue?vue&type=template&id=09df7450&scoped=true&\"\nimport script from \"./image-spotlight-button.vue?vue&type=script&lang=js&\"\nexport * from \"./image-spotlight-button.vue?vue&type=script&lang=js&\"\nimport style0 from \"./image-spotlight-button.vue?vue&type=style&index=0&id=09df7450&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"09df7450\",\n  null\n  \n)\n\nexport default component.exports","import Utils from \"./utils\";\r\n\r\nconst DefaultConfiguration = {\r\n    canvasWidth: 500,       // 画布宽度\r\n    editingWidth: 200,      // 右侧编辑区宽度\r\n    height: 400,            // 总高度，两侧高度一致\r\n    // 被选中的区域样式\r\n    selectingAreaStyle: {\r\n        lineColor: \"#FF0000\",\r\n        lineWidth: 2,\r\n        pointColor: \"#FFFF00\",\r\n        pointRadius: 2,\r\n    },\r\n    // 正在画的区域样式\r\n    drawingAreaStyle: {\r\n        lineColor: \"#0000FF\",\r\n        lineWidth: 2,\r\n        pointColor: \"#0000FF\",\r\n        pointRadius: 2,\r\n    },\r\n    // 其他已经画的区域样式\r\n    otherAreaStyle: {\r\n        lineColor: \"#000000\",\r\n        lineWidth: 1,\r\n        pointColor: \"#000000\",\r\n        pointRadius: 2,\r\n    },\r\n    // 用户填写的表单数据校验\r\n    rule: {\r\n        name: {\r\n            required: true,\r\n            pattern: \"^\\\\S+$\",  // 不为空\r\n            info: \"名字不能为空\"\r\n        },\r\n        description: {\r\n            required: false,\r\n            pattern: \"^\\\\S*$\",     // 填啥都行\r\n            info: \"\"\r\n        },\r\n    },\r\n    // 背景填充图片，最好是平铺图\r\n    backgroundImage: Utils.getImage(\"transparent-background.png\"),\r\n    // 右侧编辑区背景色\r\n    editingAreaBackground: \"#E8E8E8\",\r\n    // 选区列表背景颜色\r\n    areaListBackground: \"#FFFFFF\",\r\n    // 选区列表中每个列元的背景颜色\r\n    areaListItemBackground: \"#E8E8E8\",\r\n    // 选区列表中每个列元，被hover后的背景颜色\r\n    areaListItemBackgroundAfterHover: \"#BDBDBD\",\r\n    // 按钮名称\r\n    buttonNames: {\r\n        // 默认态时的按钮\r\n        accomplish: \"完成\",\r\n        newArea: \"新的\",\r\n        resetPosition: \"置位\",\r\n        // 新建选区时的按钮\r\n        addArea: \"确认\",\r\n        cancelArea: \"取消\",\r\n        rollBack: \"撤回\",\r\n        // 编辑选区时的按钮\r\n        confirmChange: \"确认\",\r\n        cancelChange: \"取消\",\r\n        deleteArea: \"删除\",\r\n    }\r\n}\r\n\r\nconst TestConfiguration = {\r\n    canvasWidth: 500,       // 画布宽度\r\n    editingWidth: 200,      // 右侧编辑区宽度\r\n    height: 400,            // 总高度，两侧高度一致\r\n    // 被选中的区域样式\r\n    selectingAreaStyle: {\r\n        lineColor: \"#FF0000\",\r\n        lineWidth: 2,\r\n        pointColor: \"#FFFF00\",\r\n        pointRadius: 2,\r\n    },\r\n    // 正在画的区域样式\r\n    drawingAreaStyle: {\r\n        lineColor: \"#0000FF\",\r\n        lineWidth: 2,\r\n        pointColor: \"#0000FF\",\r\n        pointRadius: 2,\r\n    },\r\n    // 其他已经画的区域样式\r\n    otherAreaStyle: {\r\n        lineColor: \"#000000\",\r\n        lineWidth: 1,\r\n        pointColor: \"#000000\",\r\n        pointRadius: 2,\r\n    },\r\n    // 用户填写的表单数据校验\r\n    rule: {\r\n        name: {\r\n            required: true,\r\n            pattern: \"^\\\\S+$\",  // 不为空\r\n            info: \"名字不能为空\"\r\n        },\r\n        description: {\r\n            required: false,\r\n            pattern: \"^\\\\S*$\",     // 填啥都行\r\n            info: \"\"\r\n        },\r\n    },\r\n    // 背景填充图片，最好是平铺图\r\n    backgroundImage: Utils.getImage(\"transparent-background.png\"),\r\n    // 右侧编辑区背景色\r\n    editingAreaBackground: \"#E8E8E8\",\r\n    // 选区列表背景颜色\r\n    areaListBackground: \"#FFFFFF\",\r\n    // 选区列表中每个列元的背景颜色\r\n    areaListItemBackground: \"#E8E8E8\",\r\n    // 选区列表中每个列元，被hover后的背景颜色\r\n    areaListItemBackgroundAfterHover: \"#BDBDBD\",\r\n    // 按钮名称\r\n    buttonNames: {\r\n        // 默认态时的按钮\r\n        accomplish: \"完成\",\r\n        newArea: \"新的\",\r\n        resetPosition: \"置位\",\r\n        // 新建选区时的按钮\r\n        addArea: \"确认\",\r\n        cancelArea: \"取消\",\r\n        rollBack: \"撤回\",\r\n        // 编辑选区时的按钮\r\n        confirmChange: \"确认\",\r\n        cancelChange: \"取消\",\r\n        deleteArea: \"删除\",\r\n    }\r\n}\r\n\r\nexport default {\r\n    DefaultConfiguration,\r\n    TestConfiguration\r\n}","<script>\r\nimport {nextTick} from \"vue\";\r\nimport Utils from \"../../assets/js/utils.js\";\r\nimport ImageSpotlightButton from \"../subcomponent/image-spotlight-button.vue\";\r\n// import Data from \"../../assets/js/data\";\r\nimport Configuration from \"../../assets/js/editorConfiguration\";\r\n\r\nexport default {\r\n  name: \"ImageSpotlightEditor\",\r\n  components: {\r\n    ImageSpotlightButton\r\n  },\r\n  props: {\r\n    imgUrl: {\r\n      type: String,\r\n      required: true,\r\n    },\r\n    // 允许传入预设参数\r\n    allPoints: {\r\n      type: Array,\r\n      default: () => []\r\n    },\r\n    allAreaInfos: {\r\n      type: Array,\r\n      default: () => []\r\n    },\r\n    // 配置参数：将所有参数集成在一个对象中，但先使用单个参数，后使用默认参数\r\n    configuration: {\r\n      type: Object,\r\n      default: () => Configuration.DefaultConfiguration,\r\n    },\r\n    canvasWidth: Number,       // 画布宽度\r\n    editingWidth: Number,      // 右侧编辑区宽度\r\n    height: Number,            // 总高度，两侧高度一致\r\n    // 被选中的区域样式\r\n    selectingAreaStyle: Object,\r\n    // 正在画的区域样式\r\n    drawingAreaStyle: Object,\r\n    // 其他已经画的区域样式\r\n    otherAreaStyle: Object,\r\n    // 用户填写的表单数据校验\r\n    rule: Object,\r\n    // 背景填充图片，最好是平铺图\r\n    backgroundImage: String,\r\n    // 右侧编辑区背景色\r\n    editingAreaBackground: String,\r\n    // 选区列表背景颜色\r\n    areaListBackground: String,\r\n    // 选区列表中每个列元的背景颜色\r\n    areaListItemBackground: String,\r\n    // 选区列表中每个列元，被hover后的背景颜色\r\n    areaListItemBackgroundAfterHover: String,\r\n    // 按钮名称\r\n    buttonNames: Object,\r\n  },\r\n  data() {\r\n    return {\r\n      // 配置\r\n      finalConfiguration: Configuration.DefaultConfiguration,\r\n      // 当前画布\r\n      canvas: null,\r\n      // 当前图形，如果画完就会加入到contexts\r\n      context: null,\r\n      // 当前图形的点\r\n      points: [],\r\n      // 当前选区信息\r\n      areaInfo: {\r\n        name: '',           // 选区名称\r\n        description: '',    // 选区描述\r\n      },\r\n      // 当前选区信息是否错误\r\n      areaInfoError: {\r\n        name: false,\r\n        description: false,\r\n      },\r\n      // 当前待编辑的选区\r\n      areaIndex: 0,\r\n\r\n      // 是否正在画图形\r\n      drawing: 0,\r\n      // 是否正在编辑选区\r\n      editing: 0,\r\n      // 是否选中某个选区？\r\n      selecting: false,\r\n      // 是否按下鼠标左键（此时将图片跟随鼠标移动）\r\n      mouseDown: false,\r\n\r\n      // 所有图形和信息\r\n      img: null,    // 图像\r\n      allPoints: null,\r\n      allAreaInfos: null,\r\n\r\n      // 图像的缩放比例和坐标偏移量\r\n      scale: 1.0,\r\n      offsetX: 0.0,\r\n      offsetY: 0.0,\r\n      // 上次按下鼠标时的坐标\r\n      preDownX: 0.0,\r\n      preDownY: 0.0,\r\n    }\r\n  },\r\n  methods: {\r\n    // 初始化\r\n    init() {\r\n      this.initParameter()\r\n      this.applyParameter()\r\n      this.canvas = this.$refs.canvas;\r\n      // 设置canvas大小\r\n      this.canvas.width = this.finalConfiguration.canvasWidth\r\n      this.canvas.height = this.finalConfiguration.height\r\n\r\n      this.context = this.canvas.getContext(\"2d\");\r\n      let that = this\r\n      // 加载图像\r\n      this.img = new Image();\r\n      this.img.src = this.imgUrl;\r\n\r\n      // 鼠标点击事件处理程序\r\n      this.canvas.addEventListener(\"mousedown\", function (e) {\r\n        if (!that.drawing) return;\r\n        // 获取鼠标点击的位置\r\n        let x = (e.offsetX - that.offsetX) / that.scale;\r\n        let y = (e.offsetY - that.offsetY) / that.scale;\r\n        // 超出区域无法绘制\r\n        if (x < 0 || y < 0 || x > that.img.width || y > that.img.height) return;\r\n        // 添加点到数组中\r\n        that.points.push({x: x, y: y});\r\n        // 清空画布并重新绘制所有点和线段\r\n        that.refreshCanvas();\r\n      });\r\n      // 鼠标滚轮事件处理程序\r\n      this.canvas.addEventListener(\"wheel\", function (e) {\r\n        // 阻止默认滚动行为\r\n        e.preventDefault();\r\n\r\n        // 获取鼠标滚动的距离和方向\r\n        let delta = e.deltaY > 0 ? -0.1 : 0.1;\r\n\r\n        // 获取鼠标当前位置\r\n        let x = e.offsetX;\r\n        let y = e.offsetY;\r\n\r\n        // 计算新的缩放比例和坐标偏移量\r\n        let newScale = e.deltaY > 0 ? (that.scale * 0.9) : (that.scale * 1.1);\r\n        let deltaX = (x - that.offsetX) * delta;\r\n        let deltaY = (y - that.offsetY) * delta;\r\n\r\n        let newX = that.offsetX - deltaX;\r\n        let newY = that.offsetY - deltaY;\r\n\r\n        // 更新缩放比例和坐标偏移量\r\n        that.scale = newScale;\r\n        that.offsetX = newX;\r\n        that.offsetY = newY;\r\n\r\n        // 绘制图像\r\n        nextTick(() => {\r\n          that.refreshCanvas()\r\n        })\r\n      });\r\n      // 鼠标按下事件处理程序\r\n      this.canvas.addEventListener(\"mousedown\", function (e) {\r\n        if (e.button !== 0) {\r\n          return;\r\n        }\r\n        that.mouseDown = true;\r\n        that.preDownX = e.offsetX;\r\n        that.preDownY = e.offsetY;\r\n        // that.canvas.style.cursor = \"grabbing\";\r\n      });\r\n      // 鼠标松开事件处理程序\r\n      this.canvas.addEventListener(\"mouseup\", function (e) {\r\n        if (e.button !== 0) {\r\n          return;\r\n        }\r\n        that.mouseDown = false;\r\n        // that.canvas.style.cursor = \"grab\";\r\n      });\r\n      // 鼠标移动事件处理程序\r\n      this.canvas.addEventListener(\"mousemove\", function (e) {\r\n        if (that.mouseDown) {\r\n          // 计算偏移值\r\n          if (!that.drawing ||\r\n              Math.abs(that.preDownX - e.offsetX) >= 8 ||\r\n              Math.abs(that.preDownY - e.offsetY) >= 8\r\n          ) {\r\n            that.offsetX += e.movementX;\r\n            that.offsetY += e.movementY;\r\n          }\r\n          // 将图像绘制到画布上\r\n          that.refreshCanvas()\r\n        }\r\n      });\r\n      // 体验优化：鼠标移开画布时取消移动状态\r\n      this.canvas.addEventListener(\"mouseleave\", function (e) {\r\n        if (e.button !== 0) {\r\n          return;\r\n        }\r\n        that.mouseDown = false;\r\n      })\r\n\r\n      // 绘制原始图像\r\n      this.img.onload = function () {\r\n        that.initImage()\r\n        nextTick(() => {\r\n          that.refreshCanvas()\r\n        })\r\n      };\r\n\r\n    },\r\n    // 参数初始化\r\n    initParameter() {\r\n      this.finalConfiguration = {\r\n        canvasWidth: this.canvasWidth ? this.canvasWidth : this.configuration.canvasWidth,\r\n        editingWidth: this.editingWidth ? this.editingWidth : this.configuration.editingWidth,      // 右侧编辑区宽度\r\n        height: this.height ? this.height : this.configuration.height,            // 总高度，两侧高度一致\r\n        // 被选中的区域样式\r\n        selectingAreaStyle: {\r\n          lineColor: Utils.accessObjectSafely(this.selectingAreaStyle, [\"lineColor\"]) ?\r\n              Utils.accessObjectSafely(this.selectingAreaStyle, [\"lineColor\"]) :\r\n              Utils.accessObjectSafely(this.configuration, [\"selectingAreaStyle\", \"lineColor\"]),\r\n          lineWidth: Utils.accessObjectSafely(this.selectingAreaStyle, [\"lineWidth\"]) ?\r\n              Utils.accessObjectSafely(this.selectingAreaStyle, [\"lineWidth\"]) :\r\n              Utils.accessObjectSafely(this.configuration, [\"selectingAreaStyle\", \"lineWidth\"]),\r\n          pointColor: Utils.accessObjectSafely(this.selectingAreaStyle, [\"pointColor\"]) ?\r\n              Utils.accessObjectSafely(this.selectingAreaStyle, [\"pointColor\"]) :\r\n              Utils.accessObjectSafely(this.configuration, [\"selectingAreaStyle\", \"pointColor\"]),\r\n          pointRadius: Utils.accessObjectSafely(this.selectingAreaStyle, [\"pointRadius\"]) ?\r\n              Utils.accessObjectSafely(this.selectingAreaStyle, [\"pointRadius\"]) :\r\n              Utils.accessObjectSafely(this.configuration, [\"selectingAreaStyle\", \"pointRadius\"]),\r\n        },\r\n        // 正在画的区域样式\r\n        drawingAreaStyle: {\r\n          lineColor: Utils.accessObjectSafely(this.drawingAreaStyle, [\"lineColor\"]) ?\r\n              Utils.accessObjectSafely(this.drawingAreaStyle, [\"lineColor\"]) :\r\n              Utils.accessObjectSafely(this.configuration, [\"drawingAreaStyle\", \"lineColor\"]),\r\n          lineWidth: Utils.accessObjectSafely(this.drawingAreaStyle, [\"lineWidth\"]) ?\r\n              Utils.accessObjectSafely(this.drawingAreaStyle, [\"lineWidth\"]) :\r\n              Utils.accessObjectSafely(this.configuration, [\"drawingAreaStyle\", \"lineWidth\"]),\r\n          pointColor: Utils.accessObjectSafely(this.drawingAreaStyle, [\"pointColor\"]) ?\r\n              Utils.accessObjectSafely(this.drawingAreaStyle, [\"pointColor\"]) :\r\n              Utils.accessObjectSafely(this.configuration, [\"drawingAreaStyle\", \"pointColor\"]),\r\n          pointRadius: Utils.accessObjectSafely(this.drawingAreaStyle, [\"pointRadius\"]) ?\r\n              Utils.accessObjectSafely(this.drawingAreaStyle, [\"pointRadius\"]) :\r\n              Utils.accessObjectSafely(this.configuration, [\"drawingAreaStyle\", \"pointRadius\"]),\r\n        },\r\n        // 其他已经画的区域样式\r\n        otherAreaStyle: {\r\n          lineColor: Utils.accessObjectSafely(this.otherAreaStyle, [\"lineColor\"]) ?\r\n              Utils.accessObjectSafely(this.otherAreaStyle, [\"lineColor\"]) :\r\n              Utils.accessObjectSafely(this.configuration, [\"otherAreaStyle\", \"lineColor\"]),\r\n          lineWidth: Utils.accessObjectSafely(this.otherAreaStyle, [\"lineWidth\"]) ?\r\n              Utils.accessObjectSafely(this.otherAreaStyle, [\"lineWidth\"]) :\r\n              Utils.accessObjectSafely(this.configuration, [\"otherAreaStyle\", \"lineWidth\"]),\r\n          pointColor: Utils.accessObjectSafely(this.otherAreaStyle, [\"pointColor\"]) ?\r\n              Utils.accessObjectSafely(this.otherAreaStyle, [\"pointColor\"]) :\r\n              Utils.accessObjectSafely(this.configuration, [\"otherAreaStyle\", \"pointColor\"]),\r\n          pointRadius: Utils.accessObjectSafely(this.otherAreaStyle, [\"pointRadius\"]) ?\r\n              Utils.accessObjectSafely(this.otherAreaStyle, [\"pointRadius\"]) :\r\n              Utils.accessObjectSafely(this.configuration, [\"otherAreaStyle\", \"pointRadius\"]),\r\n        },\r\n        // 用户填写的表单数据校验\r\n        rule: {\r\n          name: {\r\n            required: Utils.accessObjectSafely(this.rule, [\"name\", \"required\"]) ?\r\n                Utils.accessObjectSafely(this.rule, [\"name\", \"required\"]) :\r\n                Utils.accessObjectSafely(this.configuration, [\"rule\", \"name\", \"required\"]),\r\n            pattern: Utils.accessObjectSafely(this.rule, [\"name\", \"pattern\"]) ?\r\n                Utils.accessObjectSafely(this.rule, [\"name\", \"pattern\"]) :\r\n                Utils.accessObjectSafely(this.configuration, [\"rule\", \"name\", \"pattern\"]),\r\n            info: Utils.accessObjectSafely(this.rule, [\"name\", \"info\"]) ?\r\n                Utils.accessObjectSafely(this.rule, [\"name\", \"info\"]) :\r\n                Utils.accessObjectSafely(this.configuration, [\"rule\", \"name\", \"info\"]),\r\n          },\r\n          description: {\r\n            required: Utils.accessObjectSafely(this.rule, [\"description\", \"required\"]) ?\r\n                Utils.accessObjectSafely(this.rule, [\"description\", \"required\"]) :\r\n                Utils.accessObjectSafely(this.configuration, [\"rule\", \"description\", \"required\"]),\r\n            pattern: Utils.accessObjectSafely(this.rule, [\"description\", \"pattern\"]) ?\r\n                Utils.accessObjectSafely(this.rule, [\"description\", \"pattern\"]) :\r\n                Utils.accessObjectSafely(this.configuration, [\"rule\", \"description\", \"pattern\"]),\r\n            info: Utils.accessObjectSafely(this.rule, [\"description\", \"info\"]) ?\r\n                Utils.accessObjectSafely(this.rule, [\"description\", \"info\"]) :\r\n                Utils.accessObjectSafely(this.configuration, [\"rule\", \"description\", \"info\"]),\r\n          },\r\n        },\r\n        // 背景填充图片，最好是平铺图\r\n        backgroundImage: this.backgroundImage ? this.backgroundImage : this.configuration.backgroundImage,\r\n        // 右侧编辑区背景色\r\n        editingAreaBackground: this.editingAreaBackground ? this.editingAreaBackground : this.configuration.editingAreaBackground,\r\n        // 选区列表背景颜色\r\n        areaListBackground: this.areaListBackground ? this.areaListBackground : this.configuration.areaListBackground,\r\n        // 选区列表中每个列元的背景颜色\r\n        areaListItemBackground: this.areaListItemBackground ? this.areaListItemBackground : this.configuration.areaListItemBackground,\r\n        // 选区列表中每个列元，被hover后的背景颜色\r\n        areaListItemBackgroundAfterHover: this.areaListItemBackgroundAfterHover ? this.areaListItemBackgroundAfterHover : this.configuration.areaListItemBackgroundAfterHover,\r\n        // 按钮名称\r\n        buttonNames: {\r\n          // 默认态时的按钮\r\n          accomplish: this.buttonNames && this.buttonNames.accomplish ? this.buttonNames.accomplish : this.configuration.buttonNames.accomplish,\r\n          newArea: this.buttonNames && this.buttonNames.newArea ? this.buttonNames.newArea : this.configuration.buttonNames.newArea,\r\n          resetPosition: this.buttonNames && this.buttonNames.resetPosition ? this.buttonNames.resetPosition : this.configuration.buttonNames.resetPosition,\r\n          // 新建选区时的按钮\r\n          addArea: this.buttonNames && this.buttonNames.addArea ? this.buttonNames.addArea : this.configuration.buttonNames.addArea,\r\n          cancelArea: this.buttonNames && this.buttonNames.cancelArea ? this.buttonNames.cancelArea : this.configuration.buttonNames.cancelArea,\r\n          rollBack: this.buttonNames && this.buttonNames.rollBack ? this.buttonNames.rollBack : this.configuration.buttonNames.rollBack,\r\n          // 编辑选区时的按钮\r\n          confirmChange: this.buttonNames && this.buttonNames.confirmChange ? this.buttonNames.confirmChange : this.configuration.buttonNames.confirmChange,\r\n          cancelChange: this.buttonNames && this.buttonNames.cancelChange ? this.buttonNames.cancelChange : this.configuration.buttonNames.cancelChange,\r\n          deleteArea: this.buttonNames && this.buttonNames.deleteArea ? this.buttonNames.deleteArea : this.configuration.buttonNames.deleteArea,\r\n        }\r\n      }\r\n      // 最后用默认配置补全\r\n      Utils.mergeObjects(this.finalConfiguration, Configuration.DefaultConfiguration)\r\n    },\r\n    // 将参数作用于HTML,\r\n    applyParameter() {\r\n      // 设置drawing-area的宽高\r\n      this.$refs[\"drawing-area\"].style.height = this.finalConfiguration.height + \"px\"\r\n      this.$refs[\"drawing-area\"].style.width = this.finalConfiguration.canvasWidth + \"px\"\r\n      // 设置画画区背景图\r\n      this.$refs[\"drawing-area\"].style.backgroundImage = `url('${this.finalConfiguration.backgroundImage}')`\r\n      // 设置编辑区宽高\r\n      this.$refs[\"editing-area\"].style.height = this.finalConfiguration.height + \"px\"\r\n      this.$refs[\"editing-area\"].style.width = this.finalConfiguration.editingWidth + \"px\"\r\n      // 由于调整了宽高，内部元素宽高需要自适应\r\n      // 列表宽是总宽的0.92倍\r\n      this.$refs[\"outline-list\"].style.width = (this.finalConfiguration.editingWidth - 16 - 8 - 4) + \"px\"\r\n      this.$refs[\"outline-list\"].style.height = (this.finalConfiguration.height - 56 - 8) + \"px\"\r\n      this.$refs[\"scroll\"].style.width = (this.finalConfiguration.editingWidth - 16 - 8 - 4) + \"px\"\r\n      this.$refs[\"scroll\"].style.height = (this.finalConfiguration.height - 56 - 8 - 4) + \"px\"\r\n\r\n\r\n      // 设置编辑区样式\r\n      this.$refs[\"editing-area\"].style.background = this.finalConfiguration.editingAreaBackground\r\n    },\r\n\r\n    // 初始化图片：自适应大小、缩放\r\n    initImage() {\r\n      this.selfAdaptionImage()\r\n    },\r\n    // 重置图像到自适应大小\r\n    selfAdaptionImage() {\r\n      // 图形的宽高比\r\n      let aspectRatio = 1.0 * this.img.width / this.img.height;\r\n      // 如果宽高比大于500/400，说明宽要大，那么使得宽缩放到500px，高度自适应\r\n      if (aspectRatio > this.finalConfiguration.canvasWidth / this.finalConfiguration.height) {\r\n        let newWidth = this.finalConfiguration.canvasWidth\r\n        let newHeight = newWidth / aspectRatio\r\n        this.scale = this.finalConfiguration.canvasWidth / this.img.width\r\n        this.offsetX = 0\r\n        this.offsetY = (this.finalConfiguration.height - newHeight) / 2\r\n      } else {\r\n        let newHeight = this.finalConfiguration.height\r\n        let newWidth = newHeight * aspectRatio\r\n        this.scale = this.finalConfiguration.height / this.img.height\r\n        this.offsetX = (this.finalConfiguration.canvasWidth - newWidth) / 2\r\n        this.offsetY = 0\r\n      }\r\n    },\r\n    // 刷新画布\r\n    refreshCanvas() {\r\n      this.context.clearRect(0, 0, this.canvas.width, this.canvas.height);\r\n      this.drawImage()\r\n      this.drawAllOutlines()\r\n      this.drawAllPoints()\r\n    },\r\n    // 绘制图像\r\n    drawImage() {\r\n      // 计算图像的新宽度和高度\r\n      let newWidth = this.img.width * this.scale;\r\n      let newHeight = this.img.height * this.scale;\r\n\r\n      // 绘制图像\r\n      this.context.drawImage(this.img, this.offsetX, this.offsetY, newWidth, newHeight);\r\n    },\r\n    // 绘制所有点的函数\r\n    drawAllPoints() {\r\n      // 画出已存在的点集\r\n      for (let i = 0; i < this.allPoints.length; i++) {\r\n        this.drawPoints(this.allPoints[i], this.selecting && this.areaIndex === i, false)\r\n      }\r\n      // 画当前正在编辑的形状\r\n      this.drawPoints(this.points, false, true)\r\n    },\r\n    drawPoints(points, selected, drawing) {\r\n      let radius = 2;\r\n      if (selected) {\r\n        this.context.fillStyle = this.finalConfiguration.selectingAreaStyle.pointColor\r\n        radius = this.finalConfiguration.selectingAreaStyle.pointRadius\r\n      } else if (drawing) {\r\n        this.context.fillStyle = this.finalConfiguration.drawingAreaStyle.pointColor\r\n        radius = this.finalConfiguration.drawingAreaStyle.pointRadius\r\n      } else {\r\n        this.context.fillStyle = this.finalConfiguration.otherAreaStyle.pointColor\r\n        radius = this.finalConfiguration.drawingAreaStyle.pointRadius\r\n      }\r\n\r\n      for (const point of points) {\r\n        this.context.beginPath();\r\n        this.context.arc(point.x * this.scale + this.offsetX,\r\n            point.y * this.scale + this.offsetY, radius, 0, Math.PI * 2);\r\n        this.context.fill();\r\n      }\r\n    },\r\n    // 画出所有的轮廓\r\n    drawAllOutlines() {\r\n      // 先画已保存的轮廓\r\n      for (let i = 0; i < this.allPoints.length; i++) {\r\n        this.drawOutline(this.allPoints[i], this.selecting && this.areaIndex === i, false)\r\n      }\r\n      this.drawOutline(this.points, false, true)\r\n    },\r\n    // 画出某个points数组组成的轮廓\r\n    drawOutline(points, selected, drawing) {\r\n      if (selected) {\r\n        this.context.strokeStyle = this.finalConfiguration.selectingAreaStyle.lineColor\r\n        this.context.lineWidth = this.finalConfiguration.selectingAreaStyle.lineWidth\r\n      } else if (drawing) {\r\n        this.context.strokeStyle = this.finalConfiguration.drawingAreaStyle.lineColor\r\n        this.context.lineWidth = this.finalConfiguration.drawingAreaStyle.lineWidth\r\n      } else {\r\n        this.context.strokeStyle = this.finalConfiguration.otherAreaStyle.lineColor\r\n        this.context.lineWidth = this.finalConfiguration.otherAreaStyle.lineWidth\r\n      }\r\n      if (points.length > 1) {\r\n        this.context.beginPath();\r\n        this.context.moveTo(points[0].x * this.scale + this.offsetX, points[0].y * this.scale + this.offsetY);\r\n        for (let i = 1; i < points.length; i++) {\r\n          this.context.lineTo(points[i].x * this.scale + this.offsetX, points[i].y * this.scale + this.offsetY);\r\n        }\r\n        this.context.closePath();\r\n        this.context.stroke();\r\n      }\r\n    },\r\n\r\n\r\n    // 按钮事件\r\n    // 完成编辑\r\n    accomplish() {\r\n      this.$emit(\"accomplish\", {\r\n        imgUrl: this.imgUrl,\r\n        allAreaInfos: this.allAreaInfos,\r\n        allPoints: this.allPoints,\r\n      })\r\n    },\r\n    // 新建一个选区\r\n    newArea() {\r\n      // 设置正在画画\r\n      this.drawing = true\r\n      this.areaInfo = {\r\n        name: '',\r\n        description: '',\r\n      }\r\n      this.points = []\r\n    },\r\n    // 添加该选区\r\n    addArea() {\r\n      if (this.points.length <= 2) {\r\n        alert(\"请确保选区至少3个点\")\r\n        return;\r\n      } else if (!this.verifyForm()) {\r\n        return;\r\n      }\r\n      // this.canvas.style.cursor = \"grab\"\r\n      this.drawing = false\r\n      this.allPoints.push(this.points)\r\n      // 将当前区域信息插入所有的区域信息数组\r\n      this.allAreaInfos.push(this.areaInfo)\r\n      this.areaInfo = {\r\n        name: '',           // 选区名称\r\n        description: '',    // 选区描述\r\n      }\r\n      this.points = []\r\n      let that = this\r\n      nextTick(() => {\r\n        that.refreshCanvas()\r\n      })\r\n    },\r\n    // 撤回刚刚标记的点\r\n    rollBackAreaLatestPoint() {\r\n      if (this.points && this.points.length >= 1) {\r\n        this.points.splice(this.points.length - 1, 1)\r\n      }\r\n      this.recoverArea()\r\n    },\r\n    // 取消该选区\r\n    cancelArea() {\r\n      this.drawing = false\r\n      this.areaInfo = {\r\n        name: '',           // 选区名称\r\n        description: '',    // 选区描述\r\n      }\r\n      this.points = []\r\n      let that = this\r\n      nextTick(() => {\r\n        that.refreshCanvas()\r\n      })\r\n    },\r\n\r\n    // 确认修改选区\r\n    confirmChange() {\r\n      // 只能修改选区的名称和描述\r\n      if (!this.verifyForm()) {\r\n        return;\r\n      }\r\n      // this.canvas.style.cursor = \"grab\"\r\n      this.allAreaInfos[this.areaIndex] = this.areaInfo\r\n      this.editing = false\r\n      this.selecting = false\r\n      let that = this\r\n      nextTick(() => {\r\n        that.refreshCanvas()\r\n      })\r\n    },\r\n    // 取消修改选区\r\n    cancelChange() {\r\n      // this.canvas.style.cursor = \"grab\"\r\n      this.editing = false\r\n      this.selecting = false\r\n      let that = this\r\n      nextTick(() => {\r\n        that.refreshCanvas()\r\n      })\r\n    },\r\n    // 删除选区\r\n    deleteArea() {\r\n      // this.canvas.style.cursor = \"grab\"\r\n      this.allAreaInfos.splice(this.areaIndex, 1)\r\n      this.allPoints.splice(this.areaIndex, 1)\r\n      this.editing = false\r\n      this.selecting = false\r\n      let that = this\r\n      nextTick(() => {\r\n        that.refreshCanvas()\r\n      })\r\n    },\r\n\r\n    // 恢复图片位置\r\n    recoverImagePosition() {\r\n      this.selfAdaptionImage()\r\n      this.refreshCanvas()\r\n    },\r\n\r\n    // 编辑选区\r\n    // 悬浮到某一个选区列表中item上时，就高亮该选区\r\n    highlightArea(index) {\r\n      this.$refs[\"areaListItem-\" + index][0].style.background = this.finalConfiguration.areaListItemBackgroundAfterHover\r\n      this.selecting = true\r\n      this.areaIndex = index\r\n      this.refreshCanvas()\r\n    },\r\n    // 当离开时，就不高亮\r\n    recoverArea(index) {\r\n      this.$refs[\"areaListItem-\" + index][0].style.background = this.finalConfiguration.areaListItemBackground\r\n      this.selecting = false\r\n      this.refreshCanvas()\r\n    },\r\n    // 在选区列表中选中某一个分区时，打开修改窗口，并显示该选区的信息\r\n    editArea(index) {\r\n      // this.canvas.style.cursor = \"grab\"\r\n      // 编辑第index个（从0开始）的选区\r\n      this.areaInfo = {...this.allAreaInfos[index]}\r\n      this.editing = true\r\n      this.selecting = true\r\n      this.areaIndex = index\r\n      let that = this\r\n      nextTick(() => {\r\n        that.refreshCanvas()\r\n      })\r\n    },\r\n\r\n    // 检验表单\r\n    verifyForm() {\r\n      if (this.finalConfiguration.rule.name.required && this.areaInfo.name.length === 0) {\r\n        this.areaInfoError.name = true\r\n        return false\r\n      }\r\n      if (!new RegExp(this.finalConfiguration.rule.name.pattern).test(this.areaInfo.name)) {\r\n        this.areaInfoError.name = true\r\n        return false\r\n      }\r\n\r\n      if (this.finalConfiguration.rule.description.required && this.areaInfo.description.length === 0) {\r\n        this.areaInfoError.description = true\r\n        return false\r\n      }\r\n      // console.log(this.finalConfiguration.rule.description.pattern)\r\n      if (!new RegExp(this.finalConfiguration.rule.description.pattern).test(this.areaInfo.description)) {\r\n        this.areaInfoError.description = true\r\n        return false\r\n      }\r\n      this.areaInfoError.name = false\r\n      this.areaInfoError.description = false\r\n      return true\r\n    }\r\n  },\r\n  mounted() {\r\n    this.init()\r\n  }\r\n}\r\n</script>\r\n\r\n<template>\r\n  <div class=\"main\">\r\n    <div ref=\"drawing-area\" class=\"drawing-area\">\r\n      <canvas ref=\"canvas\" id=\"canvas\" height=\"400\" width=\"500\"/>\r\n    </div>\r\n    <div ref=\"editing-area\" style=\"height: 400px; width: 200px; margin-left: 8px; background: #e8e8e8;\">\r\n      <!-- 按钮组 -->\r\n      <div style=\"padding: 8px\">\r\n        <div v-if=\"!drawing && !editing\">\r\n          <image-spotlight-button type=\"success\" @click.native=\"accomplish\">{{\r\n              finalConfiguration.buttonNames.accomplish\r\n            }}\r\n          </image-spotlight-button>\r\n          <image-spotlight-button @click.native=\"newArea\">{{ finalConfiguration.buttonNames.newArea }}</image-spotlight-button>\r\n          <image-spotlight-button @click.native=\"recoverImagePosition\">{{\r\n              finalConfiguration.buttonNames.resetPosition\r\n            }}\r\n          </image-spotlight-button>\r\n        </div>\r\n        <div v-else-if=\"drawing\">\r\n          <image-spotlight-button type=\"success\" @click.native=\"addArea\">{{\r\n              finalConfiguration.buttonNames.addArea\r\n            }}\r\n          </image-spotlight-button>\r\n          <image-spotlight-button type=\"warning\" @click.native=\"rollBackAreaLatestPoint\">\r\n            {{ finalConfiguration.buttonNames.rollBack }}\r\n          </image-spotlight-button>\r\n          <image-spotlight-button @click.native=\"cancelArea\">{{\r\n              finalConfiguration.buttonNames.cancelArea\r\n            }}\r\n          </image-spotlight-button>\r\n        </div>\r\n        <div v-else-if=\"editing\">\r\n          <image-spotlight-button type=\"success\" @click.native=\"confirmChange\">{{\r\n              finalConfiguration.buttonNames.confirmChange\r\n            }}\r\n          </image-spotlight-button>\r\n          <image-spotlight-button type=\"warning\" @click.native=\"deleteArea\">{{\r\n              finalConfiguration.buttonNames.deleteArea\r\n            }}\r\n          </image-spotlight-button>\r\n          <image-spotlight-button @click.native=\"cancelChange\">{{\r\n              finalConfiguration.buttonNames.cancelChange\r\n            }}\r\n          </image-spotlight-button>\r\n        </div>\r\n      </div>\r\n      <!-- 编辑区 -->\r\n      <div style=\"margin: 0 8px 8px 8px; background: white;border-radius: 8px\">\r\n        <div v-if=\"!drawing && !editing\">\r\n          <div ref=\"outline-list\" class=\"outlines-list\" :style=\"{background: finalConfiguration.areaListBackground}\">\r\n            <div ref=\"scroll\" class=\"scroll\">\r\n              <div v-for=\"(info, index) in allAreaInfos\" class=\"outlines-item\"\r\n                   :ref=\"'areaListItem-' + index\"\r\n                   :style=\"{background: finalConfiguration.areaListItemBackground}\"\r\n                   @mouseover=\"highlightArea(index)\"\r\n                   @mouseleave=\"recoverArea(index)\"\r\n                   @click=\"editArea(index)\">\r\n                {{ info.name }}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div v-else-if=\"drawing || editing\" style=\"padding: 8px\">\r\n          <div style=\"text-align: center; font-weight: bolder; padding-bottom: 8px\">选区信息</div>\r\n          <div style=\"margin-bottom: 8px\">\r\n            <span v-if=\"finalConfiguration.rule.name.required\" style=\"color: red\">*</span>\r\n            选区名称\r\n            <span v-if=\"areaInfoError.name\" style=\"color: red; font-size: small\">{{\r\n                finalConfiguration.rule.name.info\r\n              }}</span>\r\n          </div>\r\n          <input class=\"base-input input\" style=\"margin-bottom: 8px\" v-model=\"areaInfo.name\"\r\n                 placeholder=\"请输入选区名称\"/>\r\n          <div style=\"margin-bottom: 8px\">\r\n            <span v-if=\"finalConfiguration.rule.description.required\" style=\"color: red\">*</span>\r\n            选区描述\r\n            <span v-if=\"areaInfoError.description\"\r\n                  style=\"color: red; font-size: small\">{{ finalConfiguration.rule.description.info }}</span>\r\n          </div>\r\n          <textarea class=\"base-input textarea\" v-model=\"areaInfo.description\" rows=\"9\" placeholder=\"请输入选区描述\"/>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n</template>\r\n\r\n<style scoped>\r\n* {\r\n  font-family: 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;\r\n}\r\n\r\n.main {\r\n  height: 400px;\r\n  display: flex;\r\n  justify-content: flex-start;\r\n}\r\n\r\n.drawing-area {\r\n  width: 500px;\r\n  height: 400px;\r\n}\r\n\r\n.outlines-list {\r\n  height: 336px;\r\n  border-radius: 8px;\r\n  padding: 4px 4px 4px 8px;\r\n}\r\n\r\n.outlines-list .scroll {\r\n  height: 332px;\r\n  overflow: scroll;\r\n}\r\n\r\n.outlines-item {\r\n  margin: 4px 4px 0 0;\r\n  border-radius: 8px;\r\n  height: 32px;\r\n  width: 160px;\r\n  text-align: left;\r\n  padding-left: 8px;\r\n  line-height: 32px;\r\n  color: #484848;\r\n  background: #e8e8e8;\r\n  cursor: pointer;\r\n  transition: all .2s;\r\n}\r\n\r\n.outlines-item:hover {\r\n  background: #bdbdbd;\r\n}\r\n\r\n.base-input {\r\n  outline: none;\r\n  padding: 4px;\r\n  border-radius: 4px;\r\n  border: 1px solid #D7D8D9;\r\n  font-size: 16px;\r\n}\r\n\r\n.input {\r\n  width: 158px;\r\n}\r\n\r\n.textarea {\r\n  resize: none;\r\n  width: 158px;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=5599453c&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=5599453c&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5599453c\",\n  null\n  \n)\n\nexport default component.exports","//package/index.js\r\nimport ImageSpotlightRender from \"./image-spotlight-render/index.vue\";\r\nimport ImageSpotlightEditor from \"./image-spotlight-editor/index.vue\";\r\n\r\nlet plugins = {};\r\nconst componentArray = [ImageSpotlightRender, ImageSpotlightEditor]\r\n\r\nplugins.install = function (Vue) {\r\n    // 判断是否安装过\r\n    if (plugins.installed) return;\r\n    plugins.installed = true\r\n    //  console.log('plugins.installed==========',plugins.installed)\r\n\r\n    componentArray.forEach((item) => {\r\n        Vue.component(item.name, item)\r\n    })\r\n\r\n}\r\n// /* 支持使用标签的方式引入 */\r\n// if (typeof window !== 'undefined' && window.Vue) {\r\n//     install(window.Vue);\r\n// }\r\n// 也可参考 https://cn.vuejs.org/v2/cookbook/packaging-sfc-for-npm.html\r\n\r\nexport default plugins","import './setPublicPath'\nimport mod from '~entry'\nexport default mod\nexport * from '~entry'\n"],"names":["root","factory","exports","module","require","define","amd","self","this","__WEBPACK_EXTERNAL_MODULE__203__","map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","__webpack_module_cache__","moduleId","cachedModule","undefined","__webpack_modules__","d","definition","key","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","r","Symbol","toStringTag","value","p","window","currentScript","document","src","match","render","_vm","_c","_self","ref","attrs","staticClass","staticStyle","_v","_s","allAreaInfos","length","selectingIndex","name","description","trim","staticRenderFns","isPointInPolygon","point","points","scale","offsetX","offsetY","n","inside","i","j","xi","calRealPosition","x","yi","y","xj","yj","intersect","offset","getImage","accessObjectSafely","object","path","data","JSON","parse","stringify","mergeObjects","object1","object2","mergedObject","isObject","item","Array","isArray","DefaultConfiguration","canvasWidth","canvasHeight","maskBackground","animationTime","showDescriptionBox","descriptionBoxStyle","background","color","TestConfiguration","props","imgUrl","type","String","required","default","allPoints","Number","Boolean","finalConfiguration","img","canvas","context","selecting","cursorPosition","timer","descriptionBox","methods","selfAdaptionImage","aspectRatio","width","height","init","initParameter","canvasPic","$refs","canvasMasking","contextPic","getContext","contextMasking","Image","that","addEventListener","selecting_local","selectingIndex_local","Math","max","refreshCanvas","onload","applyParameter","newWidth","newHeight","drawImage","nextTick","style","top","left","minWidth","minHeight","focusArea","sizeRatio","maskCanvas","createElement","maskCtx","fillStyle","fillRect","globalCompositeOperation","beginPath","moveTo","lineTo","closePath","fill","arc","PI","clearRect","clearInterval","steps","floor","interval","currentStep","showDescription","setInterval","$emit","areaInfo","SafeDistance","offsetHeight","mounted","computed","normalizeComponent","scriptExports","functionalTemplate","injectStyles","scopeId","moduleIdentifier","shadowMode","hook","options","_compiled","functional","_scopeId","$vnode","ssrContext","parent","__VUE_SSR_CONTEXT__","_registeredComponents","add","_ssrRegister","$root","$options","shadowRoot","_injectStyles","originalRender","h","existing","beforeCreate","concat","component","drawing","editing","nativeOn","$event","addArea","apply","arguments","buttonNames","rollBackAreaLatestPoint","rollBack","cancelArea","confirmChange","deleteArea","cancelChange","_e","accomplish","newArea","recoverImagePosition","resetPosition","rule","areaInfoError","info","directives","rawName","expression","domProps","on","target","composing","$set","areaListBackground","_l","index","refInFor","areaListItemBackground","highlightArea","recoverArea","editArea","_t","components","typeStyle","backgroundAfterHover","colorAfterHover","success","warning","button","onmouseover","onmouseout","editingWidth","selectingAreaStyle","lineColor","lineWidth","pointColor","pointRadius","drawingAreaStyle","otherAreaStyle","pattern","backgroundImage","editingAreaBackground","areaListItemBackgroundAfterHover","ImageSpotlightButton","configuration","areaIndex","mouseDown","preDownX","preDownY","push","preventDefault","delta","deltaY","newScale","deltaX","newX","newY","abs","movementX","movementY","initImage","drawAllOutlines","drawAllPoints","drawPoints","selected","radius","drawOutline","strokeStyle","stroke","alert","verifyForm","splice","RegExp","test","plugins","componentArray","install","Vue","installed","forEach"],"sourceRoot":""}